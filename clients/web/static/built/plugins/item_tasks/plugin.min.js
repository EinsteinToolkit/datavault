var girder_plugin_item_tasks=function(t){function e(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(23),e(e.s=78)}([function(t,e){t.exports=girder_lib},function(t,e,i){t.exports=i(0)(0)},function(t,e,i){t.exports=i(0)(2)},function(t,e,i){t.exports=i(0)(1)},,function(t,e,i){t.exports=i(0)(3)},function(t,e,i){t.exports=i(0)(7)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(73),o=function(t){return t&&t.__esModule?t:{default:t}}(s),n=o.default.extend({pageLimit:20,altUrl:"item_task"});e.default=n},function(t,e){t.exports=girder_plugin_jobs},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),n=s(o),a=i(10),r=s(a),l=n.default.Collection.extend({model:r.default,values:function(){var t={};return this.each(function(e){switch(e.get("type")){case"file":t[e.id+"_girderItemId"]=e.value().id;break;case"new-file":case"new-folder":t[e.id+"_girderFolderId"]=e.value().get("folderId"),t[e.id+"_name"]=e.value().get("name");break;case"image":t[e.id+"_girderFileId"]=e.value().id;break;default:t[e.id]=JSON.stringify(e.value())}}),t}});e.default=l},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),n=s(o),a=i(17),r=s(a),l=i(66),c=s(l),d=r.default.Model.extend({initialize:function(t){t=t||{},n.default.defaults(t,{title:t.name||t.id,id:t.name,description:""}),!n.default.has(t,"value")&&n.default.has(t.default||{},"data")&&(t.value=t.default.data),"integer"===t.type&&(t.step=1,n.default.has(t,"min")&&(t.min=Math.ceil(t.min))),this.set(t)},set:function(t,e){var i,s;if(n.default.isString(t)&&(i=t,s=e,e=arguments[2],t={},t[i]=s),n.default.has(t,"value"))try{t.value=this.normalize(t.value)}catch(e){console.warn('Could not normalize value "'+t.value+'"')}if(n.default.has(t,"values"))try{t.values=n.default.map(t.values,n.default.bind(this._normalizeValue,this))}catch(e){console.warn('Could not normalize value in "'+t.values+'"')}return r.default.Model.prototype.set.call(this,t,e)},normalize:function(t){return this.isVector()?this._normalizeVector(t):this._normalizeValue(t)},_normalizeVector:function(t){return""===t?t=[]:n.default.isString(t)&&(t=t.split(",")),n.default.map(t,n.default.bind(this._normalizeValue,this))},_normalizeValue:function(t){return this.isNumeric()?t=parseFloat(t):this.isInteger()?t=parseInt(t):this.isBoolean()?t=!!t:this.isColor()?(n.default.isArray(t)&&(t={r:t[0],g:t[1],b:t[2]}),t=(0,c.default)(t).toHexString()):this.isGirderModel()||(t=t.toString()),t},validate:function(t){return n.default.contains(this.types,t.type)?this.isVector()?this._validateVector(t.value):"new-file"===t.type?this._validateGirderModel(t.value)||(t.fileName?void 0:"No file name provided"):"new-folder"===t.type?this._validateGirderModel(t.value)||(t.fileName?void 0:"No folder name provided"):this.isGirderModel()?this._validateGirderModel(t.value):this._validateValue(t.value):'Invalid type, "'+t.type+'"'},_validateValue:function(t){var e;return this.isNumeric()&&(e=this._validateNumeric(t)),this.isEnumeration()&&!n.default.contains(this.get("values"),this._normalizeValue(t))&&(e="Invalid value choice"),e},_validateVector:function(t){var e;return t=this.normalize(t),e=n.default.chain(t).map(n.default.bind(this._validateValue,this)).reject(n.default.isUndefined).value(),e=0===e.length?void 0:e.join("\n")},_validateNumeric:function(t){var e,i=parseFloat(this.get("min")),s=parseFloat(this.get("max")),o=parseFloat(this.get("step"));return isFinite(t)?t<i||t>s?"Value out of range ["+[i,s]+"]":(i=i||0,e=(t-i)/o,o>0&&Math.abs(Math.round(e)-e)>1e-6?'Value does not satisfy step "'+o+'"':void 0):'Invalid number "'+t+'"'},_validateGirderModel:function(t){var e=t&&t.get&&t.get("_modelType");return t?e?"file"===this.get("type")&&"item"!==e?"Value must be an item":"image"===this.get("type")&&"item"!==e?"Value must be an item":"directory"===this.get("type")&&"folder"!==e?"Value must be a folder":"new-file"===this.get("type")&&"folder"!==e?"Value must be a folder":"new-folder"!==this.get("type")||n.default.contains(["folder","collection","user"],e)?void 0:"Value must be a collection, folder, or user":"Invalid value":"Empty value"},isNumeric:function(){return n.default.contains(["range","integer","number","number-vector","number-enumeration","number-enumeration-multiple","region"],this.get("type"))},isInteger:function(){return"integer"===this.get("type")},isBoolean:function(){return"boolean"===this.get("type")},isVector:function(){return n.default.contains(["number-vector","number-enumeration-multiple","string-vector","string-enumeration-multiple","region"],this.get("type"))},isColor:function(){return"color"===this.get("type")},isEnumeration:function(){return n.default.contains(["number-enumeration","number-enumeration-multiple","string-enumeration","string-enumeration-multiple"],this.get("type"))},isGirderModel:function(){return n.default.contains(["directory","new-folder","file","new-file","image"],this.get("type"))},isFile:function(){return"file"===this.get("type")},value:function(){return this.get("value")},types:["color","range","number","boolean","string","integer","number-vector","string-vector","number-enumeration","number-enumeration-multiple","string-enumeration","string-enumeration-multiple","file","directory","new-file","new-folder","image","region"]});e.default=d},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),n=s(o),a=i(5),r=s(a),l=i(3),c=s(l),d=i(21),u=s(d),h=i(71),p=s(h),f=i(22),m=i(34),g=s(m),v=i(35),b=s(v),_=i(41),y=s(_),k=i(40),x=s(k),w=i(42),C=s(w),T=i(49),S=s(T),E=i(53),M=s(E);i(57),i(54),i(64),i(55),i(65);var A=null,P=c.default.extend({events:{"change input,select":"_input",changeColor:"_input","click .g-select-file-button":"_selectFile"},initialize:function(){var t=this;this.listenTo(this.model,"change",this.change),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"invalid",this.invalid),this.listenTo(u.default,"g:itemTaskWidgetSet:"+this.model.id,function(e){t.model.set("value",e)})},render:function(t,e){var i=this;return this.$(".form-group").removeClass("has-error"),this.model.isValid(),e&&e.norender?this:(this.$el.html(this.template()(this.model.toJSON())),this.$('.g-control-item[data-type="range"] input').slider(),this.$('.g-control-item[data-type="color"] .input-group').colorpicker({}),window.setTimeout(function(){return i.$('.g-control-item[data-type="range"] input').slider("relayout")},0),this)},change:function(){this.render.apply(this,arguments),u.default.trigger("g:itemTaskWidgetChanged:"+this.model.get("type"),this.model),u.default.trigger("g:itemTaskWidgetChanged",this.model)},remove:function(){this.$('.g-control-item[data-type="color"] .input-group').colorpicker("destroy"),this.$('.g-control-item[data-type="range"] input').slider("destroy"),this.$el.empty(),u.default.trigger("g:itemTaskWidgetRemoved:"+this.model.get("type"),this.model),u.default.trigger("g:itemTaskWidgetRemoved",this.model)},invalid:function(){this.$(".form-group").addClass("has-error"),u.default.trigger("g:itemTaskWidgetInvalid:"+this.model.get("type"),this.model),u.default.trigger("g:itemTaskWidgetInvalid",this.model)},_typedef:{range:{template:S.default},color:{template:b.default},string:{template:M.default},number:{template:M.default},integer:{template:M.default},boolean:{template:g.default},"string-vector":{template:M.default},"number-vector":{template:M.default},"string-enumeration":{template:y.default},"string-enumeration-multiple":{template:x.default},"number-enumeration":{template:y.default},"number-enumeration-multiple":{template:x.default},file:{template:C.default},image:{template:C.default},directory:{template:C.default},"new-file":{template:C.default},"new-folder":{template:C.default},region:{template:M.default}},template:function(){var t=this.model.get("type"),e=this._typedef[t];return void 0===e&&(console.warn('Invalid widget type "'+t+'"'),e={}),e.template||r.default.template("")},_input:function(t){var e,i;e=(0,n.default)(t.target),i=e.val(),"checkbox"===e.attr("type")&&(i=e.prop("checked")),this.model.set("value",i,{norender:!0})},_selectFile:function(){var t,e,i=this,s=!1,o=!1,a=!0,l=function(){return n.default.Deferred().resolve().promise()},c=this.model.get("type"),d=function(t,e){var i=n.default.Deferred();return t?i.resolve():i.reject(e),i.promise()};"file"!==c&&"image"!==c||(s=!0,t="Select an item",e='Click on an item to select it, then click "Save"'),"directory"===c&&(t="Select a folder",e='Browse to a directory to select it, then click "Save"'),"new-folder"===c&&(t="Create a new folder",e='Browse to a path, enter a name, then click "Save"',o={label:"Name",placeholder:"Choose a name for the new folder",validate:function(t){return d(t,"Please provide a folder name.")},default:this.model.get("fileName")},l=function(t){var e=t.get("_modelType"),i=r.default.contains(["folder","collection","user"],e);return d(i,"Invalid parent type, please choose a collection, folder, or user.")},a=!1),"new-file"===c&&(t="Create a new item",e='Browse to a path, enter a name, then click "Save"',o={label:"Name",placeholder:"Choose a name for the new item",validate:function(t){return d(t,"Please provide an item name.")},default:this.model.get("fileName")},l=function(t){var e=t.get("_modelType");return d("folder"===e,"Invalid parent type, please choose a folder.")},a=!1);var u=new p.default({el:(0,n.default)("#g-dialog-container"),parentView:this,showItems:s,selectItem:s,root:A||(0,f.getCurrentUser)(),titleText:t,helpText:e,input:o,showPreview:a,validate:l});u.once("g:saved",function(t,e){A=u.root,u.$el.modal("hide"),i.model.set({value:t,fileName:e||t.name()})}).render()}});e.default=P},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(39),n=s(o);i(58);var a=i(14),r=s(a),l=i(11),c=s(l),d=r.default.extend({initialize:function(t){this.title=t.title||"",this.advanced=t.advanced||!1,this.initialValues=t.initialValues||null,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.removeWidget)},render:function(){this.$el.html((0,n.default)({title:this.title,collapsed:this.advanced,id:this.$el.attr("id")})),this.addAll(),this.$(".g-panel-content").collapse({toggle:!1})},addOne:function(t){var e=new c.default({model:t,parentView:this});this.$("form").append(e.render().el)},addAll:function(){this.$("form").children().remove(),this.collection.each(this.addOne,this)},removeWidget:function(t){t.destroy()}});e.default=d},function(t,e,i){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),n=s(o),a=i(70),r=s(a),l=i(15),c=i(7),d=s(c),u=i(47),h=s(u);i(60);var p=n.default.extend({events:{"click .g-execute-task-link":function(e){var i=t(e.currentTarget).data("taskId"),s=this.collection.get(i);this.trigger("g:selected",{task:s})}},initialize:function(t){var e=this;this.itemUrlFunc=t.itemUrlFunc||null,this.collection=t.collection||new d.default,this.paginateWidget=new r.default({collection:this.collection,parentView:this.parentView}),this.listenTo(this.collection,"g:changed",function(){e.render()}),t.collection?this.render():this.collection.fetch()},render:function(){return this.$el.html((0,h.default)({tasks:this.collection.toArray(),itemUrlFunc:this.itemUrlFunc,renderMarkdown:l.renderMarkdown})),this.paginateWidget.setElement(this.$(".g-task-pagination")).render(),this}});e.default=p}).call(e,i(2))},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),n=s(o),a=i(3),r=s(a),l=i(48),c=s(l);i(61);var d=r.default.extend({events:{"show.bs.collapse":"expand","hide.bs.collapse":"collapse","click .g-panel-title-container":"_handleTitleClick"},initialize:function(t){this.spec=t.spec},render:function(){return this.$el.html((0,c.default)(this.spec)),this.$(".g-panel-content").collapse({toggle:!1}),this},expand:function(){this.$(".icon-down-open").attr("class","icon-up-open")},collapse:function(){this.$(".icon-up-open").attr("class","icon-down-open")},_handleTitleClick:function(t){(0,n.default)(t.target).hasClass("g-remove-panel")||(t.stopPropagation(),this.$(".g-panel-content").collapse("toggle"))}});e.default=d},function(t,e,i){t.exports=i(0)(10)},function(t,e,i){t.exports=i(0)(11)},function(t,e,i){t.exports=i(0)(15)},function(t,e,i){t.exports=i(0)(24)},function(t,e,i){t.exports=i(8)(32)},function(t,e,i){t.exports=i(0)(4)},function(t,e,i){t.exports=i(0)(5)},function(t,e,i){t.exports=i(0)(9)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var o=i(2),n=s(o),a=i(5),r=s(a),l=i(22),c=i(74),d=i(76),u=s(d),h=i(69),p=s(h),f=i(75),m=s(f),g=i(77),v=i(19),b=s(v),_=i(25),y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(_),k=i(6),x=s(k);i(27);var w=i(45),C=s(w),T=i(44),S=s(T),E=i(28),M=s(E),A=i(30),P=s(A),N=i(43),L=s(N),I=i(72),F=s(I),H=i(29),V=s(H);(0,g.registerPluginNamespace)("item_tasks",y),(0,c.wrap)(u.default,"initialize",function(t){t.apply(this,arguments),this.defaultNavItems.push({name:"Tasks",icon:"icon-cog-alt",target:"item_tasks"})}),(0,c.wrap)(m.default,"render",function(t){return this.once("g:rendered",function(){var t=this;if(this.$(".g-item-actions-menu").prepend((0,C.default)({_:r.default,item:this.model,currentUser:(0,l.getCurrentUser)()})),this.model.get("createdByJob")){var e=new b.default({_id:this.model.get("createdByJob")});e.fetch({ignoreError:!0}).done(function(){t.$(".g-item-info").append((0,S.default)({job:e}))})}},this),t.call(this)}),m.default.prototype.events["click .g-configure-item-task"]=function(){this.configureTaskDialog||(this.configureTaskDialog=new M.default({model:this.model,parentView:this,el:(0,n.default)("#g-dialog-container")})),this.configureTaskDialog.render()},m.default.prototype.events["click .g-select-item-task"]=function(t){new P.default({el:(0,n.default)("#g-dialog-container"),parentView:this,item:this.model}).once("g:selected",function(t){var e=t.item,i=t.task;x.default.navigate("item_task/"+i.id+"/run?itemId="+e.id,{trigger:!0})},this).render()},(0,c.wrap)(p.default,"render",function(t){return t.call(this),this.$(".g-folder-actions-menu .dropdown-header").after((0,L.default)({parentType:this.parentModel.get("_modelType"),currentUser:(0,l.getCurrentUser)()})),this}),p.default.prototype.events["click .g-create-docker-tasks"]=function(){this.configureTasksDialog||(this.configureTasksDialog=new M.default({model:this.parentModel,parentView:this,el:(0,n.default)("#g-dialog-container")})),this.configureTasksDialog.render()},(0,c.wrap)(F.default,"render",function(t){t.call(this),this.job.has("itemTaskBindings")&&new V.default({className:"g-item-tasks-job-info-container",parentView:this,model:this.job}).render().$el.insertBefore(this.$('.g-job-info-key[property="log"]'))})},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetCollection=e.ItemTaskCollection=void 0;var o=i(7),n=s(o),a=i(9),r=s(a);e.ItemTaskCollection=n.default,e.WidgetCollection=r.default},function(t,e,i){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.views=e.collections=e.models=void 0;var o=i(26),n=s(o),a=i(24),r=s(a),l=i(33),c=s(l);e.models=n,e.collections=r,e.views=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetModel=void 0;var s=i(10),o=function(t){return t&&t.__esModule?t:{default:t}}(s);e.WidgetModel=o.default},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var o=i(2),n=s(o),a=i(5),r=s(a),l=i(6),c=s(l),d=i(21),u=s(d),h=i(18),p=s(h),f=i(19),m=s(f),g=i(31),v=s(g),b=i(32),_=s(b);c.default.route("item_tasks","itemTaskList",function(){u.default.trigger("g:navigateTo",v.default),u.default.trigger("g:highlightItem","TasksView")}),c.default.route("item_task/:id/run",function(t,e){var i=new p.default({_id:t}),s=null,o=null,a=[i.fetch()];e.fromJob&&(s=new m.default({_id:e.fromJob}),a.push(s.fetch())),e.itemId&&(o=new p.default({_id:e.itemId}),a.push(o.fetch())),n.default.when.apply(n.default,a).done(function(){var t={};if(e.fromJob&&s.has("itemTaskBindings")&&(t=s.get("itemTaskBindings")),e.itemId){var n=i.get("meta").itemTaskSpec,a=r.default.where(n.inputs,{type:"file"});if(1===a.length){var l=a[0];t.inputs=t.inputs||{},t.inputs[l.id]={mode:"girder",resource_type:"item",id:e.itemId,fileName:o.name()}}}u.default.trigger("g:navigateTo",_.default,{model:i,initialValues:t},{renderNow:!0})}).fail(function(){c.default.navigate("item_tasks",{trigger:!0,replace:!0})})})},function(t,e,i){"use strict";(function(t){function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(20),n=i(6),a=s(n),r=i(3),l=s(r);i(56),i(16);var c=i(38),d=s(c),u=l.default.extend({events:{"submit .g-configure-docker-form":function(t){t.preventDefault(),this.$(".g-validation-failed-message").empty(),this.$(".g-configure-json-tasks-tab").hasClass("active")?this._submitJson():this._submitSlicerCli()}},initialize:function(){this.isFolder="folder"===this.model.resourceName,this.resourceName=this.isFolder?"folder":"item"},render:function(){var e=this,i=null,s=null,o=null;if(!this.isFolder){var n=this.model.get("meta")||{};if(o=n.itemTaskSlicerCliArgs)try{o=JSON.stringify(o)}catch(t){o=null}i=n.itemTaskSpec&&n.itemTaskSpec.docker_image,s=n.itemTaskName}return this.$el.html((0,d.default)({model:this.model,isFolder:this.isFolder,currentImage:i,currentTaskName:s,currentSlicerCliArgs:o})).girderModal(this).on("shown.bs.modal",function(){e.$("input:first").focus()}),this.$('a[data-toggle="tab"]').on("hide.bs.tab",function(t){e.$(".g-validation-failed-message").text("")}).on("shown.bs.tab",function(i){e.$(t(i.currentTarget).attr("href")+" input:first").focus()}),this},_submitJson:function(){var t=this,e=this.$(".g-configure-docker-image").val().trim(),i=this.$(".g-configure-task-name"),s=this.$(".g-configure-use-name"),n=this.$(".g-configure-use-description"),r={pullImage:this.$(".g-configure-docker-pull-image").is(":checked")};e&&(r.image=e),i.length&&(r.taskName=i.val().trim()),s.length&&(r.setName=s.is(":checked")),n.length&&(r.setDescription=n.is(":checked")),(0,o.restRequest)({url:this.resourceName+"/"+this.model.id+"/item_task_json_description",method:"POST",data:r,error:null}).done(function(t){a.default.navigate("job/"+t._id,{trigger:!0})}).fail(function(e){t.$(".g-validation-failed-message").text(e.responseJSON.message)})},_submitSlicerCli:function(){var t=this,e=this.$(".g-slicer-cli-docker-image").val().trim(),i=this.$(".g-slicer-cli-docker-args").val().trim(),s=this.$(".g-slicer-cli-use-name"),n=this.$(".g-slicer-cli-use-description"),r={pullImage:this.$(".g-slicer-cli-pull-image").is(":checked")};e&&(r.image=e),i&&(r.args=i),s.length&&(r.setName=s.is(":checked")),n.length&&(r.setDescription=n.is(":checked")),(0,o.restRequest)({url:this.resourceName+"/"+this.model.id+"/item_task_slicer_cli_description",method:"POST",data:r,error:null}).done(function(t){a.default.navigate("job/"+t._id,{trigger:!0})}).fail(function(e){t.$(".g-validation-failed-message").text(e.responseJSON.message)})}});e.default=u}).call(e,i(2))},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),n=s(o),a=i(46),r=s(a);i(59);var l=n.default.extend({render:function(){return this.$el.html((0,r.default)({job:this.model})),this}});e.default=l},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),n=s(o);i(67),i(16);var a=i(13),r=s(a),l=i(7),c=s(l),d=i(50),u=s(d),h=i(51),p=s(h);i(62);var f=n.default.extend({events:{"submit #g-select-task-form":function(t){t.preventDefault(),this.$(".g-submit-select-task").girderEnable(!1),this.$el.modal("hide"),this.trigger("g:selected",{task:this.task,item:this.item})}},initialize:function(t){this.item=t.item,this.collection=new c.default,this.collection.pageLimit=5,this.paginateTasksWidget=new r.default({parentView:this,collection:this.collection}).on("g:selected",this._pickTask,this),this.collection.fetch({minFileInputs:1,maxFileInputs:1})},render:function(){return this.$el.html((0,u.default)({item:this.item})).girderModal(this),this.paginateTasksWidget.setElement(this.$(".g-task-list-container")).render(),this.$(".g-submit-select-task").girderEnable(!1),this},_pickTask:function(t){this.task=t.task,this.$(".g-submit-select-task").girderEnable(!0),this.$(".g-task-selected-container").html((0,p.default)({task:this.task}))}});e.default=f},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),n=s(o),a=i(13),r=s(a),l=n.default.extend({initialize:function(){this.paginateWidget=new r.default({el:this.$el,parentView:this,itemUrlFunc:function(t){return"#item_task/"+t.id+"/run"}})}});e.default=l},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),n=s(o),a=i(5),r=s(a),l=i(3),c=s(l),d=i(68),u=s(d),h=i(18),p=s(h),f=i(6),m=s(f),g=i(20),v=i(15),b=i(52),_=s(b);i(63);var y=i(9),k=s(y),x=i(12),w=s(x),C=c.default.extend({events:{"click .g-run-task":"execute"},initialize:function(t){var e=this;this.inputWidgets=new k.default,this.outputWidgets=new k.default;var i=this.model.get("meta").itemTaskSpec||{},s=i.inputs||[],o=i.outputs||[],n=t.initialValues||null,a=n&&n.inputs||{},r=n&&n.outputs||{};this.inputWidgets.add(s.map(function(t){return e._setJobInfo(t,a)})),this.outputWidgets.add(o.map(function(t){return e._setJobInfo(t,r)})),this.inputsPanel=new w.default({title:"Configure inputs",collection:this.inputWidgets,parentView:this}),this.outputsPanel=new w.default({title:"Configure outputs",collection:this.outputWidgets,parentView:this})},_setJobInfo:function(t,e){var i=e[t.id||t.name]||{};return"girder"===i.mode&&"item"===i.resource_type?(t.value=new p.default({_id:i.id,_modelType:"item",name:i.fileName||i.id}),t.fileName=i.fileName||i.id):"girder"===i.mode&&r.default.contains(["folder","collection","user"],i.parent_type)?(t.value=new u.default({_id:i.parent_id,_modelType:"folder"}),t.fileName=i.name||i.id):r.default.has(i,"data")&&(t.value=i.data),t},render:function(){var t=!!this.inputWidgets.length,e=!!this.outputWidgets.length;return this.$el.html((0,_.default)({item:this.model,hasInputs:t,hasOutputs:e,renderMarkdown:v.renderMarkdown})),t&&this.inputsPanel.setElement(this.$(".g-inputs-container")).render(),e&&this.outputsPanel.setElement(this.$(".g-outputs-container")).render(),this},validate:function(){var t=!0,e=function(e){e.isValid()||(t=!1)};return this.inputWidgets.each(e),this.outputWidgets.each(e),t},execute:function(t){var e=this;if(!this.validate())return void this.$(".g-validation-failed-message").text("One or more of your inputs or outputs is invalid, they are highlighted in red.");this.$(".g-validation-failed-message").empty(),(0,n.default)(t.currentTarget).girderEnable(!1);var i={},s={},o=function(t){var e=t.value();switch(t.get("type")){case"image":case"file":return{mode:"girder",resource_type:"item",id:e.id,fileName:t.get("fileName")||null};case"new-file":return{mode:"girder",parent_id:e.id,parent_type:"folder",name:t.get("fileName")};case"new-folder":return{mode:"girder",parent_id:e.id,parent_type:e.get("_modelType"),name:t.get("fileName")};default:return t.isVector()&&(e=e.join(",")),{mode:"inline",data:e}}};this.inputWidgets.each(function(t){i[t.id]=o(t)}),this.outputWidgets.each(function(t){s[t.id]=o(t)}),(0,g.restRequest)({url:"item_task/"+this.model.id+"/execution",method:"POST",data:{inputs:JSON.stringify(i),outputs:JSON.stringify(s)},error:null}).done(function(t){m.default.navigate("job/"+t._id,{trigger:!0})}).fail(function(i){(0,n.default)(t.currentTarget).girderEnable(!0),e.$(".g-validation-failed-message").text("Error: "+i.responseJSON.message)})}});e.default=C},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Panel=e.ControlsPanel=e.ControlWidget=void 0;var o=i(11),n=s(o),a=i(12),r=s(a),l=i(14),c=s(l);e.ControlWidget=n.default,e.ControlsPanel=r.default,e.Panel=c.default},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a,r){i=i+'<div class="form-group g-control-item"'+o.attr("data-type",a,!0,!0)+o.attr("data-control-id",s,!0,!0)+">",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),i=i+'<div class="checkbox"><label class="control-label"'+o.attr("for",s,!0,!0)+"><input"+o.attr("name",n,!0,!0)+' type="checkbox"'+o.attr("id",s,!0,!0)+o.attr("checked",!!r,!0,!0)+">"+o.escape(null==(e=n)?"":e)+"</label></div></div>"}.call(this,"description"in s?s.description:"undefined"!=typeof description?description:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0,"type"in s?s.type:"undefined"!=typeof type?type:void 0,"value"in s?s.value:"undefined"!=typeof value?value:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s={},n=t||{};return function(t,n,a,r,l){s.input=e=function(t,e,s,n){var a=(this&&this.block,this&&this.attributes||{}),r="text";"number"!==e&&"integer"!==e||(r="number"),(e.match(/-vector$/)||"region"===e)&&(n=n.join(",")),i=i+"<input"+o.attrs(o.merge([{class:"form-control",name:o.escape(t),type:o.escape(r),id:o.escape(s),value:o.escape(n)},a]),!0)+">"},i=i+'<div class="form-group g-control-item"'+o.attr("data-type",r,!0,!0)+o.attr("data-control-id",n,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",n,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</label>",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),i+='<div class="input-group">',s.input(a,r,n,l),i+='<div class="input-group-addon"><i></i></div></div></div>'}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"id"in n?n.id:"undefined"!=typeof id?id:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e="",i=t||{};return function(t,i,s){e+=s?"<p>Running this will retrieve the task listing from the specified Docker image.\nA new item will be created for each task, each of which will contain the\ntask specification in its metadata. These items can then be run as tasks via\nthe worker.</p>":"<p>Running this will retrieve the task specification for the specified task\nfrom the specified Docker image. This item's metadata will be updated to\ncontain the task specification. This item can then be run as a task via the\nworker.</p>",e=e+'<div class="form-group"><label>Docker image identifier</label><input class="g-configure-docker-image form-control input-sm" name="docker-image"'+o.attr("value",t,!0,!0)+"></div>",s||(e=e+'<div class="form-group"><label>Task name</label><input class="g-configure-task-name form-control input-sm"'+o.attr("value",i,!0,!0)+'></div><div class="checkbox"><label><input class="g-configure-use-name" type="checkbox" checked>Update the name of this item from the task name</label></div><div class="checkbox"><label><input class="g-configure-use-description" type="checkbox" checked>Update the description of this item from the task description</label></div>'),e+='<div class="checkbox"><label><input class="g-configure-docker-pull-image" type="checkbox" checked>Pull image from Docker Hub</label></div>'}.call(this,"currentImage"in i?i.currentImage:"undefined"!=typeof currentImage?currentImage:void 0,"currentTaskName"in i?i.currentTaskName:"undefined"!=typeof currentTaskName?currentTaskName:void 0,"isFolder"in i?i.isFolder:"undefined"!=typeof isFolder?isFolder:void 0),e}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e="",i=t||{};return function(t,i,s){e+=s?"<p>Running this will retrieve the Slicer/CTK CLI specification output from the\nspecified Docker image. A new item will created for each CLI, each of which\nwill contain the task specification in its metadata. These items can then be\nrun as tasks via the worker.</p>":"<p>Running this will pull and run the specified Docker image in order\nto introspect its Slicer/CTK CLI specification output. Once that output\nis parsed, the information will be transformed into metadata on this\nitem, which can then be used as an item task to run this Slicer CLI\nvia the worker.</p>",e=e+'<div class="form-group"><label>Docker image identifier</label><input class="g-slicer-cli-docker-image form-control input-sm" name="docker-image"'+o.attr("value",t,!0,!0)+'></div><div class="form-group"><label>Arguments to container for listing CLI (optional)</label><p>If the image requires additional arguments to be specified prior\nto <code>--xml</code>, specify them here as a JSON list.</p><input class="g-slicer-cli-docker-args form-control input-sm" name="docker-args"'+o.attr("value",i,!0,!0)+"></div>",s||(e+='<div class="checkbox"><label><input class="g-slicer-cli-use-name" type="checkbox" checked>Update the name of this item from the CLI name</label></div><div class="checkbox"><label><input class="g-slicer-cli-use-description" type="checkbox" checked>Update the description of this item from the CLI description</label></div>'),e+='<div class="checkbox"><label><input class="g-slicer-cli-pull-image" type="checkbox" checked>Pull image from Docker Hub prior to running</label></div>'}.call(this,"currentImage"in i?i.currentImage:"undefined"!=typeof currentImage?currentImage:void 0,"currentSlicerCliArgs"in i?i.currentSlicerCliArgs:"undefined"!=typeof currentSlicerCliArgs?currentSlicerCliArgs:void 0,"isFolder"in i?i.isFolder:"undefined"!=typeof isFolder?isFolder:void 0),e}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,s="",n=t||{};return function(n,a){s+='<div class="modal-dialog g-configure-tasks-dialog"><div class="modal-content"><form class="g-configure-docker-form modal-form" role="form"><div class="modal-header"><button class="close" data-dismiss="modal" aria-hidden="true" type="button">&times;</button><h4 class="modal-title">',s+=n?"Auto-configure task items":"Auto-configure task item",s+='</h4><div class="g-dialog-subtitle">',s+=n?'<i class="icon-folder"></i>':'<i class="icon-doc-text-inv"></i>',s=s+o.escape(null==(e=a.name())?"":e)+'</div></div><div class="modal-body"><ul class="nav nav-tabs"><li class="g-configure-json-tasks-tab active"><a href="#g-configure-json-tasks-tab-content" data-toggle="tab">JSON</a></li><li class="g-configure-slicer-cli-task-tab"><a href="#g-configure-slicer-cli-task-tab-content" data-toggle="tab">Slicer CLI</a></li></ul><div class="tab-content"><div class="tab-pane active" id="g-configure-json-tasks-tab-content">'+(null==(e=i(36).call(this,t))?"":e)+'</div><div class="tab-pane" id="g-configure-slicer-cli-task-tab-content">'+(null==(e=i(37).call(this,t))?"":e)+'</div></div><div class="g-validation-failed-message"></div></div><div class="modal-footer"><a class="btn btn-default" data-dismiss="modal">Close</a><button class="btn btn-success" type="submit"><i class="icon-play"></i> Run</button></div></form></div></div>'}.call(this,"isFolder"in n?n.isFolder:"undefined"!=typeof isFolder?isFolder:void 0,"model"in n?n.model:"undefined"!=typeof model?model:void 0),s}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a){i=i+'<div class="g-panel-title-container"><span class="g-panel-title">'+o.escape(null==(e=a)?"":e)+'</span><span class="g-panel-controls">',i+=t?'<i class="icon-down-open"></i>':'<i class="icon-up-open"></i>',n&&(i=i+'<i class="icon-cancel g-remove-panel"'+o.attr("data-target","#"+s,!0,!0)+"></i>"),i+="</span></div>";var r={};t||(r.class="in"),i=i+"<div"+o.attrs(o.merge([{class:"g-panel-content collapse"},r]),!0)+"><form></form></div>"}.call(this,"collapsed"in s?s.collapsed:"undefined"!=typeof collapsed?collapsed:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"removeButton"in s?s.removeButton:"undefined"!=typeof removeButton?removeButton:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a,r,l,c){i=i+'<div class="form-group g-control-item"'+o.attr("data-type",r,!0,!0)+o.attr("data-control-id",n,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",n,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</label>",s&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=s)?"":e)+"</div>"),i=i+'<select class="form-control"'+o.attr("id",n,!0,!0)+o.attr("name",a,!0,!0)+' multiple="multiple"'+o.attr("size",t.min(c.length,10),!0,!0)+">",function(){var t=c;if("number"==typeof t.length)for(var s=0,n=t.length;s<n;s++){var a=t[s];i=i+"<option"+o.attr("selected",l.includes(a),!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}else{var n=0;for(var s in t){n++;var a=t[s];i=i+"<option"+o.attr("selected",l.includes(a),!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}}}.call(this),i+="</select></div>"}.call(this,"Math"in s?s.Math:"undefined"!=typeof Math?Math:void 0,"description"in s?s.description:"undefined"!=typeof description?description:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0,"type"in s?s.type:"undefined"!=typeof type?type:void 0,"value"in s?s.value:"undefined"!=typeof value?value:void 0,"values"in s?s.values:"undefined"!=typeof values?values:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a,r,l){i=i+'<div class="form-group g-control-item"'+o.attr("data-type",a,!0,!0)+o.attr("data-control-id",s,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",s,!0,!0)+">"+o.escape(null==(e=n)?"":e)+"</label>",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),i=i+'<select class="form-control"'+o.attr("id",s,!0,!0)+o.attr("name",n,!0,!0)+">",function(){var t=l;if("number"==typeof t.length)for(var s=0,n=t.length;s<n;s++){var a=t[s];i=i+"<option"+o.attr("selected",a===r,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}else{var n=0;for(var s in t){n++;var a=t[s];i=i+"<option"+o.attr("selected",a===r,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}}}.call(this),i+="</select></div>"}.call(this,"description"in s?s.description:"undefined"!=typeof description?description:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0,"type"in s?s.type:"undefined"!=typeof type?type:void 0,"value"in s?s.value:"undefined"!=typeof value?value:void 0,"values"in s?s.values:"undefined"!=typeof values?values:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s={},n=t||{};return function(t,n,a,r,l,c){s.input=e=function(t,e,s,n){var a=(this&&this.block,this&&this.attributes||{}),r="text";"number"!==e&&"integer"!==e||(r="number"),(e.match(/-vector$/)||"region"===e)&&(n=n.join(",")),i=i+"<input"+o.attrs(o.merge([{class:"form-control",name:o.escape(t),type:o.escape(r),id:o.escape(s),value:o.escape(n)},a]),!0)+">"},i=i+'<div class="form-group g-control-item"'+o.attr("data-type",l,!0,!0)+o.attr("data-control-id",a,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",a,!0,!0)+">"+o.escape(null==(e=r)?"":e)+"</label>",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),i+='<div class="input-group">\x3c!-- ignore invalid values, let the validation handle it--\x3e';var d;c&&c.name?d=c.name():c=null,i+="\x3c!-- different behavior for different types of inputs--\x3e","file"===l||"image"===l?s.input.call({attributes:{placeholder:"Choose an item...",readonly:!0}},r,l,a,d):"directory"===l?s.input.call({attributes:{placeholder:"Choose a folder...",readonly:!0}},r,l,a,d):"new-file"===l?s.input.call({attributes:{placeholder:"Choose an item...",readonly:!0}},r,l,a,n):"new-folder"===l&&s.input.call({attributes:{placeholder:"Choose a folder...",readonly:!0}},r,l,a,n),i+='<span class="input-group-btn"><button class="btn btn-default g-select-file-button" type="button"><i class="icon-folder-open"></i></button></span></div></div>'}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"fileName"in n?n.fileName:"undefined"!=typeof fileName?fileName:void 0,"id"in n?n.id:"undefined"!=typeof id?id:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e="",i=t||{};return function(t,i){var s=!1;"folder"===i&&t&&t.get("admin")&&(s=!0,e+='<li role="presentation"><a class="g-create-docker-tasks" role="menuitem"><i class="icon-cube"></i>Add tasks</a></li>'),s&&(e+='<li class="divider" role="presentation"></li>')}.call(this,"currentUser"in i?i.currentUser:"undefined"!=typeof currentUser?currentUser:void 0,"parentType"in i?i.parentType:"undefined"!=typeof parentType?parentType:void 0),e}i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t){i=i+'<div class="g-item-created-by-job g-info-list-entry"><i class="icon-tasks"></i>Created by job&nbsp;<a'+o.attr("href","#job/"+t.id,!0,!0)+">"+o.escape(null==(e=t.get("title"))?"":e)+"</a></div>"}.call(this,"job"in s?s.job:"undefined"!=typeof job?job:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e="",i=t||{};return function(t,i,s){var n=!1;t.has(s.get("meta"),"itemTaskSpec")&&(n=!0,e=e+'<li role="presentation"><a role="menuitem"'+o.attr("href","#item_task/"+s.id+"/run",!0,!0)+'><i class="icon-play"></i>Run this task</a></li>'),i&&i.get("admin")&&(n=!0,e+='<li role="presentation"><a class="g-configure-item-task" role="menuitem"><i class="icon-cube"></i>Configure task</a></li><li role="presentation"><a class="g-select-item-task" role="menuitem"><i class="icon-cog"></i>Run task on item</a></li>'),n&&(e+='<li class="divider" role="presentation"></li>')}.call(this,"_"in i?i._:"undefined"!=typeof _?_:void 0,"currentUser"in i?i.currentUser:"undefined"!=typeof currentUser?currentUser:void 0,"item"in i?i.item:"undefined"!=typeof item?item:void 0),e}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s){i+='<div class="g-item-task-inputs-container"><div class="g-job-info-key" property="inputs">Inputs:</div><ul>',function(){var n=s.get("itemTaskBindings").inputs||{};if("number"==typeof n.length)for(var a=0,r=n.length;a<r;a++){var l=n[a];i=i+'<li><b class="g-input-name">'+o.escape(null==(e=a)?"":e)+":&nbsp;</b>","inline"===l.mode?i=i+'<span class="g-input-value"'+o.attr("input-id",a,!0,!0)+">"+o.escape(null==(e=t.stringify(l.data))?"":e)+"</span>":"girder"===l.mode&&(i=i+'<a class="g-input-value"'+o.attr("input-id",a,!0,!0)+o.attr("href","#"+(l.resource_type||"file")+"/"+l.id,!0,!0)+">View "+o.escape(null==(e=l.resource_type)?"":e)+"</a>"),i+="</li>"}else{var r=0;for(var a in n){r++;var l=n[a];i=i+'<li><b class="g-input-name">'+o.escape(null==(e=a)?"":e)+":&nbsp;</b>","inline"===l.mode?i=i+'<span class="g-input-value"'+o.attr("input-id",a,!0,!0)+">"+o.escape(null==(e=t.stringify(l.data))?"":e)+"</span>":"girder"===l.mode&&(i=i+'<a class="g-input-value"'+o.attr("input-id",a,!0,!0)+o.attr("href","#"+(l.resource_type||"file")+"/"+l.id,!0,!0)+">View "+o.escape(null==(e=l.resource_type)?"":e)+"</a>"),i+="</li>"}}}.call(this),i+='</ul></div><div class="g-item-task-outputs-container"><div class="g-job-info-key" property="outputs">Outputs:</div><ul>',function(){var t=s.get("itemTaskBindings").outputs||{};if("number"==typeof t.length)for(var n=0,a=t.length;n<a;n++){var r=t[n];i=i+'<li><b class="g-output-name">'+o.escape(null==(e=n)?"":e)+":&nbsp;</b>","girder"===r.mode&&(i="itemId"in r?i+'<a class="g-output-value"'+o.attr("href","#item/"+r.itemId,!0,!0)+">View output item</a>":i+"<span>Not created &mdash;&nbsp;</span><a"+o.attr("href","#"+(r.parent_type||"folder")+"/"+r.parent_id,!0,!0)+">view destination</a>"),i+="</li>"}else{var a=0;for(var n in t){a++;var r=t[n];i=i+'<li><b class="g-output-name">'+o.escape(null==(e=n)?"":e)+":&nbsp;</b>","girder"===r.mode&&(i="itemId"in r?i+'<a class="g-output-value"'+o.attr("href","#item/"+r.itemId,!0,!0)+">View output item</a>":i+"<span>Not created &mdash;&nbsp;</span><a"+o.attr("href","#"+(r.parent_type||"folder")+"/"+r.parent_id,!0,!0)+">view destination</a>"),i+="</li>"}}}.call(this),i=i+'</ul></div><div class="g-item-task-setup-again"><a'+o.attr("href","#item_task/"+s.get("itemTaskId")+"/run?fromJob="+s.id,!0,!0)+'><i class="icon-play"></i> Configure and run task again from these parameters</a></div>'}.call(this,"JSON"in s?s.JSON:"undefined"!=typeof JSON?JSON:void 0,"job"in s?s.job:"undefined"!=typeof job?job:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n){i+='<div class="g-task-list-header"><div class="g-task-pagination"></div></div><div class="g-task-list-container list-group">',function(){var a=n;if("number"==typeof a.length)for(var r=0,l=a.length;r<l;r++){var c=a[r];i=i+'<div class="g-execute-task-link-wrapper list-group-item"><a class="g-execute-task-link list-group-item-heading"'+o.attr("data-task-id",c.id,!0,!0)+o.attr("href",t&&t(c),!0,!0)+">"+o.escape(null==(e=c.name())?"":e)+'</a><div class="g-execute-task-link-body list-group-item-text">'+(null==(e=s(c.get("description")))?"":e)+"</div></div>"}else{var l=0;for(var r in a){l++;var c=a[r];i=i+'<div class="g-execute-task-link-wrapper list-group-item"><a class="g-execute-task-link list-group-item-heading"'+o.attr("data-task-id",c.id,!0,!0)+o.attr("href",t&&t(c),!0,!0)+">"+o.escape(null==(e=c.name())?"":e)+'</a><div class="g-execute-task-link-body list-group-item-text">'+(null==(e=s(c.get("description")))?"":e)+"</div></div>"}}}.call(this),i+="</div>"}.call(this,"itemUrlFunc"in s?s.itemUrlFunc:"undefined"!=typeof itemUrlFunc?itemUrlFunc:void 0,"renderMarkdown"in s?s.renderMarkdown:"undefined"!=typeof renderMarkdown?renderMarkdown:void 0,"tasks"in s?s.tasks:"undefined"!=typeof tasks?tasks:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a){i=i+'<div class="g-panel-title-container"><span class="g-panel-title">'+o.escape(null==(e=a)?"":e)+'</span><span class="g-panel-controls">',i+=t?'<i class="icon-down-open"></i>':'<i class="icon-up-open"></i>',n&&(i=i+'<i class="icon-cancel g-remove-panel"'+o.attr("data-target","#"+s,!0,!0)+"></i>"),i+="</span></div>";var r={};t||(r.class="in"),i=i+"<div"+o.attrs(o.merge([{class:"g-panel-content collapse"},r]),!0)+"></div>"}.call(this,"collapsed"in s?s.collapsed:"undefined"!=typeof collapsed?collapsed:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"removeButton"in s?s.removeButton:"undefined"!=typeof removeButton?removeButton:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s={},n=t||{};return function(t,n,a,r,l,c,d,u){s.input=e=function(t,e,s,n){var a=(this&&this.block,this&&this.attributes||{}),r="text";"number"!==e&&"integer"!==e||(r="number"),(e.match(/-vector$/)||"region"===e)&&(n=n.join(",")),i=i+"<input"+o.attrs(o.merge([{class:"form-control",name:o.escape(t),type:o.escape(r),id:o.escape(s),value:o.escape(n)},a]),!0)+">"},i=i+'<div class="form-group g-control-item"'+o.attr("data-type",d,!0,!0)+o.attr("data-control-id",n,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",n,!0,!0)+">"+o.escape(null==(e=c)?"":e)+"</label>",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),s.input.call({attributes:{"data-slider-min":o.escape(r||0),"data-slider-max":o.escape(a||1),"data-slider-step":o.escape(l||1),"data-slider-value":o.escape(u||r||0)}},c,d,n,u),i+="</div>"}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"id"in n?n.id:"undefined"!=typeof id?id:void 0,"max"in n?n.max:"undefined"!=typeof max?max:void 0,"min"in n?n.min:"undefined"!=typeof min?min:void 0,"step"in n?n.step:"undefined"!=typeof step?step:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e="";return e+='<div class="modal-dialog"><div class="modal-content"><form class="modal-form" id="g-select-task-form" role="form"><div class="modal-header"><button class="close" data-dismiss="modal" aria-hidden="true" type="button">&times;</button><h4 class="modal-title">Select Task</h4></div><div class="modal-body"><div class="g-task-container"><div class="g-task-list-container"></div><hr><h4>Selected task</h4><div class="g-task-selected-container">No task selected</div></div><div class="g-validation-failed-message"></div></div><div class="modal-footer"><a class="btn btn-small btn-default" data-dismiss="modal">Close</a><button class="g-submit-select-task btn btn-small btn-primary" type="submit"> Configure</button></div></form></div></div>'}i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t){i=i+'<div class="g-selected-task"><h4 class="g-selected-task-name">'+o.escape(null==(e=t.name())?"":e)+"</h4></div>"}.call(this,"task"in s?s.task:"undefined"!=typeof task?task:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s=t||{};return function(t,s,n,a){i=i+'<div class="g-body-title">Run task <a'+o.attr("href","#item/"+n.id,!0,!0)+">"+o.escape(null==(e=n.name())?"":e)+"</a></div>",n.get("description")&&(i=i+'<div class="g-task-description-container">'+(null==(e=a(n.get("description")))?"":e)+"</div>"),i+='<div class="g-panel-group g-task-setup-container">',t&&(i+='<div class="g-inputs-container g-panel"></div>'),s&&(i+='<div class="g-outputs-container g-panel"></div>'),i+='</div><div class="g-run-container"><div class="g-validation-failed-message"></div><button class="g-run-task btn btn-lg btn-success"><i class="icon-play"></i> Execute task</button></div>'}.call(this,"hasInputs"in s?s.hasInputs:"undefined"!=typeof hasInputs?hasInputs:void 0,"hasOutputs"in s?s.hasOutputs:"undefined"!=typeof hasOutputs?hasOutputs:void 0,"item"in s?s.item:"undefined"!=typeof item?item:void 0,"renderMarkdown"in s?s.renderMarkdown:"undefined"!=typeof renderMarkdown?renderMarkdown:void 0),i}var o=i(1);t.exports=s},function(t,e,i){"use strict";function s(t){var e,i="",s={},n=t||{};return function(t,n,a,r,l,c,d,u){s.input=e=function(t,e,s,n){var a=(this&&this.block,this&&this.attributes||{}),r="text";"number"!==e&&"integer"!==e||(r="number"),(e.match(/-vector$/)||"region"===e)&&(n=n.join(",")),i=i+"<input"+o.attrs(o.merge([{class:"form-control",name:o.escape(t),type:o.escape(r),id:o.escape(s),value:o.escape(n)},a]),!0)+">"},i=i+'<div class="form-group g-control-item"'+o.attr("data-type",d,!0,!0)+o.attr("data-control-id",n,!0,!0)+'><label class="g-control-widget-label control-label"'+o.attr("for",n,!0,!0)+">"+o.escape(null==(e=c)?"":e)+"</label>",t&&(i=i+'<div class="g-control-widget-description">'+o.escape(null==(e=t)?"":e)+"</div>"),s.input.call({attributes:{min:o.escape(r),max:o.escape(a),step:o.escape(l)}},c,d,n,u),i+="</div>"}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"id"in n?n.id:"undefined"!=typeof id?id:void 0,"max"in n?n.max:"undefined"!=typeof max?max:void 0,"min"in n?n.min:"undefined"!=typeof min?min:void 0,"step"in n?n.step:"undefined"!=typeof step?step:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),i}var o=i(1);t.exports=s},function(t,e,i){(function(e){!function(i){"use strict";t.exports=i(e)}(function(t){"use strict";var e=function(e,i){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,i&&t.extend(this.colors,i),e&&(void 0!==e.toLowerCase?(e+="",this.setColor(e)):void 0!==e.h&&(this.value=e))};e.prototype={constructor:e,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:""===t?0:void 0!==t.toLowerCase?(t.match(/^\./)&&(t="0"+t),Math.ceil(100*parseFloat(t))/100):1},isTransparent:function(t){return!!t&&("transparent"===(t=t.toLowerCase().trim())||t.match(/#?00000000/)||t.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(t){return 0===t.r&&0===t.g&&0===t.b&&0===t.a},setColor:function(t){(t=t.toLowerCase().trim())&&(this.isTransparent(t)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(t)||{h:0,s:0,b:0,a:1})},stringToHSB:function(e){e=e.toLowerCase();var i;void 0!==this.colors[e]&&(e=this.colors[e],i="alias");var s=this,o=!1;return t.each(this.stringParsers,function(t,n){var a=n.re.exec(e),r=a&&n.parse.apply(s,[a]),l=i||n.format||"rgba";return!r||(o=l.match(/hsla?/)?s.RGBtoHSB.apply(s,s.HSLtoRGB.apply(s,r)):s.RGBtoHSB.apply(s,r),s.origFormat=l,!1)}),o},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=Math.round(parseInt(100*(1-t),10)/100*100)/100},toRGB:function(t,e,i,s){t||(t=this.value.h,e=this.value.s,i=this.value.b),t*=360;var o,n,a,r,l;return t=t%360/60,l=i*e,r=l*(1-Math.abs(t%2-1)),o=n=a=i-l,t=~~t,o+=[l,r,0,0,r,l][t],n+=[r,l,l,r,0,0][t],a+=[0,0,r,l,l,r][t],{r:Math.round(255*o),g:Math.round(255*n),b:Math.round(255*a),a:s||this.value.a}},toHex:function(t,e,i,s){var o=this.toRGB(t,e,i,s);return this.rgbaIsTransparent(o)?"transparent":"#"+(1<<24|parseInt(o.r)<<16|parseInt(o.g)<<8|parseInt(o.b)).toString(16).substr(1)},toHSL:function(t,e,i,s){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,s=s||this.value.a;var o=t,n=(2-e)*i,a=e*i;return a/=n>0&&n<=1?n:2-n,n/=2,a>1&&(a=1),{h:isNaN(o)?0:o,s:isNaN(a)?0:a,l:isNaN(n)?0:n,a:isNaN(s)?0:s}},toAlias:function(t,e,i,s){var o=this.toHex(t,e,i,s);for(var n in this.colors)if(this.colors[n]===o)return n;return!1},RGBtoHSB:function(t,e,i,s){t/=255,e/=255,i/=255;var o,n,a,r;return a=Math.max(t,e,i),r=a-Math.min(t,e,i),o=0===r?null:a===t?(e-i)/r:a===e?(i-t)/r+2:(t-e)/r+4,o=(o+360)%6*60/360,n=0===r?0:r/a,{h:this._sanitizeNumber(o),s:n,b:a,a:this._sanitizeNumber(s)}},HueToRGB:function(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,s){e<0&&(e=0);var o;o=i<=.5?i*(1+e):i+e-i*e;var n=2*i-o,a=t+1/3,r=t,l=t-1/3;return[Math.round(255*this.HueToRGB(n,o,a)),Math.round(255*this.HueToRGB(n,o,r)),Math.round(255*this.HueToRGB(n,o,l)),this._sanitizeNumber(s)]},toString:function(t){t=t||"rgba";var e=!1;switch(t){case"rgb":return e=this.toRGB(),this.rgbaIsTransparent(e)?"transparent":"rgb("+e.r+","+e.g+","+e.b+")";case"rgba":return e=this.toRGB(),"rgba("+e.r+","+e.g+","+e.b+","+e.a+")";case"hsl":return e=this.toHSL(),"hsl("+Math.round(360*e.h)+","+Math.round(100*e.s)+"%,"+Math.round(100*e.l)+"%)";case"hsla":return e=this.toHSL(),"hsla("+Math.round(360*e.h)+","+Math.round(100*e.s)+"%,"+Math.round(100*e.l)+"%,"+e.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return e}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}}],colorNameToHex:function(t){return void 0!==this.colors[t.toLowerCase()]&&this.colors[t.toLowerCase()]}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},s=function(s,o){if(this.element=t(s).addClass("colorpicker-element"),this.options=t.extend(!0,{},i,this.element.data(),o),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&t(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new e(!1!==this.options.color?this.options.color:this.getValue(),this.options.colorSelectors),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=t(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format&&!1!==this.options.format||this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),!0===this.options.inline&&this.picker.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var n=this;t.each(this.options.colorSelectors,function(e,i){var s=t("<i />").css("background-color",i).data("class",e);s.click(function(){n.setValue(t(this).css("background-color"))}),n.picker.find(".colorpicker-selectors").append(s)}),this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",t.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:t("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":t.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":t.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":t.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":t.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":t.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":t.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":t.proxy(this.show,this),"focus.colorpicker":t.proxy(this.show,this)}),this.update(),t(t.proxy(function(){this.element.trigger("create")},this))};s.Color=e,s.prototype={constructor:s,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var t=this.container&&this.container[0]!==document.body?"position":"offset",e=this.component||this.element,i=e[t]();"right"===this.options.align&&(i.left-=this.picker.outerWidth()-e.outerWidth()),this.picker.css({top:i.top+e.outerHeight(),left:i.left})},show:function(e){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),t(window).on("resize.colorpicker",t.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!this.component&&this.input||!1!==this.options.inline||t(window.document).on({"mousedown.colorpicker":t.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),t(window).off("resize.colorpicker",this.reposition),t(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(this.format),this.element.data("color",t),t},updateInput:function(t){if(t=t||this.color.toString(this.format),!1!==this.input){if(this.options.colorSelectors){var i=new e(t,this.options.colorSelectors),s=i.toAlias();void 0!==this.options.colorSelectors[s]&&(t=s)}this.input.prop("value",t)}return t},updatePicker:function(t){void 0!==t&&(this.color=new e(t,this.options.colorSelectors));var i=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,s=this.picker.find("i");if(0!==s.length)return!1===this.options.horizontal?(i=this.options.sliders,s.eq(1).css("top",i.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",i.alpha.maxTop*(1-this.color.value.a))):(i=this.options.slidersHorz,s.eq(1).css("left",i.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",i.alpha.maxLeft*(1-this.color.value.a))),s.eq(0).css({top:i.saturation.maxTop-this.color.value.b*i.saturation.maxTop,left:this.color.value.s*i.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),t},updateComponent:function(t){if(t=t||this.color.toString(this.format),!1!==this.component){var e=this.component.find("i").eq(0);e.length>0?e.css({backgroundColor:t}):this.component.css({backgroundColor:t})}return t},update:function(t){var e;return!1===this.getValue(!1)&&!0!==t||(e=this.updateComponent(),this.updateInput(e),this.updateData(e),this.updatePicker()),e},setValue:function(t){this.color=new e(t,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:t})},getValue:function(t){t=void 0===t?"#000000":t;var e;return e=this.hasInput()?this.input.val():this.element.data("color"),void 0!==e&&""!==e&&null!==e||(e=t),e},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var i=t(e.target),s=i.closest("div"),o=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!s.is(".colorpicker")){if(s.is(".colorpicker-saturation"))this.currentSlider=t.extend({},o.saturation);else if(s.is(".colorpicker-hue"))this.currentSlider=t.extend({},o.hue);else{if(!s.is(".colorpicker-alpha"))return!1;this.currentSlider=t.extend({},o.alpha)}var n=s.offset();this.currentSlider.guide=s.find("i")[0].style,this.currentSlider.left=e.pageX-n.left,this.currentSlider.top=e.pageY-n.top,this.mousePointer={left:e.pageX,top:e.pageY},t(document).on({"mousemove.colorpicker":t.proxy(this.mousemove,this),"touchmove.colorpicker":t.proxy(this.mousemove,this),"mouseup.colorpicker":t.proxy(this.mouseup,this),"touchend.colorpicker":t.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&!1===this.options.format&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(t){this.keyup(t)},keyup:function(t){38===t.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===t.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new e(this.input.val(),this.options.colorSelectors),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},t.colorpicker=s,t.fn.colorpicker=function(e){var i=Array.prototype.slice.call(arguments,1),o=1===this.length,n=null,a=this.each(function(){var o=t(this),a=o.data("colorpicker"),r="object"==typeof e?e:{};a||(a=new s(this,r),o.data("colorpicker",a)),"string"==typeof e?t.isFunction(a[e])?n=a[e].apply(a,i):(i.length&&(a[e]=i[0]),n=a[e]):n=o});return o?n:a},t.fn.colorpicker.constructor=s})}).call(e,i(2))},function(t,e,i){"use strict";var s,o,n;!function(a){o=[i(2)],s=a,void 0!==(n="function"==typeof s?s.apply(e,o):s)&&(t.exports=n)}(function(t){var e;return function(t){function e(){}var i=Array.prototype.slice;!function(t){function s(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,s){t.fn[e]=function(o){if("string"==typeof o){for(var a=i.call(arguments,1),r=0,l=this.length;r<l;r++){var c=this[r],d=t.data(c,e);if(d)if(t.isFunction(d[o])&&"_"!==o.charAt(0)){var u=d[o].apply(d,a);if(void 0!==u&&u!==d)return u}else n("no such method '"+o+"' for "+e+" instance");else n("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var h=this.map(function(){var i=t.data(this,e);return i?(i.option(o),i._init()):(i=new s(this,o),t.data(this,e,i)),t(this)});return!h||h.length>1?h:h[0]}}if(t){var n="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){s(e),o(t,e)},t.bridget}}(t)}(t),function(t){function i(e,i){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var s=Object.keys(this.defaultOptions),n=0;n<s.length;n++){var a=s[n],r=i[a];r=void 0!==r?r:function(t,e){var i="data-slider-"+e.replace(/_/g,"-"),s=t.getAttribute(i);try{return JSON.parse(s)}catch(t){return s}}(this.element,a),r=null!==r?r:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=r}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var l,c,d,u,h,p=this.element.style.width,f=!1,m=this.element.parentNode;if(this.sliderElem)f=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");g.className="slider-track",c=document.createElement("div"),c.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",d=document.createElement("div"),d.className="slider-track-high",u=document.createElement("div"),u.className="slider-handle min-slider-handle",u.setAttribute("role","slider"),u.setAttribute("aria-valuemin",this.options.min),u.setAttribute("aria-valuemax",this.options.max),h=document.createElement("div"),h.className="slider-handle max-slider-handle",h.setAttribute("role","slider"),h.setAttribute("aria-valuemin",this.options.min),h.setAttribute("aria-valuemax",this.options.max),g.appendChild(c),g.appendChild(l),g.appendChild(d);var v=Array.isArray(this.options.labelledby);if(v&&this.options.labelledby[0]&&u.setAttribute("aria-labelledby",this.options.labelledby[0]),v&&this.options.labelledby[1]&&h.setAttribute("aria-labelledby",this.options.labelledby[1]),!v&&this.options.labelledby&&(u.setAttribute("aria-labelledby",this.options.labelledby),h.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(n=0;n<this.options.ticks.length;n++){var b=document.createElement("div");b.className="slider-tick",this.ticks.push(b),g.appendChild(b)}l.className+=" tick-slider-selection"}if(g.appendChild(u),g.appendChild(h),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var _=document.createElement("div"),y=0===this.options.ticks_positions.length,k=this.options.reversed&&y?this.options.ticks_labels.length-(n+1):n;_.className="slider-tick-label",_.innerHTML=this.options.ticks_labels[k],this.tickLabels.push(_),this.tickLabelContainer.appendChild(_)}var x=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},w=document.createElement("div");w.className="tooltip tooltip-main",w.setAttribute("role","presentation"),x(w);var C=document.createElement("div");C.className="tooltip tooltip-min",C.setAttribute("role","presentation"),x(C);var T=document.createElement("div");T.className="tooltip tooltip-max",T.setAttribute("role","presentation"),x(T),this.sliderElem.appendChild(g),this.sliderElem.appendChild(w),this.sliderElem.appendChild(C),this.sliderElem.appendChild(T),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===f&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=c||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=u||this.handle1,this.handle2=h||this.handle2,!0===f)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var s={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var s,o,n,a=0,r=1;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){s=this.options.ticks[r-1],n=this.options.ticks_positions[r-1],o=this.options.ticks[r],a=this.options.ticks_positions[r];break}e=s+(t-n)/(a-n)*(o-s),i=!1}var l=i?this.options.min:0,c=l+Math.round(e/this.options.step)*this.options.step;return c<this.options.min?this.options.min:c>this.options.max?this.options.max:c},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,s,o=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){e=n>0?this.options.ticks[n-1]:0,s=n>0?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],o=this.options.ticks_positions[n];break}if(n>0){return s+(t-e)/(i-e)*(o-s)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),s=Math.exp(e+(i-e)*t/100);return s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step,s<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};if(e=function(t,e){return i.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null,labelledby:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var s=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var n=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(n),!0===e&&this._trigger("slide",n),s!==n&&!0===i&&this._trigger("change",{oldValue:s,newValue:n}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var s=0;s<i.length;s++)if(i[s]===e){i.splice(s,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];this.eventToCallbackMap[i]=null}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e="vertical"===this.options.orientation?"height":"width",i="vertical"===this.options.orientation?"marginTop":"marginLeft",s=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var o=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[i]=-s/2+"px"),o=this.tickLabelContainer.offsetHeight;else for(n=0;n<this.tickLabelContainer.childNodes.length;n++)this.tickLabelContainer.childNodes[n].offsetHeight>o&&(o=this.tickLabelContainer.childNodes[n].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=o+"px")}for(var n=0;n<this.options.ticks.length;n++){var a=this.options.ticks_positions[n]||this._toPercentage(this.options.ticks[n]);this.options.reversed&&(a=100-a),this.ticks[n].style[this.stylePos]=a+"%",this._removeClass(this.ticks[n],"in-selection"),this.options.range?a>=t[0]&&a<=t[1]&&this._addClass(this.ticks[n],"in-selection"):"after"===this.options.selection&&a>=t[0]?this._addClass(this.ticks[n],"in-selection"):"before"===this.options.selection&&a<=t[0]&&this._addClass(this.ticks[n],"in-selection"),this.tickLabels[n]&&(this.tickLabels[n].style[e]=s+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[n]?(this.tickLabels[n].style.position="absolute",this.tickLabels[n].style[this.stylePos]=a+"%",this.tickLabels[n].style[i]=-s/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[n].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var r;if(this.options.range){r=this.options.formatter(this._state.value),this._setText(this.tooltipInner,r),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var l=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,l);var c=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,c),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else r=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,r),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var d=this.tooltip_min.getBoundingClientRect(),u=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?d.right>u.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):d.right>u.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),s=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<s?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(s||o)&&(i=-i)}var n=this._state.value[t]+i*this.options.step;return this.options.range&&(n=[t?this._state.value[0]:n,t?n:this._state.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._setDataVal(n),this._trigger("slideStop",n),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],s=0;s<this.options.ticks.length;s++){var o=Math.abs(this.options.ticks[s]-e);o<=i[1]&&(i=[this.options.ticks[s],o])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],i=this._state.offset[this.stylePos],s=e-i,o=s/this._state.size*100;return o=Math.round(o/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(o=100-o),Math.max(0,Math.min(100,o))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(s.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var s=this.eventToCallbackMap[e];if(s&&s.length)for(var o=0;o<s.length;o++){var n=s[o];n(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),s=t.className,o=0;o<i.length;o++){var n=i[o],a=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(a," ")}t.className=s.trim()},_addClass:function(t,e){for(var i=e.split(" "),s=t.className,o=0;o<i.length;o++){var n=i[o];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(s)||(s+=" "+n)}t.className=s.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,i,s){if(t)t.style(e,i,s);else{var o=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[o]=s}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",i="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t){var n=t.fn.slider?"bootstrapSlider":"slider";t.bridget(n,e),t(function(){t("input[data-provide=slider]")[n]()})}}(t),e})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){var s;!function(o){function n(t,e){if(t=t||"",e=e||{},t instanceof n)return t;if(!(this instanceof n))return new n(t,e);var i=a(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=W(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=W(this._r)),this._g<1&&(this._g=W(this._g)),this._b<1&&(this._b=W(this._b)),this._ok=i.ok,this._tc_id=B++}function a(t){var e={r:0,g:0,b:0},i=1,s=null,o=null,n=null,a=!1,l=!1;return"string"==typeof t&&(t=j(t)),"object"==typeof t&&(z(t.r)&&z(t.g)&&z(t.b)?(e=r(t.r,t.g,t.b),a=!0,l="%"===String(t.r).substr(-1)?"prgb":"rgb"):z(t.h)&&z(t.s)&&z(t.v)?(s=H(t.s),o=H(t.v),e=u(t.h,s,o),a=!0,l="hsv"):z(t.h)&&z(t.s)&&z(t.l)&&(s=H(t.s),n=H(t.l),e=c(t.h,s,n),a=!0,l="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=M(i),{ok:a,format:t.format||l,r:q(255,U(e.r,0)),g:q(255,U(e.g,0)),b:q(255,U(e.b,0)),a:i}}function r(t,e,i){return{r:255*A(t,255),g:255*A(e,255),b:255*A(i,255)}}function l(t,e,i){t=A(t,255),e=A(e,255),i=A(i,255);var s,o,n=U(t,e,i),a=q(t,e,i),r=(n+a)/2;if(n==a)s=o=0;else{var l=n-a;switch(o=r>.5?l/(2-n-a):l/(n+a),n){case t:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-t)/l+2;break;case i:s=(t-e)/l+4}s/=6}return{h:s,s:o,l:r}}function c(t,e,i){function s(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var o,n,a;if(t=A(t,360),e=A(e,100),i=A(i,100),0===e)o=n=a=i;else{var r=i<.5?i*(1+e):i+e-i*e,l=2*i-r;o=s(l,r,t+1/3),n=s(l,r,t),a=s(l,r,t-1/3)}return{r:255*o,g:255*n,b:255*a}}function d(t,e,i){t=A(t,255),e=A(e,255),i=A(i,255);var s,o,n=U(t,e,i),a=q(t,e,i),r=n,l=n-a;if(o=0===n?0:l/n,n==a)s=0;else{switch(n){case t:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-t)/l+2;break;case i:s=(t-e)/l+4}s/=6}return{h:s,s:o,v:r}}function u(t,e,i){t=6*A(t,360),e=A(e,100),i=A(i,100);var s=o.floor(t),n=t-s,a=i*(1-e),r=i*(1-n*e),l=i*(1-(1-n)*e),c=s%6;return{r:255*[i,r,a,a,l,i][c],g:255*[l,i,i,r,a,a][c],b:255*[a,a,l,i,i,r][c]}}function h(t,e,i,s){var o=[F(W(t).toString(16)),F(W(e).toString(16)),F(W(i).toString(16))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(t,e,i,s,o){var n=[F(W(t).toString(16)),F(W(e).toString(16)),F(W(i).toString(16)),F(V(s))];return o&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function f(t,e,i,s){return[F(V(s)),F(W(t).toString(16)),F(W(e).toString(16)),F(W(i).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var i=n(t).toHsl();return i.s-=e/100,i.s=P(i.s),n(i)}function g(t,e){e=0===e?0:e||10;var i=n(t).toHsl();return i.s+=e/100,i.s=P(i.s),n(i)}function v(t){return n(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var i=n(t).toHsl();return i.l+=e/100,i.l=P(i.l),n(i)}function _(t,e){e=0===e?0:e||10;var i=n(t).toRgb();return i.r=U(0,q(255,i.r-W(-e/100*255))),i.g=U(0,q(255,i.g-W(-e/100*255))),i.b=U(0,q(255,i.b-W(-e/100*255))),n(i)}function y(t,e){e=0===e?0:e||10;var i=n(t).toHsl();return i.l-=e/100,i.l=P(i.l),n(i)}function k(t,e){var i=n(t).toHsl(),s=(i.h+e)%360;return i.h=s<0?360+s:s,n(i)}function x(t){var e=n(t).toHsl();return e.h=(e.h+180)%360,n(e)}function w(t){var e=n(t).toHsl(),i=e.h;return[n(t),n({h:(i+120)%360,s:e.s,l:e.l}),n({h:(i+240)%360,s:e.s,l:e.l})]}function C(t){var e=n(t).toHsl(),i=e.h;return[n(t),n({h:(i+90)%360,s:e.s,l:e.l}),n({h:(i+180)%360,s:e.s,l:e.l}),n({h:(i+270)%360,s:e.s,l:e.l})]}function T(t){var e=n(t).toHsl(),i=e.h;return[n(t),n({h:(i+72)%360,s:e.s,l:e.l}),n({h:(i+216)%360,s:e.s,l:e.l})]}function S(t,e,i){e=e||6,i=i||30;var s=n(t).toHsl(),o=360/i,a=[n(t)];for(s.h=(s.h-(o*e>>1)+720)%360;--e;)s.h=(s.h+o)%360,a.push(n(s));return a}function E(t,e){e=e||6;for(var i=n(t).toHsv(),s=i.h,o=i.s,a=i.v,r=[],l=1/e;e--;)r.push(n({h:s,s:o,v:a})),a=(a+l)%1;return r}function M(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function A(t,e){L(t)&&(t="100%");var i=I(t);return t=q(e,U(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),o.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return q(1,U(0,t))}function N(t){return parseInt(t,16)}function L(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function I(t){return"string"==typeof t&&-1!=t.indexOf("%")}function F(t){return 1==t.length?"0"+t:""+t}function H(t){return t<=1&&(t=100*t+"%"),t}function V(t){return o.round(255*parseFloat(t)).toString(16)}function $(t){return N(t)/255}function z(t){return!!Y.CSS_UNIT.exec(t)}function j(t){t=t.replace(R,"").replace(D,"").toLowerCase();var e=!1;if(G[t])t=G[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Y.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Y.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Y.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Y.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Y.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Y.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Y.hex8.exec(t))?{r:N(i[1]),g:N(i[2]),b:N(i[3]),a:$(i[4]),format:e?"name":"hex8"}:(i=Y.hex6.exec(t))?{r:N(i[1]),g:N(i[2]),b:N(i[3]),format:e?"name":"hex"}:(i=Y.hex4.exec(t))?{r:N(i[1]+""+i[1]),g:N(i[2]+""+i[2]),b:N(i[3]+""+i[3]),a:$(i[4]+""+i[4]),format:e?"name":"hex8"}:!!(i=Y.hex3.exec(t))&&{r:N(i[1]+""+i[1]),g:N(i[2]+""+i[2]),b:N(i[3]+""+i[3]),format:e?"name":"hex"}}function O(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==i&&"large"!==i&&(i="small"),{level:e,size:i}}var R=/^\s+/,D=/\s+$/,B=0,W=o.round,q=o.min,U=o.max,J=o.random;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,i,s,n,a,r=this.toRgb();return t=r.r/255,e=r.g/255,i=r.b/255,s=t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4),n=e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4),a=i<=.03928?i/12.92:o.pow((i+.055)/1.055,2.4),.2126*s+.7152*n+.0722*a},setAlpha:function(t){return this._a=M(t),this._roundA=W(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=W(360*t.h),i=W(100*t.s),s=W(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+s+"%)":"hsva("+e+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=l(this._r,this._g,this._b),e=W(360*t.h),i=W(100*t.s),s=W(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+s+"%)":"hsla("+e+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return p(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:W(this._r),g:W(this._g),b:W(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+W(this._r)+", "+W(this._g)+", "+W(this._b)+")":"rgba("+W(this._r)+", "+W(this._g)+", "+W(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:W(100*A(this._r,255))+"%",g:W(100*A(this._g,255))+"%",b:W(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+W(100*A(this._r,255))+"%, "+W(100*A(this._g,255))+"%, "+W(100*A(this._b,255))+"%)":"rgba("+W(100*A(this._r,255))+"%, "+W(100*A(this._g,255))+"%, "+W(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),i=e,s=this._gradientType?"GradientType = 1, ":"";if(t){var o=n(t);i="#"+f(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,s=this._a<1&&this._a>=0;return e||!s||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},n.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]="a"===s?t[s]:H(t[s]));t=i}return n(t,e)},n.equals=function(t,e){return!(!t||!e)&&n(t).toRgbString()==n(e).toRgbString()},n.random=function(){return n.fromRatio({r:J(),g:J(),b:J()})},n.mix=function(t,e,i){i=0===i?0:i||50;var s=n(t).toRgb(),o=n(e).toRgb(),a=i/100;return n({r:(o.r-s.r)*a+s.r,g:(o.g-s.g)*a+s.g,b:(o.b-s.b)*a+s.b,a:(o.a-s.a)*a+s.a})},n.readability=function(t,e){var i=n(t),s=n(e);return(o.max(i.getLuminance(),s.getLuminance())+.05)/(o.min(i.getLuminance(),s.getLuminance())+.05)},n.isReadable=function(t,e,i){var s,o,a=n.readability(t,e);switch(o=!1,s=O(i),s.level+s.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},n.mostReadable=function(t,e,i){var s,o,a,r,l=null,c=0;i=i||{},o=i.includeFallbackColors,a=i.level,r=i.size;for(var d=0;d<e.length;d++)(s=n.readability(t,e[d]))>c&&(c=s,l=n(e[d]));return n.isReadable(t,l,{level:a,size:r})||!o?l:(i.includeFallbackColors=!1,n.mostReadable(t,["#fff","#000"],i))};var G=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=n.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(G),Y=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==t&&t.exports?t.exports=n:void 0!==(s=function(){return n}.call(e,i,e,t))&&(t.exports=s)}(Math)},function(t,e,i){t.exports=i(0)(12)},function(t,e,i){t.exports=i(0)(19)},function(t,e,i){t.exports=i(0)(25)},function(t,e,i){t.exports=i(0)(26)},function(t,e,i){t.exports=i(0)(48)},function(t,e,i){t.exports=i(8)(53)},function(t,e,i){t.exports=i(0)(61)},function(t,e,i){t.exports=i(0)(63)},function(t,e,i){t.exports=i(0)(75)},function(t,e,i){t.exports=i(0)(81)},function(t,e,i){t.exports=i(8)(93)},function(t,e,i){t.exports=i}]);