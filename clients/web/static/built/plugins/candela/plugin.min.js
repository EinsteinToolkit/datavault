var girder_plugin_candela=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(412),t(t.s=1057)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95);n.d(t,"accessor",function(){return r.default}),n.d(t,"accessorName",function(){return r.accessorName}),n.d(t,"accessorFields",function(){return r.accessorFields});var i=n(396);n.d(t,"id",function(){return i.id}),n.d(t,"identity",function(){return i.identity}),n.d(t,"zero",function(){return i.zero}),n.d(t,"one",function(){return i.one}),n.d(t,"truthy",function(){return i.truthy}),n.d(t,"falsy",function(){return i.falsy});var a=n(1006);n.d(t,"logger",function(){return a.default}),n.d(t,"None",function(){return a.None}),n.d(t,"Error",function(){return a.Error}),n.d(t,"Warn",function(){return a.Warn}),n.d(t,"Info",function(){return a.Info}),n.d(t,"Debug",function(){return a.Debug});var o=n(1013);n.d(t,"panLinear",function(){return o.panLinear}),n.d(t,"panLog",function(){return o.panLog}),n.d(t,"panPow",function(){return o.panPow}),n.d(t,"zoomLinear",function(){return o.zoomLinear}),n.d(t,"zoomLog",function(){return o.zoomLog}),n.d(t,"zoomPow",function(){return o.zoomPow});var u=n(218);n.d(t,"array",function(){return u.default});var s=n(996);n.d(t,"compare",function(){return s.default});var l=n(997);n.d(t,"constant",function(){return l.default});var c=n(998);n.d(t,"debounce",function(){return c.default});var f=n(397);n.d(t,"error",function(){return f.default});var d=n(999);n.d(t,"extend",function(){return d.default});var h=n(1e3);n.d(t,"extentIndex",function(){return h.default});var p=n(1001);n.d(t,"fastmap",function(){return p.default});var v=n(398);n.d(t,"field",function(){return v.default});var m=n(1002);n.d(t,"inherits",function(){return m.default});var g=n(219);n.d(t,"isArray",function(){return g.default});var y=n(1003);n.d(t,"isBoolean",function(){return y.default});var _=n(399);n.d(t,"isDate",function(){return _.default});var b=n(220);n.d(t,"isFunction",function(){return b.default});var x=n(400);n.d(t,"isNumber",function(){return x.default});var w=n(401);n.d(t,"isObject",function(){return w.default});var M=n(1004);n.d(t,"isRegExp",function(){return M.default});var O=n(402);n.d(t,"isString",function(){return O.default});var P=n(1005);n.d(t,"key",function(){return P.default});var S=n(1007);n.d(t,"merge",function(){return S.default});var k=n(1008);n.d(t,"pad",function(){return k.default});var E=n(403);n.d(t,"peek",function(){return E.default});var j=n(404);n.d(t,"repeat",function(){return j.default});var T=n(144);n.d(t,"splitAccessPath",function(){return T.default});var C=n(145);n.d(t,"stringValue",function(){return C.default});var A=n(1009);n.d(t,"toBoolean",function(){return A.default});var N=n(1010);n.d(t,"toDate",function(){return N.default});var R=n(405);n.d(t,"toNumber",function(){return R.default});var D=n(1012);n.d(t,"toString",function(){return D.default});var L=n(1011);n.d(t,"toSet",function(){return L.default});var I=n(1014);n.d(t,"truncate",function(){return I.default});var z=n(1015);n.d(t,"visitArray",function(){return z.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84);n.d(t,"UniqueList",function(){return r.default});var i=n(193);n.d(t,"changeset",function(){return i.default}),n.d(t,"isChangeSet",function(){return i.isChangeSet});var a=n(777);n.d(t,"Dataflow",function(){return a.default});var o=n(316);n.d(t,"EventStream",function(){return o.default});var u=n(318);n.d(t,"Parameters",function(){return u.default});var s=n(114);n.d(t,"Pulse",function(){return s.default});var l=n(317);n.d(t,"MultiPulse",function(){return l.default});var c=n(113);n.d(t,"Operator",function(){return c.default});var f=n(776);n.d(t,"Transform",function(){return f.default});var d=n(194);n.d(t,"derive",function(){return d.derive}),n.d(t,"rederive",function(){return d.rederive}),n.d(t,"ingest",function(){return d.ingest}),n.d(t,"isTuple",function(){return d.isTuple}),n.d(t,"replace",function(){return d.replace}),n.d(t,"tupleid",function(){return d.tupleid});var h=n(786);n.d(t,"definition",function(){return h.definition}),n.d(t,"transform",function(){return h.transform}),n.d(t,"transforms",function(){return h.transforms})},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0,i=t;r<i.length;r++){var a=i[r];e.hasOwnProperty(a)&&(n[a]=e[a])}return n}function i(e,t){for(var n=x(e),r=0,i=t;r<i.length;r++){delete n[i[r]]}return n}function a(e){if(j.isString(e)||j.isNumber(e)||w(e))return String(e);var t=E(e);if(t.length<100)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function o(e,t){return e.indexOf(t)>-1}function u(e,t){return e.filter(function(e){return!o(t,e)})}function s(e,t){return e.concat(u(t,e))}function l(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function f(e){return[].concat.apply([],e)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=h(e,i[r])}return e}function h(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||j.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=d(j.isArray(t[n].constructor)?[]:{},t[n]):d(e[n],t[n]));return e}function p(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var u=o[a];n=t(u),n in i||(i[n]=1,r.push(u))}return r}function v(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function m(e,t){for(var n in e)if(n in t)return!0;return!1}function g(e){return!isNaN(e)}function y(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function _(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function b(e){return t.keys(e)}function x(e){return JSON.parse(JSON.stringify(e))}function w(e){return!0===e||!1===e}function M(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function O(e,t){return T.isLogicalNot(e)?"!("+O(e.not,t)+")":T.isLogicalAnd(e)?"("+e.and.map(function(e){return O(e,t)}).join(") && (")+")":T.isLogicalOr(e)?"("+e.or.map(function(e){return O(e,t)}).join(") || (")+")":t(e)}function P(e,n){for(var r=!0;n.length>0&&r;){for(var i=e,a=0;a<n.length-1;a++)i=i[n[a]];delete i[n.pop()],0!==t.keys(i).length&&(r=!1)}}function S(e){return e.charAt(0).toUpperCase()+e.substr(1)}function k(e){return"["+j.splitAccessPath(e).map(j.stringValue).join("][")+"]"}Object.defineProperty(t,"__esModule",{value:!0});var E=n(310),j=n(0),T=n(204),C=n(0);t.isArray=C.isArray,t.isObject=C.isObject,t.isNumber=C.isNumber,t.isString=C.isString,t.truncate=C.truncate,t.toSet=C.toSet,t.stringValue=C.stringValue,t.splitAccessPath=C.splitAccessPath,t.pick=r,t.omit=i,t.hash=a,t.contains=o,t.without=u,t.union=s,t.some=l,t.every=c,t.flatten=f,t.mergeDeep=d,t.unique=p,t.differ=v,t.hasIntersection=m,t.isNumeric=g,t.differArray=y,t.keys=Object.keys,t.vals=_,t.flagKeys=b,t.duplicate=x,t.isBoolean=w,t.varName=M,t.logicalExpr=O,t.deleteNestedProperty=P,t.titlecase=S,t.accessPath=k},function(e,t,n){"use strict";function r(e){return function(){var t=f=new d;e(t),a()}}function i(e){return f=e}function a(){return f=c}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.warn.apply(f,arguments)}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.info.apply(f,arguments)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f.debug.apply(f,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=l.logger(l.Warn),f=c,d=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=d,t.wrap=r,t.set=i,t.reset=a,t.warn=o,t.info=u,t.debug=s;!function(e){function t(e){return'Cannot project a selection on encoding channel "'+e+'", which has no field.'}function n(e){return'The "nearest" transform is not supported for '+e+" marks."}function r(e){return'Cannot find a selection named "'+e+'"'}function i(e){return'Unknown repeated value "'+e+'".'}function a(e){return'Cannot set title "anchor" for a '+e+" spec"}function o(e){return'Unrecognized parse "'+e+'".'}function u(e,t,n){return'An ancestor parsed field "'+e+'" as '+n+" but a child wants to parse the field as "+t+"."}function s(e){return"Ignoring an invalid transform: "+JSON.stringify(e)+"."}function l(e,t,n){return"Channel "+e+" is a "+t+". Converted to {value: "+n+"}."}function c(e){return'Invalid field type "'+e+'"'}function f(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function d(e){return'Invalid aggregation operator "'+e+'"'}function h(e,t,n){return'Invalid field type "'+e+'" for channel "'+t+'", using "'+n+'" instead.'}function p(e,t){return"Dropping "+JSON.stringify(e)+' from channel "'+t+'" since it does not contain data field or value.'}function v(e,t,n){return e+' dropped as it is incompatible with "'+t+'"'+(n?" when "+n:"")+"."}function m(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function g(e,t){return'Using discrete channel "'+e+'" to encode "'+t+'" field can be misleading as it does not encode '+("ordinal"===t?"order":"magnitude")+"."}function y(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode continous fields. In this case, we use vertical by default'}function _(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode discrete or empty fields.'}function b(e,t){return'Specified orient "'+e+'" overridden with "'+t+'"'}function x(e){return'Cannot use the scale property "'+e+'" with non-color channel.'}function w(e){return"Using unaggregated domain with raw field has no effect ("+JSON.stringify(e)+")."}function M(e){return'Unaggregated domain not applicable for "'+e+'" since it produces values outside the origin domain of the source data.'}function O(e){return"Unaggregated domain is currently unsupported for log scale ("+JSON.stringify(e)+")."}function P(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function S(e){return'Cannot apply size to non-oriented mark "'+e+'".'}function k(e){return'rangeStep for "'+e+'" is dropped as top-level '+("x"===e?"width":"height")+" is provided."}function E(e,t,n){return'Channel "'+e+'" does not work with "'+t+'" scale. We are using "'+n+'" scale instead.'}function j(e,t){return'FieldDef does not work with "'+e+'" scale. We are using "'+t+'" scale instead.'}function T(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function C(e,t){return'Scale type "'+t+'" does not work with mark "'+e+'".'}function A(e,t,n,r){return"Conflicting "+t+' property "'+e+'" ("'+n+'" and "'+r+'").  Using "'+n+'".'}function N(e){return'Setting the scale to be independent for "'+e+'" means we also have to set the guide (axis or legend) to be independent.'}function R(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function D(e){return'Dropping sort property "'+JSON.stringify(e)+"\" as unioned domains only support boolean or op 'count'."}function L(e){return'Cannot stack "'+e+'" if there is already "'+e+'2"'}function I(e){return"Cannot stack non-linear scale ("+e+")"}function z(e){return'Stacking is applied even though the aggregate function is non-summative ("'+e+'")'}function F(e,t){return"Invalid "+e+': "'+t+'"'}function q(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function U(e){return"Dropping day from datetime "+JSON.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',e.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',e.cannotProjectOnChannelWithoutField=t,e.nearestNotSupportForContinuous=n,e.selectionNotFound=r,e.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",e.noSuchRepeatedValue=i,e.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views.",e.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views.",e.cannotSetTitleAnchor=a,e.unrecognizedParse=o,e.differentParse=u,e.invalidTransformIgnored=s,e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the the data from the secondary source.',e.primitiveChannelDef=l,e.invalidFieldType=c,e.invalidFieldTypeForCountAggregate=f,e.invalidAggregate=d,e.emptyOrInvalidFieldType=h,e.emptyFieldDef=p,e.incompatibleChannel=v,e.facetChannelShouldBeDiscrete=m,e.discreteChannelCannotEncode=g,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=y,e.unclearOrientDiscreteOrEmpty=_,e.orientOverridden=b,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=x,e.unaggregateDomainHasNoEffectForRawField=w,e.unaggregateDomainWithNonSharedDomainOp=M,e.unaggregatedDomainWithLogScale=O,e.cannotUseSizeFieldWithBandSize=P,e.cannotApplySizeToNonOrientedMark=S,e.rangeStepDropped=k,e.scaleTypeNotWorkWithChannel=E,e.scaleTypeNotWorkWithFieldDef=j,e.scalePropertyNotWorkWithScaleType=T,e.scaleTypeNotWorkWithMark=C,e.mergeConflictingProperty=A,e.independentScaleMeansIndependentGuide=N,e.conflictedDomain=R,e.domainSortDropped=D,e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=L,e.cannotStackNonLinearScale=I,e.stackNonSummativeAggregate=z,e.invalidTimeUnit=F,e.dayReplacedWithDate=q,e.droppedDay=U}(t.message||(t.message={}))},function(e,t,n){"use strict";function r(e){return e>1?0:e<-1?s:Math.acos(e)}function i(e){return e>1?l:e<-1?-l:Math.asin(e)}function a(e){return(e=M(e/2))*e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"epsilon",function(){return o}),n.d(t,"epsilon2",function(){return u}),n.d(t,"pi",function(){return s}),n.d(t,"halfPi",function(){return l}),n.d(t,"quarterPi",function(){return c}),n.d(t,"tau",function(){return f}),n.d(t,"degrees",function(){return d}),n.d(t,"radians",function(){return h}),n.d(t,"abs",function(){return p}),n.d(t,"atan",function(){return v}),n.d(t,"atan2",function(){return m}),n.d(t,"cos",function(){return g}),n.d(t,"ceil",function(){return y}),n.d(t,"exp",function(){return _}),n.d(t,"floor",function(){return b}),n.d(t,"log",function(){return x}),n.d(t,"pow",function(){return w}),n.d(t,"sin",function(){return M}),n.d(t,"sign",function(){return O}),n.d(t,"sqrt",function(){return P}),n.d(t,"tan",function(){return S}),t.acos=r,t.asin=i,t.haversin=a;var o=1e-6,u=1e-12,s=Math.PI,l=s/2,c=s/4,f=2*s,d=180/s,h=s/180,p=Math.abs,v=Math.atan,m=Math.atan2,g=Math.cos,y=Math.ceil,_=Math.exp,b=Math.floor,x=Math.log,w=Math.pow,M=Math.sin,O=Math.sign||function(e){return e>0?1:e<0?-1:0},P=Math.sqrt,S=Math.tan},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}},function(e,t,n){"use strict";function r(e){return!!p[e]}function i(e){return!!_[e]}function a(e,t){return t in o(e)}function o(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0};case t.TEXT:return{text:!0}}}function u(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}var s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var c,f=n(2);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip"}(c=t.Channel||(t.Channel={})),t.X=c.X,t.Y=c.Y,t.X2=c.X2,t.Y2=c.Y2,t.ROW=c.ROW,t.COLUMN=c.COLUMN,t.SHAPE=c.SHAPE,t.SIZE=c.SIZE,t.COLOR=c.COLOR,t.TEXT=c.TEXT,t.DETAIL=c.DETAIL,t.ORDER=c.ORDER,t.OPACITY=c.OPACITY,t.TOOLTIP=c.TOOLTIP;var d={x:1,y:1,x2:1,y2:1,size:1,shape:1,color:1,order:1,opacity:1,text:1,detail:1,tooltip:1},h={row:1,column:1},p=s({},d,h);t.CHANNELS=f.flagKeys(p);var v=(p.order,p.detail,l(p,["order","detail"]));t.SINGLE_DEF_CHANNELS=f.flagKeys(v),t.isChannel=r,t.UNIT_CHANNELS=f.flagKeys(d);var m=l(d,["x","y","x2","y2"]);t.NONPOSITION_CHANNELS=f.flagKeys(m);var g={x:1,y:1};t.POSITION_SCALE_CHANNELS=f.flagKeys(g);var y=(m.text,m.tooltip,m.detail,m.order,l(m,["text","tooltip","detail","order"]));t.NONPOSITION_SCALE_CHANNELS=f.flagKeys(y);var _=s({},g,y);t.SCALE_CHANNELS=f.flagKeys(_),t.isScaleChannel=i,t.supportMark=a,t.getSupportedMark=o,t.rangeType=u},function(e,t,n){"use strict";function r(e){return e&&!L.isString(e)&&"repeat"in e}function i(e){return!!e&&!!e.condition}function a(e){return!!e&&!!e.condition&&!L.isArray(e.condition)&&u(e.condition)}function o(e){return!!e&&!!e.condition&&(L.isArray(e.condition)||l(e.condition))}function u(e){return!(!e||!e.field&&"count"!==e.aggregate)}function s(e){return u(e)&&L.isString(e.field)}function l(e){return e&&"value"in e&&void 0!==e.value}function c(e){return!(!e||!e.scale&&!e.sort)}function f(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(p(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=C.binToString(e.bin),i=t.binSuffix||""):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=""+t.expr+L.accessPath(n)),n}function d(e){switch(e.type){case"nominal":case"ordinal":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(N.message.invalidFieldType(e.type))}function h(e){return!d(e)}function p(e){return"count"===e.aggregate}function v(e,t){var n=e.field,r=e.bin,i=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(r)return n+" (binned)";if(i){return n+" ("+R.getTimeUnitParts(i).join("-")+")"}return a?L.titlecase(a)+" of "+n:n}function m(e,t){var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function g(e){I=e}function y(){g(t.defaultTitleFormatter)}function _(e,t){return I(e,t)}function b(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(A.rangeType(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}function x(e){return u(e)?e:a(e)?e.condition:void 0}function w(e,t){if(L.isString(e)||L.isNumber(e)||L.isBoolean(e)){var n=L.isString(e)?"string":L.isNumber(e)?"number":"boolean";return N.warn(N.message.primitiveChannelDef(t,n,e)),{value:e}}return u(e)?M(e,t):a(e)?E({},e,{condition:M(e.condition,t)}):e}function M(e,t){if(e.aggregate&&!T.isAggregateOp(e.aggregate)){var n=(e.aggregate,j(e,["aggregate"]));N.warn(N.message.invalidAggregate(e.aggregate)),e=n}if(e.timeUnit&&(e=E({},e,{timeUnit:R.normalizeTimeUnit(e.timeUnit)})),e.bin&&(e=E({},e,{bin:O(e.bin,t)})),e.type){var r=D.getFullName(e.type);e.type!==r&&(e=E({},e,{type:r})),"quantitative"!==e.type&&T.isCountingAggregateOp(e.aggregate)&&(N.warn(N.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=E({},e,{type:"quantitative"}))}else{var i=b(e,t);N.warn(N.message.emptyOrInvalidFieldType(e.type,t,i)),e=E({},e,{type:i})}var a=P(e,t),o=a.compatible,u=a.warning;return o||N.warn(u),e}function O(e,t){return L.isBoolean(e)?{maxbins:C.autoMaxBins(t)}:e.maxbins||e.step?e:E({},e,{maxbins:C.autoMaxBins(t)})}function P(e,t){switch(t){case"row":case"column":return h(e)&&!e.timeUnit?{compatible:!1,warning:N.message.facetChannelShouldBeDiscrete(t)}:z;case"x":case"y":case"color":case"text":case"detail":case"tooltip":return z;case"opacity":case"size":case"x2":case"y2":return d(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:z;case"shape":return"nominal"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data only"}:z;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:z}throw new Error("channelCompatability not implemented for channel "+t)}function S(e){return"quantitative"===e.type||!!e.bin}function k(e){return"temporal"===e.type||!!e.timeUnit}var E=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var T=n(86),C=n(87),A=n(6),N=n(3),R=n(91),D=n(40),L=n(2);t.isRepeatRef=r,t.isConditionalDef=i,t.hasConditionalFieldDef=a,t.hasConditionalValueDef=o,t.isFieldDef=u,t.isStringFieldDef=s,t.isValueDef=l,t.isScaleFieldDef=c,t.field=f,t.isDiscrete=d,t.isContinuous=h,t.isCount=p,t.verbalTitleFormatter=v,t.functionalTitleFormatter=m,t.defaultTitleFormatter=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return m(e,t);default:return v(e,t)}};var I=t.defaultTitleFormatter;t.setTitleFormatter=g,t.resetTitleFormatter=y,t.title=_,t.defaultType=b,t.getFieldDef=x,t.normalize=w,t.normalizeFieldDef=M,t.normalizeBin=O;var z={compatible:!0};t.channelCompatibility=P,t.isNumberFieldDef=S,t.isTimeFieldDef=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(226);n.d(t,"bisect",function(){return r.default}),n.d(t,"bisectRight",function(){return r.bisectRight}),n.d(t,"bisectLeft",function(){return r.bisectLeft});var i=n(65);n.d(t,"ascending",function(){return i.default});var a=n(227);n.d(t,"bisector",function(){return a.default});var o=n(455);n.d(t,"cross",function(){return o.default});var u=n(456);n.d(t,"descending",function(){return u.default});var s=n(228);n.d(t,"deviation",function(){return s.default});var l=n(229);n.d(t,"extent",function(){return l.default});var c=n(457);n.d(t,"histogram",function(){return c.default});var f=n(467);n.d(t,"thresholdFreedmanDiaconis",function(){return f.default});var d=n(468);n.d(t,"thresholdScott",function(){return d.default});var h=n(233);n.d(t,"thresholdSturges",function(){return h.default});var p=n(459);n.d(t,"max",function(){return p.default});var v=n(460);n.d(t,"mean",function(){return v.default});var m=n(461);n.d(t,"median",function(){return m.default});var g=n(462);n.d(t,"merge",function(){return g.default});var y=n(230);n.d(t,"min",function(){return y.default});var _=n(231);n.d(t,"pairs",function(){return _.default});var b=n(463);n.d(t,"permute",function(){return b.default});var x=n(150);n.d(t,"quantile",function(){return x.default});var w=n(232);n.d(t,"range",function(){return w.default});var M=n(464);n.d(t,"scan",function(){return M.default});var O=n(465);n.d(t,"shuffle",function(){return O.default});var P=n(466);n.d(t,"sum",function(){return P.default});var S=n(234);n.d(t,"ticks",function(){return S.default}),n.d(t,"tickIncrement",function(){return S.tickIncrement}),n.d(t,"tickStep",function(){return S.tickStep});var k=n(235);n.d(t,"transpose",function(){return k.default});var E=n(236);n.d(t,"variance",function(){return E.default});var j=n(469);n.d(t,"zip",function(){return j.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.default=function(e){return n.i(r.interpolateRgbBasis)(e[e.length-1])}},function(e,t,n){"use strict";function r(e,t){var n=y[e],r=y[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}function i(e){return _[e]}function a(e){return e in w}function o(e){return e in M}function u(e){return e in x}function s(e){return e in b}function l(e){return e&&!!e.name}function c(e){return e&&e.selection}function f(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return g.contains(["sequential","ordinal","bin-ordinal","quantile","quantize"],e);case"interpolate":return g.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return s(e)||"band"===e||"point"===e;case"padding":return s(e)||g.contains(["point","band"],e);case"paddingOuter":case"rangeStep":return g.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return s(e)||"sequential"===e;case"nice":return s(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"zero":return u(e)&&!g.contains(["log","time","utc","bin-linear","threshold","quantile"],e)}throw new Error("Invalid scale property "+t+".")}function d(e,t){switch(t){case"interpolate":case"scheme":if("color"!==e)return m.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"range":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+t+'".')}function h(e,t){switch(e){case v.Channel.X:case v.Channel.Y:case v.Channel.SIZE:case v.Channel.OPACITY:return s(t)||g.contains(["band","point"],t);case v.Channel.COLOR:return"band"!==t;case v.Channel.SHAPE:return"ordinal"===t}return!1}var p=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var v=n(6),m=n(3),g=n(2);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(t.ScaleType||(t.ScaleType={}));var y={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.SCALE_TYPES=g.keys(y),t.scaleCompatible=r;var _={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:10,band:11,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=i,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var b=g.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var x=g.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var w=g.toSet(t.DISCRETE_DOMAIN_SCALES),M=g.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=a,t.isBinScale=o,t.hasContinuousDomain=u,t.isContinuousToContinuous=s,t.defaultScaleConfig={textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4},t.isExtendedScheme=l,t.isSelectionDomain=c;var O={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1};t.SCALE_PROPERTIES=g.flagKeys(O);var P=p(O,["type","domain","range","rangeStep","scheme"]);t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=g.flagKeys(P),t.scaleTypeSupportProperty=f,t.channelScalePropertyIncompatability=d,t.channelSupportScaleType=h},function(e,t,n){(function(t){function n(e,t){var n,r="";for(n=0;n<e;++n)r+=t;return r}function r(e,t,n){var r=0,i=e.split(u);return e=n?(i=i.reverse()).filter(function(e){return(r+=e.length)<=t}).reverse():i.filter(function(e){return(r+=e.length)<=t}),e.length?e.join("").trim():i[0].slice(0,t)}var i=e.exports;i.namedfunc=function(e,t){return t.__name__=e,t},i.name=function(e){return null==e?null:e.__name__},i.identity=function(e){return e},i.true=i.namedfunc("true",function(){return!0}),i.false=i.namedfunc("false",function(){return!1}),i.duplicate=function(e){return JSON.parse(JSON.stringify(e))},i.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},i.extend=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},i.length=function(e){return null!=e&&null!=e.length?e.length:null},i.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},i.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},i.toMap=function(e,t){return(t=i.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},i.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;r<t;++r)n+="|"+String(e[r]);return n};var a=Object.prototype.toString;i.isObject=function(e){return e===Object(e)},i.isFunction=function(e){return"[object Function]"===a.call(e)},i.isString=function(e){return"string"==typeof value||"[object String]"===a.call(e)},i.isArray=Array.isArray||function(e){return"[object Array]"===a.call(e)},i.isNumber=function(e){return"number"==typeof e||"[object Number]"===a.call(e)},i.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==a.call(e)},i.isDate=function(e){return"[object Date]"===a.call(e)},i.isValid=function(e){return null!=e&&e===e},i.isBuffer="function"==typeof t&&t.isBuffer||i.false,i.number=function(e){return null==e||""===e?null:+e},i.boolean=function(e){return null==e||""===e?null:"false"!==e&&!!e},i.date=function(e,t){var n=t||Date;return null==e||""===e?null:n.parse(e)},i.array=function(e){return null!=e?i.isArray(e)?e:[e]:[]},i.str=function(e){return i.isArray(e)?"["+e.map(i.str)+"]":i.isObject(e)||i.isString(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e};var o=/\[(.*?)\]|[^.\[]+/g;i.field=function(e){return String(e).match(o).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},i.accessor=function(e){return null==e||i.isFunction(e)?e:i.namedfunc(e,Function("x","return x["+i.field(e).map(i.str).join("][")+"];"))},i.$=i.accessor,i.mutator=function(e){var t;return i.isString(e)&&(t=i.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},i.$func=function(e,t){return function(n){n=i.$(n)||i.identity;var r=e+(i.name(n)?"_"+i.name(n):"");return i.namedfunc(r,function(e){return t(n(e))})}},i.$valid=i.$func("valid",i.isValid),i.$length=i.$func("length",i.length),i.$in=function(e,t){e=i.$(e);var n=i.isArray(t)?i.toMap(t):t;return function(t){return!!n[e(t)]}},i.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=i.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),i.accessor(e)}),function(n,r){var a,o,u,s;for(a=0,o=e.length;a<o;++a)if(u=e[a],s=i.cmp(u(n),u(r)))return s*t[a];return 0}},i.cmp=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},i.numcmp=function(e,t){return e-t},i.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var a=t(e),o=t(i);return a<o?-1:a>o?1:r[n(e)]-r[n(i)]}),e},i.permute=function(e){for(var t,n,r=e.length;r;)n=Math.floor(Math.random()*r--),t=e[r],e[r]=e[n],e[n]=t},i.pad=function(e,t,r,i){i=i||" ";var a=t-e.length;if(a<=0)return e;switch(r){case"left":return n(a,i)+e;case"middle":case"center":return n(Math.floor(a/2),i)+e+n(Math.ceil(a/2),i);default:return e+n(a,i)}},i.truncate=function(e,t,n,i,a){var o=e.length;if(o<=t)return e;a=void 0!==a?String(a):"…";var u=Math.max(0,t-a.length);switch(n){case"left":return a+(i?r(e,u,1):e.slice(o-u));case"middle":case"center":var s=Math.ceil(u/2),l=Math.floor(u/2);return(i?r(e,s):e.slice(0,s))+a+(i?r(e,l,1):e.slice(o-l));default:return(i?r(e,u):e.slice(0,u))+a}};var u=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(t,n(222).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"MarkRole",function(){return r}),n.d(t,"FrameRole",function(){return i}),n.d(t,"ScopeRole",function(){return a}),n.d(t,"AxisRole",function(){return o}),n.d(t,"AxisDomainRole",function(){return u}),n.d(t,"AxisGridRole",function(){return s}),n.d(t,"AxisLabelRole",function(){return l}),n.d(t,"AxisTickRole",function(){return c}),n.d(t,"AxisTitleRole",function(){return f}),n.d(t,"LegendRole",function(){return d}),n.d(t,"LegendEntryRole",function(){return h}),n.d(t,"LegendGradientRole",function(){return p}),n.d(t,"LegendLabelRole",function(){return v}),n.d(t,"LegendSymbolRole",function(){return m}),n.d(t,"LegendTitleRole",function(){return g}),n.d(t,"TitleRole",function(){return y});var r="mark",i="frame",a="scope",o="axis",u="axis-domain",s="axis-grid",l="axis-label",c="axis-tick",f="axis-title",d="legend",h="legend-entry",p="legend-gradient",v="legend-label",m="legend-symbol",g="legend-title",y="title"},function(e,t,n){"use strict";function r(e){return n.i(f.isObject)(e)?e:{value:e}}function i(e,t,r){return null!=r?(e[t]=n.i(f.isObject)(r)&&!n.i(f.isArray)(r)?r:{value:r},1):0}function a(e,t,r){for(var i in t)r&&r.hasOwnProperty(i)||(e[i]=n.i(f.extend)(e[i]||{},t[i]));return e}function o(e,t,r,i,a,o){var s,c;o=o||{},o.encoders={$encode:s={}},e=u(e,t,r,i,a.config);for(c in e)s[c]=n.i(l.default)(e[c],t,o,a);return o}function u(e,t,r,i,a){var o,u,l={};"legend"!=r&&0!==String(r).indexOf("axis")||(r=null),u=r===c.FrameRole?a.group:r===c.MarkRole?n.i(f.extend)({},a.mark,a[t]):null;for(o in u)s(o,e)||("fill"===o||"stroke"===o)&&(s("fill",e)||s("stroke",e))||(l[o]={value:u[o]});return n.i(f.array)(i).forEach(function(t){var n=a.style&&a.style[t];for(var r in n)s(r,e)||(l[r]={value:n[r]})}),e=n.i(f.extend)({},e),e.enter=n.i(f.extend)(l,e.enter),e}function s(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}Object.defineProperty(t,"__esModule",{value:!0}),t.encoder=r,t.addEncode=i,t.extendEncode=a,t.encoders=o,t.has=s;var l=n(871),c=n(12),f=n(0)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){t[e].parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){r[n].parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=i;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return r(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(i);t.OutputNode=a},function(e,t,n){"use strict";function r(e){return e&&"unit"===e.type}function i(e){return e&&"facet"===e.type}function a(e){return e&&"repeat"===e.type}function o(e){return e&&"concat"===e.type}function u(e){return e&&"layer"===e.type}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),f=n(6),d=n(24),h=n(7),p=n(3),v=n(10),m=n(345),g=n(127),y=n(2),_=n(28),b=n(821),x=n(335),w=n(121),M=n(336),O=n(337),P=n(844),S=n(89),k=n(846),E=n(31),j=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=j,t.isUnitModel=r,t.isFacetModel=i,t.isRepeatModel=a,t.isConcatModel=o,t.isLayerModel=u;var T=function(){function e(e,t,n,r,i){var a=this;this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=a.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=a.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=r,this.name=e.name||n,this.title=c.isString(e.title)?{text:e.title}:e.title,this.scaleNameMap=t?t.scaleNameMap:new j,this.layoutSizeNameMap=t?t.layoutSizeNameMap:new j,this.data=e.data,this.description=e.description,this.transforms=g.normalizeTransform(e.transform||[]),this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?l({},t.component.data.ancestorParse):{}},layoutSize:new E.Split,layoutHeaders:{row:{},column:{}},mark:null,resolve:l({scale:{},axis:{},legend:{}},i||{}),selection:null,scales:null,axes:{},legends:{}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.getSizeSignalRef("width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getSizeSignalRef("height")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){k.parseScale(this)},e.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},e.prototype.parseLegend=function(){O.parseLegend(this)},e.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type)return"cell"},e.prototype.assembleLayoutSize=function(){if("unit"===this.type||"layer"===this.type)return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=x.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(x.getTitleGroup(this,i))}for(var a=0,o=x.HEADER_CHANNELS;a<o.length;a++)for(var i=o[a],u=e[i],s=0,l=x.HEADER_TYPES;s<l.length;s++){var c=l[s];if(u[c])for(var f=0,d=u[c];f<d.length;f++){var h=d[f],p=x.getHeaderGroup(this,i,c,u,h);p&&t.push(p)}}return t},e.prototype.assembleAxes=function(){return b.assembleAxes(this.component.axes)},e.prototype.assembleLegends=function(){return M.assembleLegends(this)},e.prototype.assembleTitle=function(){var e=l({},m.extractTitleConfig(this.config.title).nonMark,this.title);if(e.text)return y.contains(["unit","layer"],this.type)||(e.anchor&&"start"!==e.anchor&&p.warn(p.message.cannotSetTitleAnchor(this.type)),e.anchor="start"),y.keys(e).length>0?e:void 0},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||i(this.parent)?P.assembleScales(this):[];r.length>0&&(t.scales=r);var a=this.assembleAxes();a.length>0&&(t.axes=a);var o=this.assembleLegends();return o.length>0&&(t.legends=o),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var i=n[t];if(r(i)){if(i.channelHasField(e))return!0}else if(i.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return y.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){if(i(this.parent)){var t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),a=n.get("range");if(v.hasDiscreteDomain(r)&&_.isVgRangeStep(a)){var o=n.get("name"),u=S.assembleDomain(this,t),s=S.getFieldFromDomain(u);if(s){var l=h.field({aggregate:"distinct",field:s},{expr:"datum"});return{signal:w.sizeExpr(o,n,l)}}return p.warn("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.layoutSizeNameMap.get(this.getName(e))}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.getSizeName=function(e){return this.layoutSizeNameMap.get(e)},e.prototype.renameLayoutSize=function(e,t){this.layoutSizeNameMap.rename(e,t)},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):f.isChannel(e)&&f.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(p.message.selectionNotFound(t));return n},e}();t.Model=T;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return h.field(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return d.reduce(this.getMapping(),function(t,n,r){var i=h.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){d.forEach(this.getMapping(),function(t,n){var r=h.getFieldDef(t);r&&e(r,n)},t)},t}(T);t.ModelWithField=C},function(e,t,n){"use strict";function r(e,t){var n={},r=e.config.selection;for(var i in t)!function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var u in o)"encodings"===u&&a.fields||"fields"===u&&a.encodings||("mark"===u&&(a[u]=_({},o[u],a[u])),void 0!==a[u]&&!0!==a[u]||(a[u]=o[u]||a[u]));i=O.varName(i);var s=n[i]=_({},a,{name:i,events:O.isString(a.on)?b.selector(a.on,"scope"):a.on});j.forEachTransform(s,function(t){t.parse&&t.parse(e,a,s)})}(i);return n}function i(e,n){d(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),j.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+O.stringValue(r.name+t.STORE)+", "+o+")"}]})});var r=p(e);if(n.length&&r){var i=O.stringValue(r.getName("cell"));n.unshift({name:"facet",value:{},on:[{events:b.selector("mousemove","scope"),update:"isTuple(facet) ? facet : group("+i+").datum"}]})}return n}function a(e,t){var n=!1;if(d(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),j.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n){t.filter(function(e){return"unit"===e.name}).length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return t}function o(e,n){return d(e,function(e){n.filter(function(n){return n.name===e.name+t.STORE}).length||n.push({name:e.name+t.STORE})}),n}function u(e,t){return d(e,function(n,r){t=r.marks?r.marks(e,n,t):t,j.forEachTransform(n,function(r){r.marks&&(t=r.marks(e,n,t))})}),t}function s(e,t){return e.children.forEach(function(e){P.isUnitModel(e)&&(t=u(e,t))}),t}function l(e,n,r){function i(n){var i=O.varName(n),o=e.getSelectionComponent(i,n),u=O.stringValue(i+t.STORE);if(o.timeUnit){var s=r||e.component.data.raw,l=o.timeUnit.clone();s.parent?l.insertAsParentOf(s):s.parent=l}return"none"!==o.empty&&a.push(u),h(o.type).predicate+"("+u+", datum"+("global"===o.resolve?")":", "+O.stringValue(o.resolve)+")")}var a=[],o=O.logicalExpr(n,i);return(a.length?"!("+a.map(function(e){return"length(data("+e+"))"}).join(" || ")+") || ":"")+"("+o+")"}function c(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function f(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=O.varName(r.selection),a=e.component.selection&&e.component.selection[i];return a?(w.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}):(a=e.getSelectionComponent(i,r.selection),r.encoding||r.field||(r.field=a.project[0].field,a.project.length>1&&w.warn('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '+O.stringValue(r.field)+".")),{signal:h(a.type).scaleDomain+"("+O.stringValue(i+t.STORE)+", "+O.stringValue(r.encoding||null)+", "+O.stringValue(r.field||null)+("global"===a.resolve?")":", "+O.stringValue(a.resolve)+")")})}function d(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,h(i.type))}}function h(e){switch(e){case"single":return E.default;case"multi":return k.default;case"interval":return S.default}return null}function p(e){for(var t=e.parent;t&&!P.isFacetModel(t);)t=t.parent;return t}function v(e){var t=O.stringValue(e.name),n=p(e);return n&&(t+=(n.facet.row?" + '_' + facet"+O.accessPath(n.field("row")):"")+(n.facet.column?" + '_' + facet"+O.accessPath(n.field("column")):"")),t}function m(e){var t=!1;return d(e,function(e){t=t||e.project.some(function(e){return e.field===M.SELECTION_ID})}),t}function g(e,t,n){return O.varName(e.name+"_"+("visual"===n?t:e.fields[t]))}function y(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.channel===x.X?(t=e,n=a):e.channel===x.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}var _=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var b=n(115),x=n(6),w=n(3),M=n(205),O=n(2),P=n(15),S=n(201),k=n(341),E=n(848),j=n(852);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=r,t.assembleUnitSelectionSignals=i,t.assembleTopLevelSignals=a,t.assembleUnitSelectionData=o,t.assembleUnitSelectionMarks=u,t.assembleLayerSelectionMarks=s,t.predicate=l,t.isRawSelectionDomain=c,t.selectionScaleDomain=f,t.unitName=v,t.requiresSelectionId=m,t.channelSignalName=g,t.positionalProjections=y},function(e,t,n){"use strict";function r(e,t,n,o){function u(t){return e(t=new Date(+t)),t}return u.floor=u,u.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},u.round=function(e){var t=u(e),n=u.ceil(e);return e-t<n-e?t:n},u.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},u.range=function(n,r,i){var a,o=[];if(n=u.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return o},u.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(u.count=function(t,r){return i.setTime(+t),a.setTime(+r),e(i),e(a),Math.floor(n(i,a))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(o?function(t){return o(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=new Date,a=new Date},function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],u=o(a,t.markDef,t.config);void 0!==u&&(e[a]={value:u})}return e}function a(e){return[].concat(e.type,e.style||[])}function o(e,t,n){var r=n.mark[e],i=n[t.type];void 0!==i[e]&&(r=i[e]);for(var o=a(t),u=0,s=o;u<s.length;u++){var l=s[u],c=n.style[l],f=e;c&&void 0!==c[f]&&(r=c[f])}return r}function u(e,t,n,r){var i=l(e,t,r);if(e.bin){return{signal:d(y.field(e,{expr:n}),y.field(e,{expr:n,binSuffix:"end"}),i,r)}}if("quantitative"===e.type)return{signal:""+c(y.field(e,{expr:n}),i)};if(y.isTimeFieldDef(e)){var a=y.isScaleFieldDef(e)&&e.scale&&e.scale.type===_.ScaleType.UTC;return{signal:h(y.field(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,a)}}return{signal:"''+"+y.field(e,{expr:n})}}function s(e,t){return void 0!==e?e:t}function l(e,t,n){if(e.type===x.QUANTITATIVE)return t||n.numberFormat}function c(e,t){return"format("+e+', "'+(t||"")+'")'}function f(e,t,n){return c(e,t||n.numberFormat)}function d(e,t,n,r){return e+" === null || isNaN("+e+') ? "null" : '+f(e,n,r)+' + " - " + '+f(t,n,r)}function h(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return b.formatExpression(t,e,r,a)}function p(e,t){return(w.isArray(e)?e:[e]).reduce(function(e,n){return e.field.push(y.field(n,t)),e.order.push(n.sort||"ascending"),e},{field:[],order:[]})}function v(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}function m(e,t){return e.bin?g.isScaleChannel(t)&&w.contains(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(6),y=n(7),_=n(10),b=n(91),x=n(40),w=n(2);t.applyConfig=r,t.applyMarkConfig=i,t.getStyles=a,t.getMarkConfig=o,t.formatSignalRef=u,t.getSpecifiedOrDefaultValue=s,t.numberFormat=l,t.numberFormatExpr=f,t.binFormatExpression=d,t.timeFormatExpression=h,t.sortParams=p,t.titleMerger=v,t.binRequiresRange=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"GroupMark",function(){return r}),n.d(t,"RectMark",function(){return i}),n.d(t,"RuleMark",function(){return a}),n.d(t,"SymbolMark",function(){return o}),n.d(t,"TextMark",function(){return u});var r="group",i="rect",a="rule",o="symbol",u="text"},function(e,t,n){"use strict";function r(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function i(e,t,n,i){return new r(e,t,n,i)}function a(e,t){return i("operator",e,t)}function o(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function u(e,t){return t?{$field:e,$name:t}:{$field:e}}function s(e,t){return{$compare:e,$order:t}}function l(e,t){var n={$key:e};return t&&(n.$flat=!0),n}function c(e){return n.i(p.isObject)(e)?(e.order===y?"-":"+")+f(e.op,e.field):""}function f(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function d(e){return e&&e.signal}function h(e,t){return null!=e?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.Entry=r,t.entry=i,t.operator=a,t.ref=o,n.d(t,"tupleidRef",function(){return v}),t.fieldRef=u,n.d(t,"keyFieldRef",function(){return m}),t.compareRef=s,t.keyRef=l,n.d(t,"Ascending",function(){return g}),n.d(t,"Descending",function(){return y}),t.sortKey=c,t.aggrField=f,t.isSignal=d,t.value=h;var p=n(0),v={$tupleid:1,toString:function(){return":_tupleid_:"}},m=u("key"),g="ascending",y="descending"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170);n.d(t,"creator",function(){return r.default});var i=n(646);n.d(t,"local",function(){return i.default});var a=n(279);n.d(t,"matcher",function(){return a.default});var o=n(647);n.d(t,"mouse",function(){return o.default});var u=n(171);n.d(t,"namespace",function(){return u.default});var s=n(172);n.d(t,"namespaces",function(){return s.default});var l=n(106);n.d(t,"clientPoint",function(){return l.default});var c=n(648);n.d(t,"select",function(){return c.default});var f=n(649);n.d(t,"selectAll",function(){return f.default});var d=n(29);n.d(t,"selection",function(){return d.default});var h=n(174);n.d(t,"selector",function(){return h.default});var p=n(283);n.d(t,"selectorAll",function(){return p.default});var v=n(282);n.d(t,"style",function(){return v.styleValue});var m=n(676);n.d(t,"touch",function(){return m.default});var g=n(677);n.d(t,"touches",function(){return g.default});var y=n(176);n.d(t,"window",function(){return y.default});var _=n(173);n.d(t,"event",function(){return _.event}),n.d(t,"customEvent",function(){return _.customEvent})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Top",function(){return r}),n.d(t,"Left",function(){return i}),n.d(t,"Right",function(){return a}),n.d(t,"Bottom",function(){return o}),n.d(t,"Index",function(){return u}),n.d(t,"Label",function(){return s}),n.d(t,"Offset",function(){return l}),n.d(t,"Perc",function(){return c}),n.d(t,"Size",function(){return f}),n.d(t,"Total",function(){return d}),n.d(t,"Value",function(){return h}),n.d(t,"GuideLabelStyle",function(){return p}),n.d(t,"GuideTitleStyle",function(){return v}),n.d(t,"GroupTitleStyle",function(){return m}),n.d(t,"LegendScales",function(){return g}),n.d(t,"Skip",function(){return y});var r="top",i="left",a="right",o="bottom",u="index",s="label",l="offset",c="perc",f="size",d="total",h="value",p="guide-label",v="guide-title",m="group-title",g=["shape","size","fill","stroke","strokeDash","opacity"],y={name:1,interactive:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59);n.d(t,"Bounds",function(){return r.default});var i=n(930);n.d(t,"Gradient",function(){return i.default});var a=n(369);n.d(t,"GroupItem",function(){return a.default});var o=n(371);n.d(t,"ResourceLoader",function(){return o.default});var u=n(370);n.d(t,"Item",function(){return u.default});var s=n(931);n.d(t,"Scenegraph",function(){return s.default});var l=n(211);n.d(t,"Handler",function(){return l.default});var c=n(134);n.d(t,"Renderer",function(){return c.default});var f=n(367);n.d(t,"CanvasHandler",function(){return f.default});var d=n(368);n.d(t,"CanvasRenderer",function(){return d.default});var h=n(372);n.d(t,"SVGHandler",function(){return h.default});var p=n(373);n.d(t,"SVGRenderer",function(){return p.default});var v=n(374);n.d(t,"SVGStringRenderer",function(){return v.default});var m=n(944);n.d(t,"RenderType",function(){return m.RenderType}),n.d(t,"renderModule",function(){return m.renderModule});var g=n(61);n.d(t,"Marks",function(){return g.default});var y=n(135);n.d(t,"boundContext",function(){return y.default});var _=n(60);n.d(t,"boundStroke",function(){return _.default});var b=n(375);n.d(t,"boundItem",function(){return b.default});var x=n(376);n.d(t,"boundMark",function(){return x.default});var w=n(377);n.d(t,"pathCurves",function(){return w.default});var M=n(379);n.d(t,"pathSymbols",function(){return M.default});var O=n(378);n.d(t,"pathRectangle",function(){return O.default});var P=n(380);n.d(t,"pathTrail",function(){return P.default});var S=n(136);n.d(t,"pathParse",function(){return S.default});var k=n(214);n.d(t,"pathRender",function(){return k.default});var E=n(382);n.d(t,"point",function(){return E.default});var j=n(137);n.d(t,"canvas",function(){return j.default});var T=n(45);n.d(t,"domCreate",function(){return T.domCreate}),n.d(t,"domFind",function(){return T.domFind}),n.d(t,"domChild",function(){return T.domChild}),n.d(t,"domClear",function(){return T.domClear});var C=n(217);n.d(t,"openTag",function(){return C.openTag}),n.d(t,"closeTag",function(){return C.closeTag});var A=n(142);n.d(t,"font",function(){return A.font}),n.d(t,"textMetrics",function(){return A.textMetrics});var N=n(140);n.d(t,"resetSVGClipId",function(){return N.resetSVGClipId});var R=n(950);n.d(t,"sceneEqual",function(){return R.sceneEqual}),n.d(t,"pathEqual",function(){return R.pathEqual});var D=n(383);n.d(t,"sceneToJSON",function(){return D.sceneToJSON}),n.d(t,"sceneFromJSON",function(){return D.sceneFromJSON});var L=n(41);n.d(t,"sceneZOrder",function(){return L.zorder}),n.d(t,"sceneVisit",function(){return L.visit}),n.d(t,"scenePickVisit",function(){return L.pickVisit})},function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return!!n&&(h.isArray(n)?h.some(n,function(e){return!!e.field}):f.isFieldDef(n)||f.hasConditionalFieldDef(n))}function i(e){return h.some(c.CHANNELS,function(t){if(r(e,t)){var n=e[t];if(h.isArray(n))return h.some(n,function(e){return!!e.aggregate});var i=f.getFieldDef(n);return i&&!!i.aggregate}return!1})}function a(e,t){return h.keys(e).reduce(function(n,r){if(!c.supportMark(r,t))return d.warn(d.message.incompatibleChannel(r,t)),n;if("size"===r&&"line"===t){var i=f.getFieldDef(e[r]);if(i&&i.aggregate)return d.warn(d.message.incompatibleChannel(r,t,"when the field is aggregated.")),n}if("detail"===r||"order"===r){var a=e[r];a&&(n[r]=(h.isArray(a)?a:[a]).reduce(function(e,t){return f.isFieldDef(t)?e.push(f.normalizeFieldDef(t,r)):d.warn(d.message.emptyFieldDef(t,r)),e},[]))}else{var a=e[r];if(!f.isFieldDef(a)&&!f.isValueDef(a)&&!f.isConditionalDef(a))return d.warn(d.message.emptyFieldDef(a,r)),n;n[r]=f.normalize(a,r)}return n},{})}function o(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function u(e){var t=[];return c.CHANNELS.forEach(function(n){if(r(e,n)){var i=e[n];(h.isArray(i)?i:[i]).forEach(function(e){f.isFieldDef(e)?t.push(e):f.hasConditionalFieldDef(e)&&t.push(e.condition)})}}),t}function s(e,t,n){if(e)for(var r=0,i=h.keys(e);r<i.length;r++){var a=i[r];!function(r){h.isArray(e[r])?e[r].forEach(function(e){t.call(n,e,r)}):t.call(n,e[r],r)}(a)}}function l(e,t,n,r){return e?h.keys(e).reduce(function(n,i){var a=e[i];return h.isArray(a)?a.reduce(function(e,n){return t.call(r,e,n,i)},n):t.call(r,n,a,i)},n):n}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=n(7),d=n(3),h=n(2);t.channelHasField=r,t.isAggregate=i,t.normalizeEncoding=a,t.isRanged=o,t.fieldDefs=u,t.forEach=s,t.reduce=l},function(e,t,n){"use strict";function r(e){return!!s[e]}function i(e){return e.type}function a(e){return(i(e)?e.type:e)in l}Object.defineProperty(t,"__esModule",{value:!0});var o,u=n(2);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square"}(o=t.Mark||(t.Mark={})),t.AREA=o.AREA,t.BAR=o.BAR,t.LINE=o.LINE,t.POINT=o.POINT,t.TEXT=o.TEXT,t.TICK=o.TICK,t.RECT=o.RECT,t.RULE=o.RULE,t.CIRCLE=o.CIRCLE,t.SQUARE=o.SQUARE;var s={area:1,bar:1,line:1,point:1,text:1,tick:1,rect:1,rule:1,circle:1,square:1};t.isMark=r,t.PRIMITIVE_MARKS=u.flagKeys(s),t.isMarkDef=i;var l=u.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=a,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:5},t.defaultTickConfig={thickness:1}},function(e,t,n){"use strict";function r(e){return function(t,r,a){return n.i(i.entry)(e,r,t||void 0,a)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Aggregate",function(){return a}),n.d(t,"AxisTicks",function(){return o}),n.d(t,"Bound",function(){return u}),n.d(t,"Collect",function(){return s}),n.d(t,"Compare",function(){return l}),n.d(t,"DataJoin",function(){return c}),n.d(t,"Encode",function(){return f}),n.d(t,"Extent",function(){return d}),n.d(t,"Facet",function(){return h}),n.d(t,"Field",function(){return p}),n.d(t,"Key",function(){return v}),n.d(t,"LegendEntries",function(){return m}),n.d(t,"Mark",function(){return g}),n.d(t,"MultiExtent",function(){return y}),n.d(t,"MultiValues",function(){return _}),n.d(t,"Overlap",function(){return b}),n.d(t,"Params",function(){return x}),n.d(t,"PreFacet",function(){return w}),n.d(t,"Projection",function(){return M}),n.d(t,"Proxy",function(){return O}),n.d(t,"Relay",function(){return P}),n.d(t,"Render",function(){return S}),n.d(t,"Scale",function(){return k}),n.d(t,"Sieve",function(){return E}),n.d(t,"SortItems",function(){return j}),n.d(t,"ViewLayout",function(){return T}),n.d(t,"Values",function(){return C});var i=n(20),a=r("aggregate"),o=r("axisticks"),u=r("bound"),s=r("collect"),l=r("compare"),c=r("datajoin"),f=r("encode"),d=r("extent"),h=r("facet"),p=r("field"),v=r("key"),m=r("legendentries"),g=r("mark"),y=r("multiextent"),_=r("multivalues"),b=r("overlap"),x=r("params"),w=r("prefacet"),M=r("projection"),O=r("proxy"),P=r("relay"),S=r("render"),k=r("scale"),E=r("sieve"),j=r("sortitems"),T=r("viewlayout"),C=r("values")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(166);n.d(t,"interpolate",function(){return r.default});var i=n(266);n.d(t,"interpolateArray",function(){return i.default});var a=n(165);n.d(t,"interpolateBasis",function(){return a.default});var o=n(267);n.d(t,"interpolateBasisClosed",function(){return o.default});var u=n(269);n.d(t,"interpolateDate",function(){return u.default});var s=n(103);n.d(t,"interpolateNumber",function(){return s.default});var l=n(270);n.d(t,"interpolateObject",function(){return l.default});var c=n(566);n.d(t,"interpolateRound",function(){return c.default});var f=n(272);n.d(t,"interpolateString",function(){return f.default});var d=n(568);n.d(t,"interpolateTransformCss",function(){return d.interpolateTransformCss}),n.d(t,"interpolateTransformSvg",function(){return d.interpolateTransformSvg});var h=n(570);n.d(t,"interpolateZoom",function(){return h.default});var p=n(271);n.d(t,"interpolateRgb",function(){return p.default}),n.d(t,"interpolateRgbBasis",function(){return p.rgbBasis}),n.d(t,"interpolateRgbBasisClosed",function(){return p.rgbBasisClosed});var v=n(563);n.d(t,"interpolateHsl",function(){return v.default}),n.d(t,"interpolateHslLong",function(){return v.hslLong});var m=n(564);n.d(t,"interpolateLab",function(){return m.default});var g=n(562);n.d(t,"interpolateHcl",function(){return g.default}),n.d(t,"interpolateHclLong",function(){return g.hclLong});var y=n(561);n.d(t,"interpolateCubehelix",function(){return y.default}),n.d(t,"interpolateCubehelixLong",function(){return y.cubehelixLong});var _=n(565);n.d(t,"quantize",function(){return _.default})},function(e,t,n){"use strict";function r(e){return!!e.signal}function i(e){return!!e.step}function a(e){return!l.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!l.isArray(e)&&("fields"in e&&"data"in e)}function u(e){return!l.isArray(e)&&("field"in e&&"data"in e)}function s(e){return!l.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2);t.isVgSignalRef=r,t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=u,t.isSignalRefDomain=s;var c={opacity:1,fill:1,fillOpacity:1,stroke:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,limit:1,dx:1,dy:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1};t.VG_MARK_CONFIGS=l.flagKeys(c)},function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],R)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"root",function(){return R}),t.Selection=r;var a=n(671),o=n(672),u=n(660),s=n(654),l=n(280),c=n(659),f=n(664),d=n(667),h=n(674),p=n(652),v=n(666),m=n(665),g=n(673),y=n(658),_=n(657),b=n(651),x=n(282),w=n(668),M=n(653),O=n(675),P=n(661),S=n(669),k=n(663),E=n(650),j=n(662),T=n(670),C=n(655),A=n(173),N=n(656),R=[null];r.prototype=i.prototype={constructor:r,select:a.default,selectAll:o.default,filter:u.default,data:s.default,enter:l.default,exit:c.default,merge:f.default,order:d.default,sort:h.default,call:p.default,nodes:v.default,node:m.default,size:g.default,empty:y.default,each:_.default,attr:b.default,style:x.default,property:w.default,classed:M.default,text:O.default,html:P.default,raise:S.default,lower:k.default,append:E.default,insert:j.default,remove:T.default,datum:C.default,on:A.default,dispatch:N.default},t.default=i},function(e,t,n){"use strict";function r(e,t){var n=a(e,t);if(n.state>f)throw new Error("too late; already scheduled");return n}function i(e,t){var n=a(e,t);if(n.state>h)throw new Error("too late; already started");return n}function a(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function o(e,t,r){function i(e){r.state=d,r.timer.restart(a,r.delay,r.time),r.delay<=e&&a(e-r.delay)}function a(i){var f,m,y,_;if(r.state!==d)return u();for(f in c)if(_=c[f],_.name===r.name){if(_.state===p)return n.i(s.timeout)(a);_.state===v?(_.state=g,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete c[f]):+f<t&&(_.state=g,_.timer.stop(),delete c[f])}if(n.i(s.timeout)(function(){r.state===p&&(r.state=v,r.timer.restart(o,r.delay,r.time),o(i))}),r.state=h,r.on.call("start",e,e.__data__,r.index,r.group),r.state===h){for(r.state=p,l=new Array(y=r.tween.length),f=0,m=-1;f<y;++f)(_=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(l[++m]=_);l.length=m+1}}function o(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(u),r.state=m,1),i=-1,a=l.length;++i<a;)l[i].call(null,n);r.state===m&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=g,r.timer.stop(),delete c[t];for(var n in c)return;delete e.__transition}var l,c=e.__transition;c[t]=r,r.timer=n.i(s.timer)(i,0,r.time)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"CREATED",function(){return f}),n.d(t,"SCHEDULED",function(){return d}),n.d(t,"STARTING",function(){return h}),n.d(t,"STARTED",function(){return p}),n.d(t,"RUNNING",function(){return v}),n.d(t,"ENDING",function(){return m}),n.d(t,"ENDED",function(){return g}),t.init=r,t.set=i,t.get=a;var u=n(154),s=n(183),l=n.i(u.dispatch)("start","end","interrupt"),c=[],f=0,d=1,h=2,p=3,v=4,m=5,g=6;t.default=function(e,t,n,r,i,a){var u=e.__transition;if(u){if(n in u)return}else e.__transition={};o(e,n,{name:t,index:r,group:i,on:l,tween:c,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:f})}},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&l.warn(l.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function u(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:e.value===t.value?e:i(e,t,n,r)}var s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),c=n(2),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(){return s({},this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(13);t.default=function(e,t,a,o,u,s,l){return{type:e,name:l?l.name:void 0,role:t,style:l&&l.style||a,key:o,from:u,interactive:!(!l||!l.interactive),encode:n.i(i.extendEncode)(s,l,r.Skip)}}},function(e,t,n){e.exports=n(36)(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(152);n.d(t,"color",function(){return r.default}),n.d(t,"rgb",function(){return r.rgb}),n.d(t,"hsl",function(){return r.hsl});var i=n(476);n.d(t,"lab",function(){return i.default}),n.d(t,"hcl",function(){return i.hcl});var a=n(475);n.d(t,"cubehelix",function(){return a.default})},function(e,t,n){"use strict";function r(e){return n.i(h.transformer)({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function i(e){return a(function(){return e})()}function a(e){function t(e){return e=w(e[0]*f.radians,e[1]*f.radians),[e[0]*E+_,b-e[1]*E]}function i(e){return(e=w.invert((e[0]-_)/E,(b-e[1])/E))&&[e[0]*f.degrees,e[1]*f.degrees]}function a(e,t){return e=y(e,t),[e[0]*E+_,b-e[1]*E]}function h(){w=n.i(l.default)(x=n.i(d.rotateRadians)(N,R,D),y);var e=y(C,A);return _=j-e[0]*E,b=T+e[1]*E,g()}function g(){return S=k=null,t}var y,_,b,x,w,M,O,P,S,k,E=150,j=480,T=250,C=0,A=0,N=0,R=0,D=0,L=null,I=o.default,z=null,F=c.default,q=.5,U=n.i(v.default)(a,q);return t.stream=function(e){return S&&k===e?S:S=m(r(x)(I(U(F(k=e)))))},t.preclip=function(e){return arguments.length?(I=e,L=void 0,g()):I},t.postclip=function(e){return arguments.length?(F=e,z=M=O=P=null,g()):F},t.clipAngle=function(e){return arguments.length?(I=+e?n.i(u.default)(L=e*f.radians):(L=null,o.default),g()):L*f.degrees},t.clipExtent=function(e){return arguments.length?(F=null==e?(z=M=O=P=null,c.default):n.i(s.default)(z=+e[0][0],M=+e[0][1],O=+e[1][0],P=+e[1][1]),g()):null==z?null:[[z,M],[O,P]]},t.scale=function(e){return arguments.length?(E=+e,h()):E},t.translate=function(e){return arguments.length?(j=+e[0],T=+e[1],h()):[j,T]},t.center=function(e){return arguments.length?(C=e[0]%360*f.radians,A=e[1]%360*f.radians,h()):[C*f.degrees,A*f.degrees]},t.rotate=function(e){return arguments.length?(N=e[0]%360*f.radians,R=e[1]%360*f.radians,D=e.length>2?e[2]%360*f.radians:0,h()):[N*f.degrees,R*f.degrees,D*f.degrees]},t.precision=function(e){return arguments.length?(U=n.i(v.default)(a,q=e*e),g()):n.i(f.sqrt)(q)},t.fitExtent=function(e,r){return n.i(p.fitExtent)(t,e,r)},t.fitSize=function(e,r){return n.i(p.fitSize)(t,e,r)},t.fitWidth=function(e,r){return n.i(p.fitWidth)(t,e,r)},t.fitHeight=function(e,r){return n.i(p.fitHeight)(t,e,r)},function(){return y=e.apply(this,arguments),t.invert=y.invert&&i,h()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.projectionMutator=a;var o=n(249),u=n(251),s=n(99),l=n(254),c=n(157),f=n(4),d=n(100),h=n(101),p=n(160),v=n(537),m=n.i(h.transformer)({point:function(e,t){this.stream.point(e*f.radians,t*f.radians)}})},function(e,t){e.exports=girder_lib},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),o=function(){function e(t){if(r(this,e),!t)throw new Error('"el" is a required argument');this.el=t}return i(e,[{key:"render",value:function(){throw new Error('"render() is pure abstract"')}},{key:"update",value:function(){return Promise.resolve(this)}},{key:"destroy",value:function(){this.empty()}},{key:"empty",value:function(){(0,a.select)(this.el).selectAll("*").remove()}},{key:"serializationFormats",get:function(){return[]}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"durationSecond",function(){return r}),n.d(t,"durationMinute",function(){return i}),n.d(t,"durationHour",function(){return a}),n.d(t,"durationDay",function(){return o}),n.d(t,"durationWeek",function(){return u});var r=1e3,i=6e4,a=36e5,o=864e5,u=6048e5},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=n?"fill":"stroke",i=o("color",e,{vgChannel:r,defaultValue:e.markDef[r]||e.markDef.color||b.getMarkConfig(r,e.markDef,t)||b.getMarkConfig("color",e.markDef,t)});return!i.fill&&y.contains(["bar","point","circle","square"],e.mark())&&(i.fill={value:"transparent"}),i}function i(e,t){return _.VG_MARK_CONFIGS.reduce(function(n,r){return!e[r]||t&&"orient"===r||(n[r]={value:e[r]}),n},{})}function a(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function o(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return u(t,o,i||e,function(n){return w.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),null,a)})}function u(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=v.isArray(i)?i:[i],u=o.map(function(t){var n=r(t);return p({test:x.predicate(e,t.selection)},n)});return s={},s[n]=u.concat(void 0!==a?[a]:[]),s}return void 0!==a?(l={},l[n]=a,l):{};var s,l}function s(e,t){void 0===t&&(t="text");var n=e.encoding[t];return u(e,n,t,function(t){return w.text(t,e.config)})}function l(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){if(n.markDef.orient){var a=(u={},u[t+"c"]=w.fieldRef(e,r,{},{band:.5}),u);if(m.getFieldDef(n.encoding.size))g.warn(g.message.cannotUseSizeFieldWithBandSize(t));else if(m.isValueDef(n.encoding.size))return p({},a,o("size",n,{vgChannel:i}))}else g.warn(g.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return s={},s[t]=w.fieldRef(e,r,{binSuffix:"range"}),s[i]=w.band(r),s;var u,s}function c(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return p({},d(e,t,n,i),o("size",t,{defaultRef:r,vgChannel:a}))}function f(e,t,n,r,i){return"x"===t?{x2:w.bin(e,n,"start",i?0:r),x:w.bin(e,n,"end",i?r:0)}:{y2:w.bin(e,n,"start",i?r:0),y:w.bin(e,n,"end",i?0:r)}}function d(e,t,n,r){var i=t.encoding,a=t.stack,o=w.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return u={},u[r||e]=o,u;var u}function h(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",u=w.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return s={},s[n]=u,s;var s}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var v=n(0),m=n(7),g=n(3),y=n(2),_=n(28),b=n(18),x=n(16),w=n(54);t.color=r,t.markDefProperties=i,t.valueIfDefined=a,t.nonPosition=o,t.text=s,t.bandPosition=l,t.centeredBandPosition=c,t.binnedPosition=f,t.pointPosition=d,t.pointPosition2=h},function(e,t,n){"use strict";function r(e){return!!o[e]}function i(e){if(e)switch(e=e.toLowerCase()){case"q":case t.QUANTITATIVE:return"quantitative";case"t":case t.TEMPORAL:return"temporal";case"o":case t.ORDINAL:return"ordinal";case"n":case t.NOMINAL:return"nominal"}}Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal"}(a=t.Type||(t.Type={}));var o={quantitative:1,ordinal:1,temporal:1,nominal:1};t.isType=r,t.QUANTITATIVE=a.QUANTITATIVE,t.ORDINAL=a.ORDINAL,t.TEMPORAL=a.TEMPORAL,t.NOMINAL=a.NOMINAL,t.getFullName=i},function(e,t,n){"use strict";function r(e,t){return e.zindex-t.zindex||e.index-t.index}function i(e){if(!e.zdirty)return e.zitems;var t,n,i,a=e.items,o=[];for(n=0,i=a.length;n<i;++n)t=a[n],t.index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(r)}function a(e,t){var n,r,a=e.items;if(a&&a.length){var o=i(e);if(o&&o.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=o}for(n=0,r=a.length;n<r;++n)t(a[n])}}function o(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var o=i(e);for(o&&o.length&&(a=o),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===o)for(a=e.items,r=a.length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.zorder=i,t.visit=a,t.pickVisit=o},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return n.i(o.selection)().transition(e)}function a(){return++O}Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=r,t.default=i,t.newId=a;var o=n(21),u=n(724),s=n(725),l=n(726),c=n(727),f=n(728),d=n(729),h=n(730),p=n(731),v=n(732),m=n(733),g=n(734),y=n(735),_=n(736),b=n(737),x=n(738),w=n(739),M=n(111),O=0,P=o.selection.prototype;r.prototype=i.prototype={constructor:r,select:m.default,selectAll:g.default,filter:d.default,merge:h.default,selection:y.default,transition:w.default,call:P.call,nodes:P.nodes,node:P.node,size:P.size,empty:P.empty,each:P.each,on:p.default,attr:u.default,attrTween:s.default,style:_.default,styleTween:b.default,text:x.default,remove:v.default,tween:M.default,delay:l.default,duration:c.default,ease:f.default}},function(e,t,n){"use strict";function r(e){return e.x||0}function i(e){return e.y||0}function a(e){return e.width||0}function o(e){return e.size||1}function u(e){return e.height||0}function s(e){return(e.x||0)+(e.width||0)}function l(e){return(e.y||0)+(e.height||0)}function c(e){return e.startAngle||0}function f(e){return e.endAngle||0}function d(e){return e.padAngle||0}function h(e){return e.innerRadius||0}function p(e){return e.outerRadius||0}function v(e){return e.cornerRadius||0}function m(e){return!(!1===e.defined)}function g(e){return null==e.size?64:e.size}function y(e){return n.i(k.default)(e.shape||"circle")}function _(e,t){return C.context(e)(t)}function b(e,t){var r=t[0],i=r.interpolate||"linear";return("horizontal"===r.orient?N:A).curve(n.i(S.default)(i,r.orient,r.tension)).context(e)(t)}function x(e,t){var r=t[0],i=r.interpolate||"linear";return R.curve(n.i(S.default)(i,r.orient,r.tension)).context(e)(t)}function w(e,t,n,r){return D.context(e)(t,n,r)}function M(e,t){return(t.mark.shape||t.shape).context(e)(t)}function O(e,t){return L.context(e)(t)}function P(e,t){return I.context(e)(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.arc=_,t.area=b,t.line=x,t.rectangle=w,t.shape=M,t.symbol=O,t.trail=P;var S=n(377),k=n(379),E=n(378),j=n(380),T=n(177),C=n.i(T.arc)().startAngle(c).endAngle(f).padAngle(d).innerRadius(h).outerRadius(p).cornerRadius(v),A=n.i(T.area)().x(r).y1(i).y0(l).defined(m),N=n.i(T.area)().y(i).x1(r).x0(s).defined(m),R=n.i(T.line)().x(r).y(i).defined(m),D=n.i(E.default)().x(r).y(i).width(a).height(u).cornerRadius(v),L=n.i(T.symbol)().type(y).size(g),I=n.i(j.default)().x(r).y(i).defined(m).size(o)},function(e,t,n){"use strict";function r(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function i(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function a(e,t,n,i){var a,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(a=o||null,o=r(e.ownerDocument,n,i),e.insertBefore(o,a)),o}function o(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function u(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}Object.defineProperty(t,"__esModule",{value:!0}),t.domCreate=r,t.domFind=i,t.domChild=a,t.domClear=o,t.cssClass=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(344),s=n(951),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(959);n(423);var f=n(21),d=n(224),h=n(1046),p=function(e){return function(e){function t(){var e;r(this,t);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];var u=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));return u.el=(0,f.select)(u.el).node(),u.options=a[1],u.content=document.createElement("div"),u.content.style.display="block",u.el.appendChild(u.content),u}return a(t,e),o(t,[{key:"generateSpec",value:function(){return{}}},{key:"update",value:function(e){return Object.assign(this.options,e),Promise.resolve(this.view)}},{key:"getWidth",value:function(e){if(this.options&&void 0!==this.options.width)return this.options.width;if(void 0!==this.width&&0!==this.width)return this.width;var t=(0,d.getElementSize)(this.el).width;return 0!==t?t:e}},{key:"getHeight",value:function(e){if(this.options&&void 0!==this.options.height)return this.options.height;if(void 0!==this.height&&0!==this.height)return this.height;var t=(0,d.getElementSize)(this.el).height;return 0!==t?t:e}},{key:"_resizeContent",value:function(e,t){e.spec?(e.spec.width=t.width,e.spec.height=t.height):(e.width=t.width,e.height=t.height);var n=e;return e.$schema&&"vega-lite"===(0,l.default)(e.$schema).library&&(n=(0,u.compile)(e).spec),this.view=new h.View((0,h.parse)(n)).renderer(this.options.renderer||"canvas").initialize(this.content).hover().run(),(0,c.vega)(this.view),{width:window.parseInt(this.content.firstChild.getAttribute("width")),height:window.parseInt(this.content.firstChild.getAttribute("height"))}}},{key:"render",value:function(){var e=this.generateSpec(),t={width:e.width,height:e.height};e.spec&&(t={width:e.spec.width,height:e.spec.height}),this.el.removeChild(this.content);var n=this._resizeContent(e,{width:100,height:100}),r=this._resizeContent(e,{width:200,height:200}),i=(r.width-n.width)/100,a=(r.height-n.height)/100,o=n.width-100*i,u=n.height-100*a;return this._resizeContent(e,{width:(t.width-o)/i,height:(t.height-u)/a}),this.content.firstChild.style.display="block",this.el.appendChild(this.content),Promise.resolve(this.view)}},{key:"destroy",value:function(){this.view.finalize(),this.empty()}},{key:"serialize",value:function(e){return this.view?Promise.resolve(this.view.toImageURL(e)):Promise.reject("The render() method must be called before serialize().")}},{key:"serializationFormats",get:function(){return["png","svg"]}}]),t}(e)};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(504);n.d(t,"formatDefaultLocale",function(){return r.default}),n.d(t,"format",function(){return r.format}),n.d(t,"formatPrefix",function(){return r.formatPrefix});var i=n(245);n.d(t,"formatLocale",function(){return i.default});var a=n(243);n.d(t,"formatSpecifier",function(){return a.default});var o=n(510);n.d(t,"precisionFixed",function(){return o.default});var u=n(511);n.d(t,"precisionPrefix",function(){return u.default});var s=n(512);n.d(t,"precisionRound",function(){return s.default})},function(e,t,n){"use strict";function r(e,t){e&&u.hasOwnProperty(e.type)&&u[e.type](e,t)}function i(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function a(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)i(e[n],t,1);t.polygonEnd()}Object.defineProperty(t,"__esModule",{value:!0});var o={Feature:function(e,t){r(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)r(n[i].geometry,t)}},u={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){i(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)i(n[r],t,0)},Polygon:function(e,t){a(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)a(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)r(n[i],t)}};t.default=function(e,t){e&&o.hasOwnProperty(e.type)?o[e.type](e,t):r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(571);n.d(t,"path",function(){return r.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"map",function(){return i}),n.d(t,"slice",function(){return a});var r=Array.prototype,i=r.map,a=r.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(182);n.d(t,"timeFormatDefaultLocale",function(){return r.default}),n.d(t,"timeFormat",function(){return r.timeFormat}),n.d(t,"timeParse",function(){return r.timeParse}),n.d(t,"utcFormat",function(){return r.utcFormat}),n.d(t,"utcParse",function(){return r.utcParse});var i=n(299);n.d(t,"timeFormatLocale",function(){return i.default});var a=n(298);n.d(t,"isoFormat",function(){return a.default});var o=n(702);n.d(t,"isoParse",function(){return o.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);n.d(t,"timeInterval",function(){return r.default});var i=n(705);n.d(t,"timeMillisecond",function(){return i.default}),n.d(t,"timeMilliseconds",function(){return i.milliseconds}),n.d(t,"utcMillisecond",function(){return i.default}),n.d(t,"utcMilliseconds",function(){return i.milliseconds});var a=n(708);n.d(t,"timeSecond",function(){return a.default}),n.d(t,"timeSeconds",function(){return a.seconds}),n.d(t,"utcSecond",function(){return a.default}),n.d(t,"utcSeconds",function(){return a.seconds});var o=n(706);n.d(t,"timeMinute",function(){return o.default}),n.d(t,"timeMinutes",function(){return o.minutes});var u=n(704);n.d(t,"timeHour",function(){return u.default}),n.d(t,"timeHours",function(){return u.hours});var s=n(703);n.d(t,"timeDay",function(){return s.default}),n.d(t,"timeDays",function(){return s.days});var l=n(715);n.d(t,"timeWeek",function(){return l.sunday}),n.d(t,"timeWeeks",function(){return l.sundays}),n.d(t,"timeSunday",function(){return l.sunday}),n.d(t,"timeSundays",function(){return l.sundays}),n.d(t,"timeMonday",function(){return l.monday}),n.d(t,"timeMondays",function(){return l.mondays}),n.d(t,"timeTuesday",function(){return l.tuesday}),n.d(t,"timeTuesdays",function(){return l.tuesdays}),n.d(t,"timeWednesday",function(){return l.wednesday}),n.d(t,"timeWednesdays",function(){return l.wednesdays}),n.d(t,"timeThursday",function(){return l.thursday}),n.d(t,"timeThursdays",function(){return l.thursdays}),n.d(t,"timeFriday",function(){return l.friday}),n.d(t,"timeFridays",function(){return l.fridays}),n.d(t,"timeSaturday",function(){return l.saturday}),n.d(t,"timeSaturdays",function(){return l.saturdays});var c=n(707);n.d(t,"timeMonth",function(){return c.default}),n.d(t,"timeMonths",function(){return c.months});var f=n(716);n.d(t,"timeYear",function(){return f.default}),n.d(t,"timeYears",function(){return f.years});var d=n(711);n.d(t,"utcMinute",function(){return d.default}),n.d(t,"utcMinutes",function(){return d.utcMinutes});var h=n(710);n.d(t,"utcHour",function(){return h.default}),n.d(t,"utcHours",function(){return h.utcHours});var p=n(709);n.d(t,"utcDay",function(){return p.default}),n.d(t,"utcDays",function(){return p.utcDays});var v=n(713);n.d(t,"utcWeek",function(){return v.utcSunday}),n.d(t,"utcWeeks",function(){return v.utcSundays}),n.d(t,"utcSunday",function(){return v.utcSunday}),n.d(t,"utcSundays",function(){return v.utcSundays}),n.d(t,"utcMonday",function(){return v.utcMonday}),n.d(t,"utcMondays",function(){return v.utcMondays}),n.d(t,"utcTuesday",function(){return v.utcTuesday}),n.d(t,"utcTuesdays",function(){return v.utcTuesdays}),n.d(t,"utcWednesday",function(){return v.utcWednesday}),n.d(t,"utcWednesdays",function(){return v.utcWednesdays}),n.d(t,"utcThursday",function(){return v.utcThursday}),n.d(t,"utcThursdays",function(){return v.utcThursdays}),n.d(t,"utcFriday",function(){return v.utcFriday}),n.d(t,"utcFridays",function(){return v.utcFridays}),n.d(t,"utcSaturday",function(){return v.utcSaturday}),n.d(t,"utcSaturdays",function(){return v.utcSaturdays});var m=n(712);n.d(t,"utcMonth",function(){return m.default}),n.d(t,"utcMonths",function(){return m.utcMonths});var g=n(714);n.d(t,"utcYear",function(){return g.default}),n.d(t,"utcYears",function(){return g.utcYears})},function(e,t,n){"use strict";function r(e,t,n,r,i,a){return y.isFieldDef(t)&&i&&e===i.fieldChannel?o(t,n,{suffix:"end"}):l(e,t,n,r,i,a)}function i(e,t,n,r,i,a,u){return y.isFieldDef(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?o(t,r,{suffix:"start"}):l(e,n,r,i,a,u)}function a(e,t,n,r){return o(e,t,{binSuffix:"start"===n?void 0:"end"},r?{offset:r}:{})}function o(e,t,n,r){var i={scale:t,field:y.field(e,n)};return r?m({},i,r):i}function u(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function s(e,t){return{signal:'(scale("'+t+'", '+y.field(e,{expr:"datum"})+') + scale("'+t+'", '+y.field(e,{binSuffix:"end",expr:"datum"})+"))/2"}}function l(e,t,n,r,i,a){if(t){if(y.isFieldDef(t)){if(t.bin)return b.contains(["x","y"],e)&&"quantitative"===t.type?i&&i.impute?o(t,n,{binSuffix:"mid"}):s(t,n):o(t,n,x.binRequiresRange(t,e)?{binSuffix:"range"}:{});var u=r.get("type");return _.hasDiscreteDomain(u)?"band"===u?o(t,n,{binSuffix:"range"},{band:.5}):o(t,n,{binSuffix:"range"}):o(t,n,{})}if(y.isValueDef(t))return{value:t.value};throw new Error("A channel definition has neither field nor value.")}if("zeroOrMin"===a){if(e===g.X||e===g.X2)return d(n,r);if(e===g.Y||e===g.Y2)return p(n,r);throw new Error("Unsupported channel "+e+" for base function")}if("zeroOrMax"===a){if(e===g.X||e===g.X2)return h(n,r);if(e===g.Y||e===g.Y2)return v(n,r);throw new Error("Unsupported channel "+e+" for base function")}return a}function c(e,t){if(e){if(y.isFieldDef(e))return x.formatSignalRef(e,e.format,"datum",t);if(y.isValueDef(e))return{value:e.value}}}function f(e){return m({},e,{mult:.5})}function d(e,t){return e&&!b.contains([_.ScaleType.LOG,_.ScaleType.TIME,_.ScaleType.UTC],t.get("type"))&&!1!==t.get("zero")?{scale:e,value:0}:{value:0}}function h(e,t){return e&&!b.contains([_.ScaleType.LOG,_.ScaleType.TIME,_.ScaleType.UTC],t.get("type"))&&!1!==t.get("zero")?{scale:e,value:0}:{field:{group:"width"}}}function p(e,t){return e&&!b.contains([_.ScaleType.LOG,_.ScaleType.TIME,_.ScaleType.UTC],t.get("type"))&&!1!==t.get("zero")?{scale:e,value:0}:{field:{group:"height"}}}function v(e,t){return e&&!b.contains([_.ScaleType.LOG,_.ScaleType.TIME,_.ScaleType.UTC],t.get("type"))&&!1!==t.get("zero")?{scale:e,value:0}:{value:0}}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(6),y=n(7),_=n(10),b=n(2),x=n(18);t.stackable=r,t.stackable2=i,t.bin=a,t.fieldRef=o,t.band=u,t.midPoint=l,t.text=c,t.mid=f},function(e,t,n){"use strict";function r(e){return!!e.url}function i(e){return!!e.values}function a(e){return!!e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlData=r,t.isInlineData=i,t.isNamedData=a,t.MAIN="main",t.RAW="raw"},function(e,t,n){"use strict";function r(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}function i(e){if(l.isNumber(e))return e>4&&s.warn(s.message.invalidTimeUnit("quarter",e)),e-1+"";throw new Error(s.message.invalidTimeUnit("quarter",e))}function a(e){if(l.isNumber(e))return e-1+"";var n=e.toLowerCase(),r=t.MONTHS.indexOf(n);if(-1!==r)return r+"";var i=n.substr(0,3),a=t.SHORT_MONTHS.indexOf(i);if(-1!==a)return a+"";throw new Error(s.message.invalidTimeUnit("month",e))}function o(e){if(l.isNumber(e))return e%7+"";var n=e.toLowerCase(),r=t.DAYS.indexOf(n);if(-1!==r)return r+"";var i=n.substr(0,3),a=t.SHORT_DAYS.indexOf(i);if(-1!==a)return a+"";throw new Error(s.message.invalidTimeUnit("day",e))}function u(e,t){void 0===t&&(t=!1);var n=[];if(t&&void 0!==e.day&&l.keys(e).length>1&&(s.warn(s.message.droppedDay(e)),e=l.duplicate(e),delete e.day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(c):n.push(0),void 0!==e.month){var r=t?a(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var u=t?i(e.quarter):e.quarter;n.push(u+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var f=t?o(e.day):e.day;n.push(f+"+1")}else n.push(1);for(var d=0,h=["hours","minutes","seconds","milliseconds"];d<h.length;d++){var p=h[d];void 0!==e[p]?n.push(e[p]):n.push(0)}return e.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=n(2),c=2006;t.isDateTime=r,t.MONTHS=["january","february","march","april","may","june","july","august","september","october","november","december"],t.SHORT_MONTHS=t.MONTHS.map(function(e){return e.substr(0,3)}),t.DAYS=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t.SHORT_DAYS=t.DAYS.map(function(e){return e.substr(0,3)}),t.dateTimeExpr=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"signalPrefix",function(){return o});var r=n(354),i=n(319),a=n(0),o="$";t.default=function(e,t,u){var s,l,c={};try{s=n.i(i.parse)(e)}catch(t){n.i(a.error)("Expression parse error: "+n.i(a.stringValue)(e))}return s.visit(function(e){if("CallExpression"===e.type){var n=e.callee.name,i=r.codegenParams.visitors[n];i&&i(n,e.arguments,t,c)}}),l=n.i(r.codeGenerator)(s),l.globals.forEach(function(e){var n=o+e;!c.hasOwnProperty(n)&&t.getSignal(e)&&(c[n]=t.signalRef(e))}),{$expr:u?u+"return("+l.code+");":l.code,$fields:l.fields,$params:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(927);n.d(t,"scale",function(){return r.default});var i=n(928);n.d(t,"scheme",function(){return i.default});var a=n(366);n.d(t,"bandSpace",function(){return a.default});var o=n(920);n.d(t,"interpolate",function(){return o.interpolate}),n.d(t,"interpolateRange",function(){return o.interpolateRange}),n.d(t,"scaleFraction",function(){return o.scaleFraction});var u=n(929);n.d(t,"timeInterval",function(){return u.timeInterval}),n.d(t,"utcInterval",function(){return u.utcInterval})},function(e,t,n){"use strict";function r(e){this.clear(),e&&this.union(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},i.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},i.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},i.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},i.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,o=n-t*i-n*r,u=this.x1,s=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*u-i*l+a,i*u+r*l+o).add(r*u-i*c+a,i*u+r*c+o).add(r*s-i*l+a,i*s+r*l+o).add(r*s-i*c+a,i*s+r*c+o)},i.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},i.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},i.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},i.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},i.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},i.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(932),i=n(933),a=n(934),o=n(935),u=n(936),s=n(937),l=n(938),c=n(939),f=n(940),d=n(941),h=n(942),p=n(943);t.default={arc:r.default,area:i.default,group:a.default,image:o.default,line:u.default,path:s.default,rect:l.default,rule:c.default,shape:f.default,symbol:d.default,text:h.default,trail:p.default}},function(e,t,n){"use strict";function r(e){return e||(e=u),function(t,r,i,a,u,s){return t.pixelRatio>1&&(i*=t.pixelRatio,a*=t.pixelRatio),n.i(o.pickVisit)(r,function(n){var r=n.bounds;if((!r||r.contains(u,s))&&r)return e(t,n,i,a,u,s)?n:void 0})}}function i(e,t){return function(n,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,l=null==t?s.fill:t,c=s.stroke&&n.isPointInStroke;return c&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(l&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function a(e){return r(i(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.pick=r,t.hitPath=i,t.pickPath=a;var o=n(41),u=function(){return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(952);n.d(t,"bin",function(){return r.default});var i=n(953);n.d(t,"bootstrapCI",function(){return i.default});var a=n(388);n.d(t,"quartiles",function(){return a.default});var o=n(64);n.d(t,"random",function(){return o.random}),n.d(t,"setRandom",function(){return o.setRandom});var u=n(954);n.d(t,"randomInteger",function(){return u.default});var s=n(955);n.d(t,"randomKDE",function(){return s.default});var l=n(956);n.d(t,"randomMixture",function(){return l.default});var c=n(386);n.d(t,"randomNormal",function(){return c.default});var f=n(957);n.d(t,"randomUniform",function(){return f.default})},function(e,t,n){"use strict";function r(e){i=e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"random",function(){return i}),t.setRandom=r;var i=Math.random},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(){this.reset()}function i(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(a,e,this.t),i(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(541);n.d(t,"cluster",function(){return r.default});var i=n(163);n.d(t,"hierarchy",function(){return i.default});var a=n(553);n.d(t,"pack",function(){return a.default});var o=n(264);n.d(t,"packSiblings",function(){return o.default});var u=n(263);n.d(t,"packEnclose",function(){return u.default});var s=n(554);n.d(t,"partition",function(){return s.default});var l=n(555);n.d(t,"stratify",function(){return l.default});var c=n(556);n.d(t,"tree",function(){return c.default});var f=n(558);n.d(t,"treemap",function(){return f.default});var d=n(557);n.d(t,"treemapBinary",function(){return d.default});var h=n(74);n.d(t,"treemapDice",function(){return h.default});var p=n(102);n.d(t,"treemapSlice",function(){return p.default});var v=n(560);n.d(t,"treemapSliceDice",function(){return v.default});var m=n(164);n.d(t,"treemapSquarify",function(){return m.default});var g=n(559);n.d(t,"treemapResquarify",function(){return g.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(628);n.d(t,"scaleBand",function(){return r.default}),n.d(t,"scalePoint",function(){return r.point});var i=n(634);n.d(t,"scaleIdentity",function(){return i.default});var a=n(77);n.d(t,"scaleLinear",function(){return a.default});var o=n(635);n.d(t,"scaleLog",function(){return o.default});var u=n(277);n.d(t,"scaleOrdinal",function(){return u.default}),n.d(t,"scaleImplicit",function(){return u.implicit});var s=n(636);n.d(t,"scalePow",function(){return s.default}),n.d(t,"scaleSqrt",function(){return s.sqrt});var l=n(637);n.d(t,"scaleQuantile",function(){return l.default});var c=n(638);n.d(t,"scaleQuantize",function(){return c.default});var f=n(641);n.d(t,"scaleThreshold",function(){return f.default});var d=n(278);n.d(t,"scaleTime",function(){return d.default});var h=n(643);n.d(t,"scaleUtc",function(){return h.default});var p=n(629);n.d(t,"schemeCategory10",function(){return p.default});var v=n(631);n.d(t,"schemeCategory20b",function(){return v.default});var m=n(632);n.d(t,"schemeCategory20c",function(){return m.default});var g=n(630);n.d(t,"schemeCategory20",function(){return g.default});var y=n(633);n.d(t,"interpolateCubehelixDefault",function(){return y.default});var _=n(639);n.d(t,"interpolateRainbow",function(){return _.default}),n.d(t,"interpolateWarm",function(){return _.warm}),n.d(t,"interpolateCool",function(){return _.cool});var b=n(644);n.d(t,"interpolateViridis",function(){return b.default}),n.d(t,"interpolateMagma",function(){return b.magma}),n.d(t,"interpolateInferno",function(){return b.inferno}),n.d(t,"interpolatePlasma",function(){return b.plasma});var x=n(640);n.d(t,"scaleSequential",function(){return x.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(472);n.d(t,"nest",function(){return r.default});var i=n(473);n.d(t,"set",function(){return i.default});var a=n(151);n.d(t,"map",function(){return a.default});var o=n(471);n.d(t,"keys",function(){return o.default});var u=n(474);n.d(t,"values",function(){return u.default});var s=n(470);n.d(t,"entries",function(){return s.default})},function(e,t,n){"use strict";function r(e){return[n.i(c.atan2)(e[1],e[0]),n.i(c.asin)(e[2])]}function i(e){var t=e[0],r=e[1],i=n.i(c.cos)(r);return[i*n.i(c.cos)(t),i*n.i(c.sin)(t),n.i(c.sin)(r)]}function a(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function o(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function u(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function s(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function l(e){var t=n.i(c.sqrt)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Object.defineProperty(t,"__esModule",{value:!0}),t.spherical=r,t.cartesian=i,t.cartesianDot=a,t.cartesianCross=o,t.cartesianAddInPlace=u,t.cartesianScale=s,t.cartesianNormalizeInPlace=l;var c=n(4)},function(e,t,n){"use strict";function r(e){return function(t,r){var i=n.i(a.cos)(t),o=n.i(a.cos)(r),u=e(i*o);return[u*o*n.i(a.sin)(t),u*n.i(a.sin)(r)]}}function i(e){return function(t,r){var i=n.i(a.sqrt)(t*t+r*r),o=e(i),u=n.i(a.sin)(o),s=n.i(a.cos)(o);return[n.i(a.atan2)(t*u,i*s),n.i(a.asin)(i&&r*u/i)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.azimuthalRaw=r,t.azimuthalInvert=i;var a=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,l=e.value&&(r-t)/e.value;++u<s;)a=o[u],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function a(e,t){var i=t-e;return i?r(e,i>180||i<-180?i-360*Math.round(i/360):i):n.i(s.default)(isNaN(e)?t:e)}function o(e){return 1==(e=+e)?u:function(t,r){return r-t?i(t,r,e):n.i(s.default)(isNaN(t)?r:t)}}function u(e,t){var i=t-e;return i?r(e,i):n.i(s.default)(isNaN(e)?t:e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hue=a,t.gamma=o,t.default=u;var s=n(268)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var r=t();return n.i(a.ticks)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return n.i(s.default)(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,o=t(),u=0,s=o.length-1,l=o[u],c=o[s];return c<l&&(i=l,l=c,c=i,i=u,u=s,s=i),i=n.i(a.tickIncrement)(l,c,r),i>0?(l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i,i=n.i(a.tickIncrement)(l,c,r)):i<0&&(l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i,i=n.i(a.tickIncrement)(l,c,r)),i>0?(o[u]=Math.floor(l/i)*i,o[s]=Math.ceil(c/i)*i,t(o)):i<0&&(o[u]=Math.ceil(l*i)/i,o[s]=Math.floor(c*i)/i,t(o)),e},e}function i(){var e=n.i(u.default)(u.deinterpolateLinear,o.interpolateNumber);return e.copy=function(){return n.i(u.copy)(e,i())},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.linearish=r,t.default=i;var a=n(8),o=n(27),u=n(105),s=n(642)},function(e,t,n){"use strict";function r(e){return e>1?0:e<-1?h:Math.acos(e)}function i(e){return e>=1?p:e<=-1?-p:Math.asin(e)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"abs",function(){return a}),n.d(t,"atan2",function(){return o}),n.d(t,"cos",function(){return u}),n.d(t,"max",function(){return s}),n.d(t,"min",function(){return l}),n.d(t,"sin",function(){return c}),n.d(t,"sqrt",function(){return f}),n.d(t,"epsilon",function(){return d}),n.d(t,"pi",function(){return h}),n.d(t,"halfPi",function(){return p}),n.d(t,"tau",function(){return v}),t.acos=r,t.asin=i;var a=Math.abs,o=Math.atan2,u=Math.cos,s=Math.max,l=Math.min,c=Math.sin,f=Math.sqrt,d=1e-12,h=Math.PI,p=h/2,v=2*h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],u=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}},function(e,t,n){"use strict";function r(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function i(e,t){return t[1]-e[1]||t[0]-e[0]}function a(e,t){var r,a,v,m=e.sort(i).pop();for(l=[],u=new Array(e.length),o=new p.default,s=new p.default;;)if(v=d.firstCircle,m&&(!v||m[1]<v.y||m[1]===v.y&&m[0]<v.x))m[0]===r&&m[1]===a||(n.i(c.addBeach)(m),r=m[0],a=m[1]),m=e.pop();else{if(!v)break;n.i(c.removeBeach)(v.arc)}if(n.i(f.sortCellHalfedges)(),t){var g=+t[0][0],y=+t[0][1],_=+t[1][0],b=+t[1][1];n.i(h.clipEdges)(g,y,_,b),n.i(f.clipCells)(g,y,_,b)}this.edges=l,this.cells=u,o=s=l=u=null}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"epsilon",function(){return v}),n.d(t,"epsilon2",function(){return m}),n.d(t,"beaches",function(){return o}),n.d(t,"cells",function(){return u}),n.d(t,"circles",function(){return s}),n.d(t,"edges",function(){return l}),t.default=a;var o,u,s,l,c=n(741),f=n(302),d=n(303),h=n(185),p=n(186),v=1e-6,m=1e-12;a.prototype={constructor:a,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(r){return n.i(f.cellHalfedgeStart)(t,e[r])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,i){if(o=(a=n.halfedges).length)for(var a,o,u,s=n.site,l=-1,c=t[a[o-1]],f=c.left===s?c.right:c.left;++l<o;)u=f,c=t[a[l]],f=c.left===s?c.right:c.left,u&&f&&i<u.index&&i<f.index&&r(s,u,f)<0&&e.push([s.data,u.data,f.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,u=a.cells.length;!(i=a.cells[o]);)if(++o>=u)return null;var s=e-i.site[0],l=t-i.site[1],c=s*s+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=e-u[0],l=t-u[1],f=s*s+l*l;f<c&&(c=f,o=u.index)}})}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}}},function(e,t,n){function r(e,t){if(!t)return e&&e[f]||null;e[f]=t}function i(e){return c.keys(e)}function a(e){return"["+e+"]"}function o(e,t){e=c.array(e),t=c.$(t);var n,r,i;if(e[f]&&(n=t(e[f]),c.isString(n)))return n;for(r=0,i=e.length;!c.isValid(n)&&r<i;++r)n=t?t(e[r]):e[r];return c.isDate(n)?"date":c.isNumber(n)?"number":c.isBoolean(n)?"boolean":c.isString(n)?"string":null}function u(e,t){if(e.length){var n=t?c.identity:(t=i(e[0]),a);return t.reduce(function(t,r){return t[r]=o(e,n(r)),t},{})}}function s(e,t){e=c.array(e),t=c.$(t);var n,r,i,a=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<a.length;++r)c.isValid(i)&&!h[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function l(e,t){var n=t?c.identity:(t=i(e[0]),a);return t.reduce(function(t,r){return t[r]=s(e,n(r)),t},{})}var c=n(11),f="__types__",d={boolean:c.boolean,integer:c.number,number:c.number,date:c.date,string:function(e){return null==e||""===e?null:e+""}},h={boolean:function(e){return"true"===e||"false"===e||c.isBoolean(e)},integer:function(e){return h.number(e)&&(e=+e)==~~e},number:function(e){return!isNaN(+e)&&!c.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};o.annotation=r,o.all=u,o.infer=s,o.inferAll=l,o.parsers=d,e.exports=o},function(e,t,n){function r(e,t,n){var r=e&&e.nullh||0,i=s.random.normal(0,1),a=l.mean(t,n),o=l.stdev(t,n)/Math.sqrt(l.count.valid(t,n));if(0===o)return a-r==0?1:0;var u=(a-r)/o;return 2*i.cdf(-Math.abs(u))}function i(e,t,n,r){var i,a=r?t.map(o.$(n)):t,u=r?t.map(o.$(r)):n,s=l.count(a),c=l.count(u),f=Array();if(s!==c)throw Error("Array lengths must match.");for(i=0;i<s;++i)o.isValid(a[i])&&o.isValid(u[i])&&f.push(a[i]-u[i]);return l.z.test(f,e&&e.nullh||0)}function a(e,t,n,r){var i=r?t.map(o.$(n)):t,a=r?t.map(o.$(r)):n,u=l.count.valid(i),c=l.count.valid(a),f=s.random.normal(0,1),d=l.mean(i)-l.mean(a)-(e&&e.nullh||0),h=Math.sqrt(l.variance(i)/u+l.variance(a)/c);if(0===h)return 0===d?1:0;var p=d/h;return 2*f.cdf(-Math.abs(p))}var o=n(11),u=n(82),s=n(188),l=e.exports;l.unique=function(e,t,n){t=o.$(t),n=n||[];var r,i,a,u={};for(i=0,a=e.length;i<a;++i)(r=t?t(e[i]):e[i])in u||(u[r]=1,n.push(r));return n},l.count=function(e){return e&&e.length||0},l.count.valid=function(e,t){t=o.$(t);var n,r,i,a=0;for(r=0,i=e.length;r<i;++r)n=t?t(e[r]):e[r],o.isValid(n)&&(a+=1);return a},l.count.missing=function(e,t){t=o.$(t);var n,r,i=0;for(n=0,r=e.length;n<r;++n)null==(t?t(e[n]):e[n])&&(i+=1);return i},l.count.distinct=function(e,t){t=o.$(t);var n,r,i,a={},u=0;for(r=0,i=e.length;r<i;++r)(n=t?t(e[r]):e[r])in a||(a[n]=1,u+=1);return u},l.count.map=function(e,t){t=o.$(t);var n,r,i,a={};for(r=0,i=e.length;r<i;++r)n=t?t(e[r]):e[r],a[n]=n in a?a[n]+1:1;return a},l.median=function(e,t){return t&&(e=e.map(o.$(t))),e=e.filter(o.isValid).sort(o.cmp),l.quantile(e,.5)},l.quartile=function(e,t){t&&(e=e.map(o.$(t))),e=e.filter(o.isValid).sort(o.cmp);var n=l.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},l.quantile=function(e,t,n){void 0===n&&(n=t,t=o.identity),t=o.$(t);var r=(e.length-1)*n+1,i=Math.floor(r),a=+t(e[i-1]),u=r-i;return u?a+u*(t(e[i])-a):a},l.sum=function(e,t){t=o.$(t);for(var n,r=0,i=0,a=e.length;i<a;++i)n=t?t(e[i]):e[i],o.isValid(n)&&(r+=n);return r},l.mean=function(e,t){t=o.$(t);var n,r,i,a,u,s=0;for(r=0,a=0,i=e.length;r<i;++r)u=t?t(e[r]):e[r],o.isValid(u)&&(n=u-s,s+=n/++a);return s},l.mean.geometric=function(e,t){t=o.$(t);var n,r,i,a,u=1;for(a=0,n=0,r=e.length;a<r;++a)if(i=t?t(e[a]):e[a],o.isValid(i)){if(i<=0)throw Error("Geometric mean only defined for positive values.");u*=i,++n}return u=n>0?Math.pow(u,1/n):0},l.mean.harmonic=function(e,t){t=o.$(t);var n,r,i,a,u=0;for(a=0,n=0,r=e.length;a<r;++a)i=t?t(e[a]):e[a],o.isValid(i)&&(u+=1/i,++n);return n/u},l.variance=function(e,t){if(t=o.$(t),!o.isArray(e)||e.length<2)return 0;var n,r,i,a,u=0,s=0;for(r=0,i=0;r<e.length;++r)a=t?t(e[r]):e[r],o.isValid(a)&&(n=a-u,u+=n/++i,s+=n*(a-u));return s/=i-1},l.stdev=function(e,t){return Math.sqrt(l.variance(e,t))},l.modeskew=function(e,t){var n=l.mean(e,t),r=l.median(e,t),i=l.stdev(e,t);return 0===i?0:(n-r)/i},l.min=function(e,t){return l.extent(e,t)[0]},l.max=function(e,t){return l.extent(e,t)[1]},l.extent=function(e,t){t=o.$(t);var n,r,i,a,u=e.length;for(a=0;a<u;++a)if(i=t?t(e[a]):e[a],o.isValid(i)){n=r=i;break}for(;a<u;++a)i=t?t(e[a]):e[a],o.isValid(i)&&(i<n&&(n=i),i>r&&(r=i));return[n,r]},l.extent.index=function(e,t){t=o.$(t);var n,r,i,a,u=-1,s=-1,l=e.length;for(a=0;a<l;++a)if(i=t?t(e[a]):e[a],o.isValid(i)){n=r=i,u=s=a;break}for(;a<l;++a)i=t?t(e[a]):e[a],o.isValid(i)&&(i<n&&(n=i,u=a),i>r&&(r=i,s=a));return[u,s]},l.dot=function(e,t,n){var r,i,a=0;if(n)for(t=o.$(t),n=o.$(n),r=0;r<e.length;++r)(i=t(e[r])*n(e[r]))===i&&(a+=i);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(r=0;r<e.length;++r)(i=e[r]*t[r])===i&&(a+=i)}return a},l.dist=function(e,t,n,r){var i,a,u=o.isFunction(n)||o.isString(n),s=e,l=u?e:t,c=u?r:n,f=2===c||null==c,d=e.length,h=0;for(u&&(t=o.$(t),n=o.$(n)),a=0;a<d;++a)i=u?t(s[a])-n(l[a]):s[a]-l[a],h+=f?i*i:Math.pow(Math.abs(i),c);return f?Math.sqrt(h):Math.pow(h,1/c)},l.cohensd=function(e,t,n){var r=n?e.map(o.$(t)):e,i=n?e.map(o.$(n)):t,a=l.mean(r),u=l.mean(i),s=l.count.valid(r),c=l.count.valid(i);if(s+c-2<=0)return 0;var f=l.variance(r),d=l.variance(i),h=Math.sqrt(((s-1)*f+(c-1)*d)/(s+c-2));return 0===h?0:(a-u)/h},l.covariance=function(e,t,n){var r,i,a,u,s,c=n?e.map(o.$(t)):e,f=n?e.map(o.$(n)):t,d=c.length,h=l.mean(c),p=l.mean(f),v=0,m=0;if(d!==f.length)throw Error("Input lengths must match.");for(r=0;r<d;++r)if(i=c[r],u=o.isValid(i),a=f[r],s=o.isValid(a),u&&s)v+=(i-h)*(a-p),++m;else if(u||s)throw Error("Valid values must align.");return v/(m-1)},l.rank=function(e,t){t=o.$(t)||o.identity;var n,r,i,a=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(o.comparator("val")),u=e.length,s=Array(u),l=-1,c={};for(n=0;n<u;++n){if(r=a[n].val,l<0&&c===r)l=n-1;else if(l>-1&&c!==r){for(i=1+(n-1+l)/2;l<n;++l)s[a[l].idx]=i;l=-1}s[a[n].idx]=n+1,c=r}if(l>-1)for(i=1+(u-1+l)/2;l<u;++l)s[a[l].idx]=i;return s},l.cor=function(e,t,n){var r=n;n=r?e.map(o.$(n)):t,t=r?e.map(o.$(t)):e;var i=l.dot(t,n),a=l.mean(t),u=l.mean(n),s=l.stdev(t),c=l.stdev(n),f=e.length;return(i-f*a*u)/((f-1)*s*c)},l.cor.rank=function(e,t,n){var r,i,a,o=n?l.rank(e,t):l.rank(e),u=n?l.rank(e,n):l.rank(t),s=e.length;for(r=0,i=0;r<s;++r)a=o[r]-u[r],i+=a*a;return 1-6*i/(s*(s*s-1))},l.cor.dist=function(e,t,n){var r,i,a,u,s=n?e.map(o.$(t)):e,c=n?e.map(o.$(n)):t,f=l.dist.mat(s),d=l.dist.mat(c),h=f.length;for(r=0,i=0,a=0,u=0;r<h;++r)i+=f[r]*f[r],a+=d[r]*d[r],u+=f[r]*d[r];return Math.sqrt(u/Math.sqrt(i*a))},l.linearRegression=function(e,t,n){var r,i,a=n?e.map(o.$(t)):e,u=n?e.map(o.$(n)):t,s=a.length,c=l.covariance(a,u),f=l.stdev(a),d=l.stdev(u),h=c/(f*f),p=l.mean(u)-h*l.mean(a),v={slope:h,intercept:p,R:c/(f*d),rss:0};for(i=0;i<s;++i)o.isValid(a[i])&&o.isValid(u[i])&&(r=h*a[i]+p-u[i],v.rss+=r*r);return v},l.bootstrap={},l.bootstrap.ci=function(e,t,n,r,i){var a,u,c,f,d,h,p;for(o.isFunction(t)||o.isString(t)?(a=e.map(o.$(t)),u=n,c=r,f=i):(a=e,u=t,c=n,f=r),u=u?+u:1e3,c=c||.05,d=s.random.bootstrap(a,f),p=0,h=Array(u);p<u;++p)h[p]=l.mean(d.samples(a.length));return h.sort(o.numcmp),[l.quantile(h,c/2),l.quantile(h,1-c/2)]},l.z={},l.z.ci=function(e,t,n){var r=e,i=t;(o.isFunction(t)||o.isString(t))&&(r=e.map(o.$(t)),i=n),i=i||.05;var a=.05===i?1.96:s.random.normal(0,1).icdf(1-i/2),u=l.mean(r),c=l.stdev(r)/Math.sqrt(l.count.valid(r));return[u-a*c,u+a*c]},l.z.test=function(e,t,n,u){return o.isFunction(n)||o.isString(n)?(u&&u.paired?i:a)(u,e,t,n):o.isArray(t)?(n&&n.paired?i:a)(n,e,t):o.isFunction(t)||o.isString(t)?r(n,e,t):r(t,e)},l.dist.mat=function(e){var t,n,r,i=e.length,a=i*i,o=Array(a),u=s.zeros(i),l=0;for(n=0;n<i;++n)for(o[n*i+n]=0,r=n+1;r<i;++r)o[n*i+r]=t=Math.abs(e[n]-e[r]),o[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;n<i;++n)l+=u[n],u[n]/=i;for(l/=a,n=0;n<i;++n)for(r=n;r<i;++r)o[n*i+r]+=l-u[n]-u[r],o[r*i+n]=o[n*i+r];return o},l.entropy=function(e,t){t=o.$(t);var n,r,i=0,a=0,u=e.length;for(n=0;n<u;++n)i+=t?t(e[n]):e[n];if(0===i)return 0;for(n=0;n<u;++n)(r=(t?t(e[n]):e[n])/i)&&(a+=r*Math.log(r));return-a/Math.LN2},l.mutual=function(e,t,n,r){var i,a,u,s=r?e.map(o.$(t)):e,l=r?e.map(o.$(n)):t,c=r?e.map(o.$(r)):n,f={},d={},h=c.length,p=0,v=0,m=0;for(u=0;u<h;++u)f[s[u]]=0,d[l[u]]=0;for(u=0;u<h;++u)f[s[u]]+=c[u],d[l[u]]+=c[u],p+=c[u];for(a=1/(p*Math.LN2),u=0;u<h;++u)0!==c[u]&&(i=p*c[u]/(f[s[u]]*d[l[u]]),v+=c[u]*a*Math.log(i),m+=c[u]*a*Math.log(c[u]/p));return[v,1+v/m]},l.mutual.info=function(e,t,n,r){return l.mutual(e,t,n,r)[0]},l.mutual.dist=function(e,t,n,r){return l.mutual(e,t,n,r)[1]},l.profile=function(e,t){var n,r,i,a,s,c=0,f=0,d=0,h=0,p=null,v=null,m=0,g=[],y={};for(i=0;i<e.length;++i)a=t?t(e[i]):e[i],y[a]=a in y?y[a]+1:(h+=1,1),null==a?++d:o.isValid(a)&&(s="string"==typeof a?a.length:a,(null===p||s<p)&&(p=s),(null===v||s>v)&&(v=s),n=s-c,c+=n/++f,m+=n*(s-c),g.push(s));return m/=f-1,r=Math.sqrt(m),g.sort(o.cmp),{type:u(e,t),unique:y,count:e.length,valid:f,missing:d,distinct:h,min:p,max:v,mean:c,stdev:r,median:a=l.quantile(g,.5),q1:l.quantile(g,.25),q3:l.quantile(g,.75),modeskew:0===r?0:(c-a)/r}},l.summary=function(e,t){t=t||o.keys(e[0]);var n=t.map(function(t){var n=l.profile(e,o.$(t));return n.field=t,n});return n.__summary__=!0,n}},function(e,t,n){"use strict";function r(e){var t=e||i.identity,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,a=t(e);return r[a]&&(r[a]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(0)},function(e,t,n){"use strict";function r(e,t){var r;return n.i(h.isObject)(t)&&(r=t.step,t=t.interval),n.i(h.isString)(t)&&(t="time"===e.type?n.i(d.timeInterval)(t):"utc"===e.type?n.i(d.utcInterval)(t):n.i(h.error)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function i(e,t,r){var i=e.range(),a=i[0],o=n.i(h.peek)(i);if(a>o&&(i=o,o=a,a=i),t=t.filter(function(t){return!((t=e(t))<a||t>o)}),r>0&&t.length>1){for(var u=[t[0],n.i(h.peek)(t)];t.length>r&&t.length>=3;)t=t.filter(function(e,t){return!(t%2)});t.length<3&&(t=u)}return t}function a(e,t){return e.ticks?e.ticks(t):e.domain()}function o(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):String;return e.type===f.Log?u(r,s(n)):r}function u(e,t){return function(n){return e(n)?t(n):""}}function s(e){var t=n.i(p.formatSpecifier)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return l(n.i(p.format)(t),n.i(p.format)(".1f")(1)[1])}return n.i(p.format)(t)}function l(e,t){return function(n){var r,i,a=e(n),o=a.indexOf(t);if(o<0)return a;for(r=c(a,o),i=r<a.length?a.slice(r):"";--r>o;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}function c(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}Object.defineProperty(t,"__esModule",{value:!0}),t.tickCount=r,t.validTicks=i,t.tickValues=a,t.tickFormat=o;var f=n(195),d=n(58),h=n(0),p=n(47)},function(e,t,n){"use strict";function r(e){return!!o[e]}function i(e){return e&&a.contains(t.COUNTING_OPS,e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o={values:1,count:1,valid:1,missing:1,distinct:1,sum:1,mean:1,average:1,variance:1,variancep:1,stdev:1,stdevp:1,median:1,q1:1,q3:1,ci0:1,ci1:1,min:1,max:1,argmin:1,argmax:1};t.AGGREGATE_OPS=a.flagKeys(o),t.isAggregateOp=r,t.COUNTING_OPS=["count","valid","missing","distinct"],t.isCountingAggregateOp=i,t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=a.toSet(t.SHARED_DOMAIN_OPS)},function(e,t,n){"use strict";function r(e){return o.isBoolean(e)?"bin":"bin"+o.keys(e).map(function(t){return("_"+t+"_"+e[t]).replace(",","_")}).join("")}function i(e){switch(e){case a.ROW:case a.COLUMN:case a.SIZE:case a.COLOR:case a.OPACITY:case a.SHAPE:return 6;default:return 10}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(2);t.binToString=r,t.autoMaxBins=i},function(e,t,n){"use strict";function r(e){a(e);var t=e.component.layoutSize;t.setWithExplicit("width",o(e,"width")),t.setWithExplicit("height",o(e,"height"))}function i(e){a(e);var t=e.component.layoutSize,n=e.isVConcat?"width":"height";t.setWithExplicit(n,o(e,n))}function a(e){for(var t=0,n=e.children;t<n.length;t++){n[t].parseLayoutSize()}}function o(e,t){for(var n,r="width"===t?"x":"y",i=e.component.resolve,a=0,o=e.children;a<o.length;a++){var u=o[a],s=u.component.layoutSize.getWithExplicit(t),l=i.scale[r];if("independent"===l&&"range-step"===s.value){n=void 0;break}if(n){if("independent"===l&&n.value!==s.value){n=void 0;break}n=f.mergeValuesWithExplicit(n,s,t,"")}else n=s}if(n){for(var c=0,d=e.children;c<d.length;c++){var u=d[c];e.renameLayoutSize(u.getName(t),e.getName(t)),u.component.layoutSize.set(t,"merged",!1)}return n}return{explicit:!1,value:void 0}}function u(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=s(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=s(e,"height");t.set("height",r,!1)}}function s(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");return l.hasDiscreteDomain(a)&&c.isVgRangeStep(o)?"range-step":r.view[t]}return"width"===t&&"text"===e.mark()?r.scale.textXRangeStep:r.scale.rangeStep||l.defaultScaleConfig.rangeStep}Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),c=n(28),f=n(31);t.parseLayerLayoutSize=r,t.parseRepeatLayoutSize=r,t.parseConcatLayoutSize=i,t.parseChildrenLayoutSize=a,t.parseUnitLayoutSize=u},function(e,t,n){"use strict";function r(e){T.isUnitModel(e)?i(e):a(e)}function i(e){var t=e.specifiedScales,n=e.component.scales;P.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=u(e,r),s=n[r];s.domains=o,M.isSelectionDomain(a)&&s.set("domainRaw",{signal:C.SELECTION_DOMAIN+JSON.stringify(a)},!0)})}function a(e){for(var t=0,n=e.children;t<n.length;t++){r(n[t])}var i=e.component.scales;P.keys(i).forEach(function(t){for(var n,r=0,a=e.children;r<a.length;r++){var o=a[r],u=o.component.scales[t];u&&(n=void 0===n?u.domains:n.concat(u.domains))}T.isFacetModel(e)&&n.forEach(function(e){S.isDataRefDomain(e)&&(e.data=j.FACET_SCALE_PREFIX+e.data.replace(j.FACET_SCALE_PREFIX,""))}),i[t].domains=n})}function o(e,t,n,r){if("unaggregated"===e){var i=c(t,n),a=i.valid,o=i.reason;if(!a)return void w.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=c(t,n).valid;if(a)return"unaggregated"}return e}function u(e,t){var n=e.getScaleComponent(t).get("type"),r=o(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=p({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?s(n,r,e,"x").concat(s(n,r,e,"x2")):s(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?s(n,r,e,"y").concat(s(n,r,e,"y2")):s(n,r,e,"y2"):s(n,r,e,t)}function s(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!M.isSelectionDomain(t)){if(!i.bin)return x.isDateTime(t[0])?t.map(function(e){return{signal:"{data: "+x.dateTimeExpr(e,!0)+"}"}}):[t];w.warn(w.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel){if("normalize"===a.offset)return[[0,1]];var o=n.requestDataName(b.MAIN);return[{data:o,field:n.field(r,{suffix:"start"})},{data:o,field:n.field(r,{suffix:"end"})}]}var u=_.isScaleChannel(r)?l(n,r,e):void 0;if("unaggregated"===t){var o=n.requestDataName(b.MAIN);return[{data:o,field:n.field(r,{aggregate:"min"})},{data:o,field:n.field(r,{aggregate:"max"})}]}if(i.bin){if(M.isBinScale(e)){var s=n.getName(y.binToString(i.bin)+"_"+i.field+"_bins");return[{signal:"sequence("+s+".start, "+s+".stop + "+s+".step, "+s+".step)"}]}if(M.hasDiscreteDomain(e))return[{data:P.isBoolean(u)?n.requestDataName(b.MAIN):n.requestDataName(b.RAW),field:n.field(r,E.binRequiresRange(i,r)?{binSuffix:"range"}:{}),sort:!0!==u&&O.isSortField(u)?u:{field:n.field(r,{}),op:"min"}}];if("x"===r||"y"===r){var o=n.requestDataName(b.MAIN);return[{data:o,field:n.field(r,{})},{data:o,field:n.field(r,{binSuffix:"end"})}]}return[{data:n.requestDataName(b.MAIN),field:n.field(r,{})}]}return u?[{data:P.isBoolean(u)?n.requestDataName(b.MAIN):n.requestDataName(b.RAW),field:n.field(r),sort:u}]:[{data:n.requestDataName(b.MAIN),field:n.field(r)}]}function l(e,t,n){if(M.hasDiscreteDomain(n)){var r=e.sort(t);return O.isSortField(r)?r:"descending"===r?{op:"min",field:e.field(t),order:"descending"}:!!P.contains(["ascending",void 0],r)||void 0}}function c(e,t){return e.aggregate?g.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:w.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:w.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:w.message.unaggregateDomainHasNoEffectForRawField(e)}}function f(e){var t=P.unique(e.map(function(e){if(S.isDataRefDomain(e)){e.sort;return v(e,["sort"])}return e}),P.hash),n=P.unique(e.map(function(e){if(S.isDataRefDomain(e)){var t=e.sort;return void 0===t||P.isBoolean(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(function(e){return void 0!==e}),P.hash);if(1===t.length){var r=e[0];if(S.isDataRefDomain(r)&&n.length>0){var i=n[0];return n.length>1&&(w.warn(w.message.MORE_THAN_ONE_SORT),i=!0),p({},r,{sort:i})}return r}var a=n.filter(function(e){return!!P.isBoolean(e)||("count"===e.op||(w.warn(w.message.domainSortDropped(e)),!1))}),o=!0;if(1===a.length)o=a[0];else if(a.length>1){var u=a.filter(function(e){return!1!==e});u.length>1?(w.warn(w.message.MORE_THAN_ONE_SORT),o=!0):o=u[0]}var s=P.unique(e.map(function(e){return S.isDataRefDomain(e)?e.data:null}),function(e){return e});if(1===s.length&&null!==s[0]){var r={data:s[0],fields:t.map(function(e){return e.field}),sort:o};return r}return{fields:t,sort:o}}function d(e){if(S.isDataRefDomain(e)&&m.isString(e.field))return e.field;if(k.isDataRefUnionedDomain(e)){for(var t=void 0,n=0,r=e.fields;n<r.length;n++){var i=r[n];if(S.isDataRefDomain(i)&&m.isString(i.field))if(t){if(t!==i.field)return w.warn("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),t}else t=i.field}return w.warn("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(k.isFieldRefUnionDomain(e)&&m.isString){w.warn("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");var t=e.fields[0];return m.isString(t)?t:void 0}}function h(e,t){return f(e.component.scales[t].domains.map(function(t){return S.isDataRefDomain(t)&&(t.data=e.lookupDataSource(t.data)),t}))}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},v=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),g=n(86),y=n(87),_=n(6),b=n(55),x=n(56),w=n(3),M=n(10),O=n(126),P=n(2),S=n(28),k=n(28),E=n(18),j=n(334),T=n(15),C=n(16);t.parseScaleDomain=r,t.parseDomainForChannel=u,t.domainSort=l,t.canUseUnaggregatedDomain=c,t.mergeDomains=f,t.getFieldFromDomain=d,t.assembleDomain=h},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function u(e){return s(e)||l(e)}function s(e){return void 0!==e.vconcat}function l(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return f(e,t);if(a(e))return d(e,t);if(o(e))return h(e,t);if(s(e))return p(e,t);if(l(e))return v(e,t);if(i(e)){var n=j.channelHasField(e.encoding,k.ROW),u=j.channelHasField(e.encoding,k.COLUMN);return n||u?m(e,t):y(e,t)}throw new Error(C.message.INVALID_SPEC)}function f(e,t){var n=e.spec,r=S(e,["spec"]);return P({},r,{spec:c(n,t)})}function d(e,t){var n=e.layer,r=S(e,["layer"]);return P({},r,{layer:n.map(function(e){return a(e)?d(e,t):y(e,t)})})}function h(e,t){var n=e.spec,r=S(e,["spec"]);return P({},r,{spec:c(n,t)})}function p(e,t){var n=e.vconcat,r=S(e,["vconcat"]);return P({},r,{vconcat:n.map(function(e){return c(e,t)})})}function v(e,t){var n=e.hconcat,r=S(e,["hconcat"]);return P({},r,{hconcat:n.map(function(e){return c(e,t)})})}function m(e,t){var n=e.encoding,r=n.row,i=n.column,a=S(n,["row","column"]),o=e.mark,u=e.width,s=e.height,l=e.selection,c=(e.encoding,S(e,["mark","width","height","selection","encoding"]));return P({},c,{facet:P({},r?{row:r}:{},i?{column:i}:{}),spec:y(P({mark:o},u?{width:u}:{},s?{height:s}:{},{encoding:a},l?{selection:l}:{}),t)})}function g(e){return A.isPrimitiveMark(e.mark)}function y(e,t){if(g(e)){if(j.isRanged(e.encoding))return _(e);var n=t&&t.overlay,r=n&&e.mark===A.AREA&&R.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===A.LINE||"linepoint"===n.area&&e.mark===A.AREA);return i||r?b(e,i,r,t):e}return E.normalize(e,t)}function _(e){var t=j.channelHasField(e.encoding,k.X),n=j.channelHasField(e.encoding,k.Y),r=j.channelHasField(e.encoding,k.X2),i=j.channelHasField(e.encoding,k.Y2);if(r&&!t||i&&!n){var a=R.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function b(e,t,n,r){var i=e.mark,a=e.selection,o=e.encoding,u=S(e,["mark","selection","encoding"]),s=[{mark:i,encoding:o}],l=N.stack(i,o,r?r.stack:void 0),c=o;if(l){var f=l.fieldChannel,d=l.offset;c=P({},o,(h={},h[f]=P({},o[f],d?{stack:d}:{}),h))}return n&&s.push(P({mark:{type:"line",style:"lineOverlay"}},a?{selection:a}:{},{encoding:c})),t&&s.push(P({mark:{type:"point",filled:!0,style:"pointOverlay"}},a?{selection:a}:{},{encoding:c})),P({},u,{layer:s});var h}function x(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=R.hash(n);e[r]=e[r]||t}),e}function w(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?x(t,T.fieldDefs(e.encoding)):w(e,t)});else if(r(e))x(t,T.fieldDefs(e.facet)),w(e.spec,t);else if(o(e))w(e.spec,t);else if(u(e)){var n=s(e)?e.vconcat:e.hconcat;n.forEach(function(e){return w(e,t)})}else x(t,T.fieldDefs(e.encoding));return t}function M(e){return R.vals(w(e))}function O(e,t){return t=t||e.config,!!A.isPrimitiveMark(e.mark)&&null!==N.stack(e.mark,e.encoding,t?t.stack:void 0)}var P=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},S=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var k=n(6),E=n(124),j=n(24),T=n(24),C=n(3),A=n(25),N=n(206),R=n(2);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=u,t.isVConcatSpec=s,t.isHConcatSpec=l,t.normalize=c,t.fieldDefs=M,t.isStacked=O},function(e,t,n){"use strict";function r(e){return!!b[e]}function i(e){return!!x[e]}function a(e){return!!O[e]}function o(e){return e.substr(3)}function u(e){return!!P[e]}function s(e,n){for(var r=a(e),i=r?new Date(Date.UTC(0,0,1,0,0,0,0)):new Date(0,0,1,0,0,0,0),o=0,u=t.TIMEUNIT_PARTS;o<u.length;o++){var s=u[o];if(f(e,s))switch(s){case m.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case m.QUARTER:var c=l("month",r),d=c.getDateMethod;i[c.setDateMethod](3*Math.floor(n[d]()/3));break;default:var h=l(s,r),p=h.getDateMethod;i[h.setDateMethod](n[p]())}}return i}function l(e,t){var n=S[e];return{setDateMethod:t?"setUTC"+n.substr(3):n,getDateMethod:"get"+(t?"UTC":"")+n.substr(3)}}function c(e){return t.TIMEUNIT_PARTS.reduce(function(t,n){return f(e,n)?t.concat(n):t},[])}function f(e,t){var n=e.indexOf(t);return n>-1&&(t!==m.SECONDS||0===n||"i"!==e.charAt(n-1))}function d(e,n){function r(e){return e===m.QUARTER?"("+o+"quarter("+i+")-1)":""+o+e+"("+i+")"}var i="datum"+_.accessPath(n),o=a(e)?"utc":"",u=t.TIMEUNIT_PARTS.reduce(function(t,n){return f(e,n)&&(t[n]=r(n)),t},{});return g.dateTimeExpr(u)}function h(e,t,n,r){if(e){var i=[],a="",o=f(e,m.YEAR);f(e,m.QUARTER)&&(a="'Q' + quarter("+t+")"),f(e,m.MONTH)&&i.push(!1!==n?"%b":"%B"),f(e,m.DAY)?i.push(n?"%a":"%A"):f(e,m.DATE)&&i.push("%d"+(o?",":"")),o&&i.push(n?"%y":"%Y");var u=[];f(e,m.HOURS)&&u.push("%H"),f(e,m.MINUTES)&&u.push("%M"),f(e,m.SECONDS)&&u.push("%S"),f(e,m.MILLISECONDS)&&u.push("%L");var s=[];return i.length>0&&s.push(i.join(" ")),u.length>0&&s.push(u.join(":")),s.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+s.join(" ")+"')":"timeFormat("+t+", '"+s.join(" ")+"')"),a||void 0}}function p(e){return"day"!==e&&e.indexOf("day")>=0?(y.warn(y.message.dayReplacedWithDate(e)),e.replace("day","date")):e}var v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m,g=n(56),y=n(3),_=n(2);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(m=t.TimeUnit||(t.TimeUnit={}));var b={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};t.TIMEUNIT_PARTS=_.flagKeys(b),t.isLocalSingleTimeUnit=r;var x={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};t.isUtcSingleTimeUnit=i;var w={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},M={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},O=v({},x,M);t.isUTCTimeUnit=a,t.getLocalTimeUnit=o;var P=v({},b,x,w,M);t.TIMEUNITS=_.flagKeys(P),t.isTimeUnit=u;var S={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};t.convert=s,t.getTimeUnitParts=c,t.containsTimeUnit=f,t.fieldExpr=d,t.formatExpression=h,t.normalizeTimeUnit=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(864);n.d(t,"loader",function(){return r.default});var i=n(865);n.d(t,"read",function(){return i.default});var a=n(348);n.d(t,"inferType",function(){return a.inferType}),n.d(t,"inferTypes",function(){return a.inferTypes}),n.d(t,"typeParsers",function(){return a.typeParsers});var o=n(346);n.d(t,"formats",function(){return o.default})},function(e,t,n){"use strict";function r(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function i(e){return n.i(l.isString)(e)?e:null}function a(e,t,r){var i,a=n.i(u.aggrField)(r.op,r.field);if(t.ops){for(var o=0,s=t.as.length;o<s;++o)if(t.as[o]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];r.op&&(t.ops.push((i=r.op.signal)?e.signalRef(i):r.op),t.fields.push(e.fieldRef(r.field)),t.as.push(a))}function o(e,t,r,a,o,s,l){var c,f,d=t[r]||(t[r]={}),h=n.i(u.sortKey)(s),p=i(o);if(null!=p&&(e=t.scope,p+=h?"|"+h:"",c=d[p]),!c){var v=s?{field:u.keyFieldRef,pulse:t.countsRef(e,o,s)}:{field:e.fieldRef(o),pulse:n.i(u.ref)(t.output)};h&&(v.sort=e.sortRef(s)),f=e.add(n.i(u.entry)(a,void 0,v)),l&&(t.index[o]=f),c=n.i(u.ref)(f),null!=p&&(d[p]=c)}return c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(20),s=n(26),l=n(0);r.fromEntries=function(e,t){var i=t.length,a=1,o=t[0],s=t[i-1],l=t[i-2],c=null;for(e.add(t[0]);a<i;++a)t[a].params.pulse=n.i(u.ref)(t[a-1]),e.add(t[a]),"aggregate"===t[a].type&&(c=t[a]);return new r(e,o,l,s,c)};var c=r.prototype;c.countsRef=function(e,t,r){var o,l,c,f=this,d=f.counts||(f.counts={}),h=i(t);return null!=h&&(e=f.scope,o=d[h]),o?r&&r.field&&a(e,o.agg.params,r):(c={groupby:e.fieldRef(t,"key"),pulse:n.i(u.ref)(f.output)},r&&r.field&&a(e,c,r),l=e.add(n.i(s.Aggregate)(c)),o=e.add(n.i(s.Collect)({pulse:n.i(u.ref)(l)})),o={agg:l,ref:n.i(u.ref)(o)},null!=h&&(d[h]=o)),o.ref},c.tuplesRef=function(){return n.i(u.ref)(this.values)},c.extentRef=function(e,t){return o(e,this,"extent","extent",t,!1)},c.domainRef=function(e,t){return o(e,this,"domain","values",t,!1)},c.valuesRef=function(e,t,n){return o(e,this,"vals","values",t,n||!0)},c.lookupRef=function(e,t){return o(e,this,"lookup","tupleindex",t,!1)},c.indataRef=function(e,t){return o(e,this,"indata","tupleindex",t,!0,!0)}},function(e,t,n){"use strict";function r(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function i(e,t){return r(["_"],e,t)}function a(e,t){return r(["datum","_"],e,t)}function o(e,t){return r(["event"],e,t)}function u(e,t){return r(["_","event"],e,t)}function s(e,t){return r(["item","_"],e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.operatorExpression=i,t.parameterExpression=a,t.eventExpression=o,t.handlerExpression=u,t.encodeExpression=s},function(e,t,n){"use strict";function r(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}Object.defineProperty(t,"__esModule",{value:!0}),t.accessorName=r,t.accessorFields=i,t.default=function(e,t,n){return e.fields=t||[],e.fname=n,e}},,function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(e){return new a(e)}function n(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function r(e,t){var r=n(e);return function(n,i){return t(r(n),i,e)}}function i(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function a(e){function t(t){return t.map(a).join(e)}function a(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var o=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);this.parse=function(e,t){var i,a,o=this.parseRows(e,function(e,o){if(i)return i(e,o-1);a=e,i=t?r(e,t):n(e)});return o.columns=a,o},this.parseRows=function(e,t){function n(){if(c>=l)return o;if(i)return i=!1,a;var t,n=c;if(34===e.charCodeAt(n)){for(var r=n;r++<l;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;++r}return c=r+2,t=e.charCodeAt(r+1),13===t?(i=!0,10===e.charCodeAt(r+2)&&++c):10===t&&(i=!0),e.slice(n+1,r).replace(/""/g,'"')}for(;c<l;){var s=1;if(10===(t=e.charCodeAt(c++)))i=!0;else if(13===t)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(t!==u)continue;return e.slice(n,c-s)}return e.slice(n)}for(var r,i,a={},o={},s=[],l=e.length,c=0,f=0;(r=n())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,f++))||s.push(d)}return s},this.format=function(t,n){return null==n&&(n=i(t)),[n.map(a).join(e)].concat(t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})).join("\n")},this.formatRows=function(e){return e.map(t).join("\n")}}t.prototype=a.prototype;var o=t(","),u=t("\t");e.version="0.1.14",e.dsv=t,e.csv=o,e.tsv=u})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156);t.default=function(e){return e=n.i(r.default)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";function r(e,t,r,f){function d(n,i){return e<=n&&n<=r&&t<=i&&i<=f}function h(n,i,a,o){var u=0,s=0;if(null==n||(u=p(n,a))!==(s=p(i,a))||m(n,i)<0^a>0)do{o.point(0===u||3===u?e:r,u>1?f:t)}while((u=(u+a+4)%4)!==s);else o.point(i[0],i[1])}function p(a,o){return n.i(i.abs)(a[0]-e)<i.epsilon?o>0?0:3:n.i(i.abs)(a[0]-r)<i.epsilon?o>0?2:1:n.i(i.abs)(a[1]-t)<i.epsilon?o>0?1:0:o>0?3:2}function v(e,t){return m(e.x,t.x)}function m(e,t){var n=p(e,1),r=p(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){function p(e,t){d(e,t)&&N.point(e,t)}function m(){for(var t=0,n=0,r=M.length;n<r;++n)for(var i,a,o=M[n],u=1,s=o.length,l=o[0],c=l[0],d=l[1];u<s;++u)i=c,a=d,l=o[u],c=l[0],d=l[1],a<=f?d>f&&(c-i)*(f-a)>(d-a)*(e-i)&&++t:d<=f&&(c-i)*(f-a)<(d-a)*(e-i)&&--t;return t}function g(){N=R,w=[],M=[],A=!0}function y(){var e=m(),t=A&&e,r=(w=n.i(s.merge)(w)).length;(t||r)&&(i.polygonStart(),t&&(i.lineStart(),h(null,null,1,i),i.lineEnd()),r&&n.i(u.default)(w,v,e,h,i),i.polygonEnd()),N=i,w=M=O=null}function _(){D.point=x,M&&M.push(O=[]),C=!0,T=!1,E=j=NaN}function b(){w&&(x(P,S),k&&T&&R.rejoin(),w.push(R.result())),D.point=p,T&&N.lineEnd()}function x(i,a){var u=d(i,a);if(M&&O.push([i,a]),C)P=i,S=a,k=u,C=!1,u&&(N.lineStart(),N.point(i,a));else if(u&&T)N.point(i,a);else{var s=[E=Math.max(c,Math.min(l,E)),j=Math.max(c,Math.min(l,j))],h=[i=Math.max(c,Math.min(l,i)),a=Math.max(c,Math.min(l,a))];n.i(o.default)(s,h,e,t,r,f)?(T||(N.lineStart(),N.point(s[0],s[1])),N.point(h[0],h[1]),u||N.lineEnd(),A=!1):u&&(N.lineStart(),N.point(i,a),A=!1)}E=i,j=a,T=u}var w,M,O,P,S,k,E,j,T,C,A,N=i,R=n.i(a.default)(),D={point:p,lineStart:_,lineEnd:b,polygonStart:g,polygonEnd:y};return D}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4),a=n(250),o=n(516),u=n(253),s=n(8),l=1e9,c=-l},function(e,t,n){"use strict";function r(e,t){return[e>l.pi?e-l.tau:e<-l.pi?e+l.tau:e,t]}function i(e,t,i){return(e%=l.tau)?t||i?n.i(s.default)(o(e),u(t,i)):o(e):t||i?u(t,i):r}function a(e){return function(t,n){return t+=e,[t>l.pi?t-l.tau:t<-l.pi?t+l.tau:t,n]}}function o(e){var t=a(e);return t.invert=a(-e),t}function u(e,t){function r(e,t){var r=n.i(l.cos)(t),s=n.i(l.cos)(e)*r,c=n.i(l.sin)(e)*r,f=n.i(l.sin)(t),d=f*i+s*a;return[n.i(l.atan2)(c*o-d*u,s*i-f*a),n.i(l.asin)(d*o+c*u)]}var i=n.i(l.cos)(e),a=n.i(l.sin)(e),o=n.i(l.cos)(t),u=n.i(l.sin)(t);return r.invert=function(e,t){var r=n.i(l.cos)(t),s=n.i(l.cos)(e)*r,c=n.i(l.sin)(e)*r,f=n.i(l.sin)(t),d=f*o-c*u;return[n.i(l.atan2)(c*o+f*u,s*i+d*a),n.i(l.asin)(d*i-s*a)]},r}Object.defineProperty(t,"__esModule",{value:!0}),t.rotateRadians=i;var s=n(254),l=n(4);r.invert=r,t.default=function(e){function t(t){return t=e(t[0]*l.radians,t[1]*l.radians),t[0]*=l.degrees,t[1]*=l.degrees,t}return e=i(e[0]*l.radians,e[1]*l.radians,e.length>2?e[2]*l.radians:0),t.invert=function(t){return t=e.invert(t[0]*l.radians,t[1]*l.radians),t[0]*=l.degrees,t[1]*=l.degrees,t},t}},function(e,t,n){"use strict";function r(e){return function(t){var n=new i;for(var r in e)n[r]=e[r];return n.stream=t,n}}function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.transformer=r,t.default=function(e){return{stream:r(e)}},i.prototype={constructor:i,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,l=e.value&&(i-n)/e.value;++u<s;)a=o[u],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(168);t.default=function(e,t){return function(i,a){var o=n.i(r.default)(i).mimeType(e).response(t);if(null!=a){if("function"!=typeof a)throw new Error("invalid callback: "+a);return o.get(a)}return o}}},function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n.i(h.default)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function a(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function o(e,t,n,r){var i=e[0],a=e[1],o=t[0],u=t[1];return a<i?(i=n(a,i),o=r(u,o)):(i=n(i,a),o=r(o,u)),function(e){return o(i(e))}}function u(e,t,r,i){var a=Math.min(e.length,t.length)-1,o=new Array(a),u=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)o[s]=r(e[s],e[s+1]),u[s]=i(t[s],t[s+1]);return function(t){var r=n.i(c.bisect)(e,t,1,a)-1;return u[r](o[r](t))}}function s(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function l(e,t){function n(){return l=Math.min(m.length,g.length)>2?u:o,c=h=null,s}function s(t){return(c||(c=l(m,g,_?i(e):e,y)))(+t)}var l,c,h,m=v,g=v,y=f.interpolate,_=!1;return s.invert=function(e){return(h||(h=l(g,m,r,_?a(t):t)))(+e)},s.domain=function(e){return arguments.length?(m=d.map.call(e,p.default),n()):m.slice()},s.range=function(e){return arguments.length?(g=d.slice.call(e),n()):g.slice()},s.rangeRound=function(e){return g=d.slice.call(e),y=f.interpolateRound,n()},s.clamp=function(e){return arguments.length?(_=!!e,n()):_},s.interpolate=function(e){return arguments.length?(y=e,n()):y},n()}Object.defineProperty(t,"__esModule",{value:!0}),t.deinterpolateLinear=r,t.copy=s,t.default=l;var c=n(8),f=n(27),d=n(50),h=n(169),p=n(276),v=[0,1]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0}),t.point=r,t.Basis=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.default=function(e){return new i(e)}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i(e,t){this._context=e,this._k=(1-t)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.point=r,t.Cardinal=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";function r(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},t.default=function(e){return new r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";function r(e,t){var r,i;return function(){var a=n.i(o.set)(this,e),u=a.tween;if(u!==r){i=r=u;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}a.tween=i}}function i(e,t,r){var i,a;if("function"!=typeof r)throw new Error;return function(){var u=n.i(o.set)(this,e),s=u.tween;if(s!==i){a=(i=s).slice();for(var l={name:t,value:r},c=0,f=a.length;c<f;++c)if(a[c].name===t){a[c]=l;break}c===f&&a.push(l)}u.tween=a}}function a(e,t,r){var i=e._id;return e.each(function(){var e=n.i(o.set)(this,i);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return n.i(o.get)(e,i).value[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.tweenValue=a;var o=n(30);t.default=function(e,t){var a=this._id;if(e+="",arguments.length<2){for(var u,s=n.i(o.get)(this.node(),a).tween,l=0,c=s.length;l<c;++l)if((u=s[l]).name===e)return u.value;return null}return this.each((null==t?r:i)(a,e,t))}},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,a,o){for(;a>=0&&a<o;a+=e){var u=i?i[a]:a;r=n(r,t[u],u,t)}return r}return function(n,r,i,a){r=M(r,a,4);var o=!T(n)&&w.keys(n),u=(o||n).length,s=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[s]:s],s+=e),t(n,r,i,o,s,u)}}function a(e){return function(t,n,r){n=O(n,r);for(var i=j(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}}function o(e,t,n){return function(r,i,a){var o=0,u=j(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(p.call(r,o,u),w.isNaN),a>=0?a+o:-1;for(a=e>0?o:u-1;a>=0&&a<u;a+=e)if(r[a]===i)return a;return-1}}function u(e,t){var n=D.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||f,a="constructor";for(w.has(e,a)&&!w.contains(t,a)&&t.push(a);n--;)(a=D[n])in e&&e[a]!==i[a]&&!w.contains(t,a)&&t.push(a)}var s=this,l=s._,c=Array.prototype,f=Object.prototype,d=Function.prototype,h=c.push,p=c.slice,v=f.toString,m=f.hasOwnProperty,g=Array.isArray,y=Object.keys,_=d.bind,b=Object.create,x=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};void 0!==e&&e.exports&&(t=e.exports=w),t._=w,w.VERSION="1.8.3";var M=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},O=function(e,t,n){return null==e?w.identity:w.isFunction(e)?M(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return O(e,t,1/0)};var P=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),u=o.length,s=0;s<u;s++){var l=o[s];t&&void 0!==n[l]||(n[l]=a[l])}return n}},S=function(e){if(!w.isObject(e))return{};if(b)return b(e);x.prototype=e;var t=new x;return x.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,j=k("length"),T=function(e){var t=j(e);return"number"==typeof t&&t>=0&&t<=E};w.each=w.forEach=function(e,t,n){t=M(t,n);var r,i;if(T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=w.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},w.map=w.collect=function(e,t,n){t=O(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var u=r?r[o]:o;a[o]=t(e[u],u,e)}return a},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var r;if(void 0!==(r=T(e)?w.findIndex(e,t,n):w.findKey(e,t,n))&&-1!==r)return e[r]},w.filter=w.select=function(e,t,n){var r=[];return t=O(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(O(t)),n)},w.every=w.all=function(e,t,n){t=O(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},w.some=w.any=function(e,t,n){t=O(t,n);for(var r=!T(e)&&w.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return T(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=p.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var u=0,s=e.length;u<s;u++)(r=e[u])>a&&(a=r)}else t=O(t,n),w.each(e,function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},w.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=T(e)?e:w.values(e);for(var u=0,s=e.length;u<s;u++)(r=e[u])<a&&(a=r)}else t=O(t,n),w.each(e,function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},w.shuffle=function(e){for(var t,n=T(e)?e:w.values(e),r=n.length,i=Array(r),a=0;a<r;a++)t=w.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},w.sample=function(e,t,n){return null==t||n?(T(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=O(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,r){var i={};return n=O(n,r),w.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};w.groupBy=C(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=C(function(e,t,n){e[n]=t}),w.countBy=C(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?p.call(e):T(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:T(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=O(t,n);var r=[],i=[];return w.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var A=function(e,t,n,r){for(var i=[],a=0,o=r||0,u=j(e);o<u;o++){var s=e[o];if(T(s)&&(w.isArray(s)||w.isArguments(s))){t||(s=A(s,t,n));var l=0,c=s.length;for(i.length+=c;l<c;)i[a++]=s[l++]}else n||(i[a++]=s)}return i};w.flatten=function(e,t){return A(e,t,!1)},w.without=function(e){return w.difference(e,p.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=O(n,r));for(var i=[],a=[],o=0,u=j(e);o<u;o++){var s=e[o],l=n?n(s,o,e):s;t?(o&&a===l||i.push(s),a=l):n?w.contains(a,l)||(a.push(l),i.push(s)):w.contains(i,s)||i.push(s)}return i},w.union=function(){return w.uniq(A(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=j(e);r<i;r++){var a=e[r];if(!w.contains(t,a)){for(var o=1;o<n&&w.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},w.difference=function(e){var t=A(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,j).length||0,n=Array(t),r=0;r<t;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=j(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=a(1),w.findLastIndex=a(-1),w.sortedIndex=function(e,t,n,r){n=O(n,r,1);for(var i=n(t),a=0,o=j(e);a<o;){var u=Math.floor((a+o)/2);n(e[u])<i?a=u+1:o=u}return a},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=S(e.prototype),o=e.apply(a,i);return w.isObject(o)?o:a};w.bind=function(e,t){if(_&&e.bind===_)return _.apply(e,p.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(p.call(arguments)))};return r},w.partial=function(e){var t=p.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===w?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return N(e,n,this,this,a)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return w.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},w.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,a,o=null,u=0;n||(n={});var s=function(){u=!1===n.leading?0:w.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var l=w.now();u||!1!==n.leading||(u=l);var c=t-(l-u);return r=this,i=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),u=l,a=e.apply(r,i),o||(r=i=null)):o||!1===n.trailing||(o=setTimeout(s,c)),a}},w.debounce=function(e,t,n){var r,i,a,o,u,s=function(){var l=w.now()-o;l<t&&l>=0?r=setTimeout(s,t-l):(r=null,n||(u=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=w.now();var l=n&&!r;return r||(r=setTimeout(s,t)),l&&(u=e.apply(a,i),a=i=null),u}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return R&&u(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&u(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=O(t,n);for(var r,i=w.keys(e),a=i.length,o={},u=0;u<a;u++)r=i[u],o[r]=t(e[r],r,e);return o},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=P(w.allKeys),w.extendOwn=w.assign=P(w.keys),w.findKey=function(e,t,n){t=O(t,n);for(var r,i=w.keys(e),a=0,o=i.length;a<o;a++)if(r=i[a],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;w.isFunction(t)?(i=w.allKeys(o),r=M(t,n)):(i=A(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var u=0,s=i.length;u<s;u++){var l=i[u],c=o[l];r(c,l,o)&&(a[l]=c)}return a},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(A(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=P(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var L=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=v.call(e);if(i!==v.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,u=t.constructor;if(o!==u&&!(w.isFunction(o)&&o instanceof o&&w.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),a){if((s=e.length)!==t.length)return!1;for(;s--;)if(!L(e[s],t[s],n,r))return!1}else{var l,c=w.keys(e);if(s=c.length,w.keys(t).length!==s)return!1;for(;s--;)if(l=c[s],!w.has(t,l)||!L(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return L(e,t)},w.isEmpty=function(e){return null==e||(T(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=g||function(e){return"[object Array]"===v.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return v.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===v.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&m.call(e,t)},w.noConflict=function(){return s._=l,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=k,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=M(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=w.invert(I),F=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=F(I),w.unescape=F(z),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var q=0;w.uniqueId=function(e){var t=++q+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+B[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,u){return a+=e.slice(i,u).replace(V,H),i=u+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var u=function(e){return o.call(this,e,w)};return u.source="function("+(t.variable||"obj")+"){\n"+a+"}",u},w.chain=function(e){var t=w(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),Y(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),w.each(["concat","join","slice"],function(e){var t=c[e];w.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return w}.apply(t,r))&&(e.exports=i)}).call(this)},function(e,t,n){"use strict";function r(e,t,n,r){this.id=++s,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function i(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(318),o=n(84),u=n(0),s=0,l=new a.default,c=r.prototype;c.targets=function(){return this._targets||(this._targets=n.i(o.default)(u.id))},c.set=function(e){return this.value!==e?(this.value=e,1):0},c.skip=i(1),c.modified=i(2),c.parameters=function(e,t){function i(e,n,i){i instanceof r?(i!==f&&(t&&i.targets().add(f),p.push(i)),h.push({op:i,name:e,index:n})):d.set(e,n,i)}t=!1!==t;var o,s,l,c,f=this,d=f._argval=f._argval||new a.default,h=f._argops=f._argops||[],p=[];for(o in e)if(s=e[o],"pulse"===o)n.i(u.array)(s).forEach(function(e){e instanceof r?e!==f&&(e.targets().add(f),p.push(e)):n.i(u.error)("Pulse parameters must be operator instances.")}),f.source=s;else if(n.i(u.isArray)(s))for(d.set(o,-1,Array(l=s.length)),c=0;c<l;++c)i(o,c,s[c]);else i(o,-1,s);return this.marshall().clear(),p},c.marshall=function(e){var t,n,r,i,a,o=this._argval||l,u=this._argops;if(u&&(r=u.length))for(n=0;n<r;++n)t=u[n],i=t.op,a=i.modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);return o},c.evaluate=function(e){if(this._update){var t=this.marshall(e.stamp),n=this._update(t,e);if(t.clear(),n!==this.value)this.value=n;else if(!this.modified())return e.StopPropagation}},c.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.stamp=e.stamp,this.pulse=t,t||e}},function(e,t,n){"use strict";function r(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function i(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function a(e,t){var r=[];return n.i(s.visitArray)(e,t,function(e){r.push(e)}),r}function o(e,t){var r={};return e.visit(t,function(e){r[n.i(u.tupleid)(e)]=1}),function(e){return r[n.i(u.tupleid)(e)]?null:e}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"StopPropagation",function(){return l}),t.default=r;var u=n(194),s=n(0),l={},c=r.prototype;c.StopPropagation=l,c.ADD=1,c.REM=2,c.MOD=4,c.ADD_REM=3,c.ADD_MOD=5,c.ALL=7,c.REFLOW=8,c.SOURCE=16,c.NO_SOURCE=32,c.NO_FIELDS=64,c.fork=function(e){return new r(this.dataflow).init(this,e)},c.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?(e=new r(this.dataflow).init(this),e.add=e.source,e):e},c.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},c.runAfter=function(e){this.dataflow.runAfter(e)},c.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},c.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,o(this,1))),this},c.modifies=function(e){var t=n.i(s.array)(e),r=this.fields||(this.fields={});return t.forEach(function(e){r[e]=!0}),this},c.modified=function(e){var t=this.fields;return!(!this.mod.length||!t)&&(arguments.length?n.i(s.isArray)(e)?e.some(function(e){return t[e]}):t[e]:!!t)},c.filter=function(e,t){var n=this;return 1&e&&(n.addF=i(n.addF,t)),2&e&&(n.remF=i(n.remF,t)),4&e&&(n.modF=i(n.modF,t)),16&e&&(n.srcF=i(n.srcF,t)),n},c.materialize=function(e){e=e||7;var t=this;return 1&e&&t.addF&&(t.add=a(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=a(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=a(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},c.visit=function(e,t){var r,i,a=this,u=t;return 16&e?(n.i(s.visitArray)(a.source,a.srcF,u),a):(1&e&&n.i(s.visitArray)(a.add,a.addF,u),2&e&&n.i(s.visitArray)(a.rem,a.remF,u),4&e&&n.i(s.visitArray)(a.mod,a.modF,u),8&e&&(r=a.source)&&((i=a.add.length+a.mod.length)===r.length||(i?n.i(s.visitArray)(r,o(a,5),u):n.i(s.visitArray)(r,a.srcF,u))),a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(799);n.d(t,"selector",function(){return r.default})},function(e,t,n){"use strict";function r(e){o.Transform.call(this,null,e)}function i(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}function a(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),u=n(0);n.i(u.inherits)(r,o.Transform).transform=function(e,t){t.source&&t.source.root||n.i(u.error)(this.constructor.name+" transform requires a backing tree data source.");var r=this.layout(e.method),o=this.fields,s=t.source.root,l=e.as||o;e.field&&s.sum(e.field),e.sort&&s.sort(e.sort),i(r,this.params,e);try{this.value=r(s)}catch(e){n.i(u.error)(e)}return s.each(function(e){a(e,o,l)}),t.reflow(e.modified()).modifies(l).modifies("leaf")}},function(e,t,n){"use strict";function r(e,t,n,r,f,d,h){if(a.isFacetSpec(e))return new u.FacetModel(e,t,n,f,d);if(a.isLayerSpec(e))return new s.LayerModel(e,t,n,r,f,d,h);if(a.isUnitSpec(e))return new c.UnitModel(e,t,n,r,f,d,h);if(a.isRepeatSpec(e))return new l.RepeatModel(e,t,n,f,d);if(a.isConcatSpec(e))return new o.ConcatModel(e,t,n,f,d);throw new Error(i.message.INVALID_SPEC)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(90),o=n(826),u=n(828),s=n(829),l=n(843),c=n(342);t.buildModel=r},function(e,t,n){"use strict";function r(e,t){if(e.data||!e.parent){var n=new S.SourceNode(e.data),r=n.hash();return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function i(e){function t(e){i?e.parent?r.insertAsParentOf(e):e.parent=r:i=e.parent||e,r=e}var n,r,i=null,a=0;return e.transforms.forEach(function(r){if(d.isCalculate(r))n=new y.CalculateNode(r);else if(d.isFilter(r)){var i={},o=r.filter,s=null;if(c.isEqualFilter(o)?s=o.equal:c.isRangeFilter(o)?s=o.range[0]:c.isOneOfFilter(o)&&(s=(o.oneOf||o.in)[0]),s&&(l.isDateTime(s)?i[o.field]="date":u.isNumber(s)?i[o.field]="number":u.isString(s)&&(i[o.field]="string")),h.keys(i).length>0){var p=new M.ParseNode(i);t(p)}n=new x.FilterNode(e,r.filter)}else if(d.isBin(r))n=g.BinNode.makeFromTransform(r,{model:e});else if(d.isTimeUnit(r))n=E.TimeUnitNode.makeFromTransform(r);else if(d.isAggregate(r))n=m.AggregateNode.makeFromTransform(r),v.requiresSelectionId(e)&&(t(n),n=new O.IdentifierNode);else{if(!d.isLookup(r))return void f.warn(f.message.invalidTransformIgnored(r));n=P.LookupNode.make(e,r,a++)}t(n)}),{first:i,last:n}}function a(e){var t=r(e,e.component.data.sources),n=e.component.data.outputNodes,a=e.component.data.outputNodeRefCounts,u=t;if(v.requiresSelectionId(e)&&!e.parent){var l=new O.IdentifierNode;l.parent=u,u=l}var c=e.parent&&p.isLayerModel(e.parent);if((p.isUnitModel(e)||p.isFacetModel(e))&&c){var f=g.BinNode.makeBinFromEncoding(e);f&&(f.parent=u,u=f)}if(e.transforms.length>0){var d=i(e),h=d.first,y=d.last;h.parent=u,u=y}var x=M.ParseNode.make(e);if(x&&(x.parent=u,u=x),p.isUnitModel(e)||p.isFacetModel(e)){if(!c){var f=g.BinNode.makeBinFromEncoding(e);f&&(f.parent=u,u=f)}var P=E.TimeUnitNode.makeFromEncoding(e);P&&(P.parent=u,u=P)}var S=e.getName(s.RAW),j=new _.OutputNode(S,s.RAW,a);if(n[S]=j,j.parent=u,u=j,p.isUnitModel(e)){var T=m.AggregateNode.makeFromEncoding(e);if(T&&(T.parent=u,u=T,v.requiresSelectionId(e))){var l=new O.IdentifierNode;l.parent=u,u=l}var C=k.StackNode.make(e);C&&(C.parent=u,u=C)}if(p.isUnitModel(e)){var A=w.FilterInvalidNode.make(e);A&&(A.parent=u,u=A)}var N=e.getName(s.MAIN),R=new _.OutputNode(N,s.MAIN,a);n[N]=R,R.parent=u,u=R;var D=null;if(p.isFacetModel(e)){var L=e.getName("facet");D=new b.FacetNode(e,L,R.getSource()),n[L]=D,D.parent=u,u=D}var I=o({},e.component.data.ancestorParse,x?x.parse:{});return o({},e.component.data,{outputNodes:n,outputNodeRefCounts:a,raw:j,main:R,facetRoot:D,ancestorParse:I})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=n(55),l=n(56),c=n(125),f=n(3),d=n(127),h=n(2),p=n(15),v=n(16),m=n(196),g=n(329),y=n(330),_=n(14),b=n(197),x=n(331),w=n(198),M=n(199),O=n(332),P=n(333),S=n(119),k=n(200),E=n(120);t.parseTransformArray=i,t.parseData=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),u=n(2),s=n(14),l=function(e){function t(t){var n=e.call(this)||this;if(t=t||{name:"source"},o.isInlineData(t))n._data={values:t.values};else if(o.isUrlData(t)){if(n._data={url:t.url},t.format||(t.format={}),!t.format||!t.format.type){var r=/(?:\.([^.]+))?$/.exec(t.url)[1];u.contains(["json","csv","tsv","topojson"],r)||(r="json"),t.format.type=r}}else o.isNamedData(t)&&(n._name=t.name,n._data={});if(!o.isNamedData(t)&&t.format){var i=t.format,s=(i.parse,a(i,["parse"]));n._data.format=s}return n}return r(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return o.isInlineData(this._data)?(this._hash||(this._hash=u.hash(this._data)),this._hash):o.isUrlData(this._data)?u.hash([this._data.url,this._data.format]):this._name},t.prototype.assemble=function(){return i({name:this._name},this._data,{transform:[]})},t}(s.DataFlowNode);t.SourceNode=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=n(91),u=n(2),s=n(14),l=function(e){function t(t){var n=e.call(this)||this;return n.formula=t,n}return r(t,e),t.prototype.clone=function(){return new t(u.duplicate(this.formula))},t.makeFromEncoding=function(e){var n=e.reduceFieldDef(function(e,t){if(t.timeUnit){var n=a.field(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===u.keys(n).length?null:new t(n)},t.makeFromTransform=function(e){return new t((n={},n[e.field]={as:e.as,timeUnit:e.timeUnit,field:e.field},n));var n},t.prototype.merge=function(e){this.formula=i({},this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return u.vals(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return u.vals(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return u.vals(this.formula).map(function(e){return{type:"formula",as:e.as,expr:o.fieldExpr(e.timeUnit,e.field)}})},t}(s.DataFlowNode);t.TimeUnitNode=l},function(e,t,n){"use strict";function r(e){return[].concat(i(e,"width"),i(e,"height"))}function i(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("range-step"===r){var c=e.getScaleComponent(n);if(c){var f=c.get("type"),d=c.get("range");if(u.hasDiscreteDomain(f)&&s.isVgRangeStep(d)){var h=e.scaleName(n);if(l.isFacetModel(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[a(h,d)]}return[a(h,d),{name:i,update:o(h,c,"domain('"+h+"').length")}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,value:r}]}function a(e,t){return{name:e+"_step",value:t.step}}function o(e,t,n){var r=t.get("type"),i=t.get("padding"),a=t.get("paddingOuter");a=void 0!==a?a:i;var o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace("+n+", "+o+", "+a+") * "+e+"_step"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),s=n(28),l=n(15);t.assembleLayoutSignals=r,t.sizeSignals=i,t.sizeExpr=o},function(e,t,n){"use strict";function r(e,t){if(s.isLayerModel(t)||s.isFacetModel(t))return"shared";if(s.isConcatModel(t)||s.isRepeatModel(t))return u.contains(a.POSITION_SCALE_CHANNELS,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function i(e,t){var n=e.scale[t],r=u.contains(a.POSITION_SCALE_CHANNELS,t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&o.warn(o.message.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(3),u=n(2),s=n(15);t.defaultScaleResolve=r,t.parseGuideResolve=i},function(e,t,n){"use strict";function r(e,t){return"domain("+o.stringValue(e.scaleName(t))+")"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(10),o=n(2),u=n(16),s={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var o=t.channel,s=e.getScaleComponent(o),l=s?s.get("type"):void 0;if(!s||!a.hasContinuousDomain(l)||a.isBinScale(l))return void i.warn(i.message.SCALE_BINDINGS_CONTINUOUS);s.set("domainRaw",{signal:u.channelSignalName(n,o,"data")},!0),r.push(o)})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===u.channelSignalName(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:u.channelSignalName(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===u.channelSignalName(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};t.default=s,t.domain=r},function(e,t,n){"use strict";function r(e,t){c[e]=t}function i(e){delete c[e]}function a(e,t){var n=u.isMarkDef(e.mark)?e.mark.type:e.mark,r=c[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(25),s=n(855),l=n(857),c={};t.add=r,t.remove=i,t.COMPOSITE_MARK_STYLES=s.BOXPLOT_STYLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=o({},s.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),r(s.BOXPLOT,s.normalizeBoxPlot),r(l.ERRORBAR,l.normalizeErrorBar),t.normalize=a},function(e,t,n){"use strict";function r(e){return e&&e.selection}function i(e){return e&&!!e.field&&void 0!==e.equal}function a(e){return!!(e&&e.field&&g.isArray(e.range)&&2===e.range.length)}function o(e){return e&&!!e.field&&(g.isArray(e.oneOf)||g.isArray(e.in))}function u(e){return o(e)||i(e)||a(e)}function s(e,t,n){return g.logicalExpr(t,function(t){return g.isString(t)?t:r(t)?h.predicate(e,t.selection,n):l(t)})}function l(e,t){void 0===t&&(t=!0);var n=e.timeUnit?"time("+m.fieldExpr(e.timeUnit,e.field)+")":v.field(e,{expr:"datum"});if(i(e))return n+"==="+c(e.equal,e.timeUnit);if(o(e)){return"indexof(["+(e.oneOf||e.in).map(function(t){return c(t,e.timeUnit)}).join(",")+"], "+n+") !== -1"}if(a(e)){var r=e.range[0],u=e.range[1];if(null!==r&&null!==u&&t)return"inrange("+n+", ["+c(r,e.timeUnit)+", "+c(u,e.timeUnit)+"])";var s=[];return null!==r&&s.push(n+" >= "+c(r,e.timeUnit)),null!==u&&s.push(n+" <= "+c(u,e.timeUnit)),s.length>0?s.join(" && "):"true"}throw new Error("Invalid field filter: "+JSON.stringify(e))}function c(e,t){if(p.isDateTime(e)){var n=p.dateTimeExpr(e,!0);return"time("+n+")"}if(m.isLocalSingleTimeUnit(t)){var r={};r[t]=e;var n=p.dateTimeExpr(r,!0);return"time("+n+")"}return m.isUtcSingleTimeUnit(t)?c(e,m.getLocalTimeUnit(t)):JSON.stringify(e)}function f(e){return u(e)&&e.timeUnit?d({},e,{timeUnit:m.normalizeTimeUnit(e.timeUnit)}):e}var d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var h=n(16),p=n(56),v=n(7),m=n(91),g=n(2);t.isSelectionFilter=r,t.isEqualFilter=i,t.isRangeFilter=a,t.isOneOfFilter=o,t.isFieldFilter=u,t.expression=s,t.fieldFilterExpression=l,t.normalizeFilter=f},function(e,t,n){"use strict";function r(e){return!(!e||"count"!==e.op&&!e.field||!e.op)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSortField=r},function(e,t,n){"use strict";function r(e){return void 0!==e.filter}function i(e){return void 0!==e.lookup}function a(e){return void 0!==e.calculate}function o(e){return!!e.bin}function u(e){return void 0!==e.timeUnit}function s(e){return void 0!==e.aggregate}function l(e){return e.map(function(e){return r(e)?{filter:f.normalizeLogicalOperand(e.filter,c.normalizeFilter)}:e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(125),f=n(204);t.isFilter=r,t.isLookup=i,t.isCalculate=a,t.isBin=o,t.isTimeUnit=u,t.isAggregate=s,t.normalizeTransform=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(873),i=n(351),a=n(352),o=n(874),u=n(875),s=n(129),l=n(0);t.default=function(e,t,c,f,d){if(null!=t.gradient)return n.i(o.default)(t,c,f,d);var h=t.signal?n.i(s.default)(t.signal,c,f,d):t.color?n.i(r.default)(t.color,c,f,d):null!=t.field?n.i(i.default)(t.field,c,f,d):void 0!==t.value?n.i(l.stringValue)(t.value):void 0;return null!=t.scale&&(h=n.i(a.default)(t,h,c,f,d)),void 0===h&&(h=null),null!=t.exponent&&(h="Math.pow("+h+","+n.i(u.default)(t.exponent,c,f,d)+")"),null!=t.mult&&(h+="*"+n.i(u.default)(t.mult,c,f,d)),null!=t.offset&&(h+="+"+n.i(u.default)(t.offset,c,f,d)),t.round&&(h="Math.round("+h+")"),h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),i=n(0);t.default=function(e,t,a,o){var u=n.i(r.default)(e,t);return u.$fields.forEach(function(e){o[e]=1}),n.i(i.extend)(a,u.$params),u.$expr}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"indexPrefix",function(){return r}),n.d(t,"scalePrefix",function(){return i}),n.d(t,"dataPrefix",function(){return a});var r="@",i="%",a=":"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(905),i=n(904),a=n(906),o=n(907),u=n(358),s=n(19),l=n(12),c=n(13),f=n(210),d=n(361),h=n(132),p=n(93),v=n(20),m=n(0),g=n(26);t.default=function(e,t){var y,_,b,x,w,M,O,P,S,k,E,j,T,C=n.i(u.default)(e),A=e.type===s.GroupMark,N=e.from&&e.from.facet,R=e.layout||C===l.ScopeRole||C===l.FrameRole,D=C===l.MarkRole||R||N,L=e.overlap;b=n.i(i.default)(e.from,A,t),_=t.add(n.i(g.DataJoin)({key:b.key||(e.key?n.i(v.fieldRef)(e.key):void 0),pulse:b.pulse,clean:!A})),S=n.i(v.ref)(_),_=x=t.add(n.i(g.Collect)({pulse:S})),_=t.add(n.i(g.Mark)({markdef:n.i(r.default)(e),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:n.i(v.ref)(_)})),k=n.i(v.ref)(_),_=t.add(n.i(g.Encode)(n.i(c.encoders)(e.encode,e.type,C,e.style,t,{pulse:k}))),_.params.parent=t.encode(),e.transform&&e.transform.forEach(function(e){var r=n.i(f.default)(e,t);(r.metadata.generates||r.metadata.changes)&&n.i(m.error)("Mark transforms should not generate new data."),r.params.pulse=n.i(v.ref)(_),t.add(_=r)}),e.sort&&(_=t.add(n.i(g.SortItems)({sort:t.compareRef(e.sort),pulse:n.i(v.ref)(_)}))),E=n.i(v.ref)(_),(N||R)&&(R=t.add(n.i(g.ViewLayout)({layout:t.objectProperty(e.layout),legendMargin:t.config.legendMargin,mark:k,pulse:E})),j=n.i(v.ref)(R)),w=t.add(n.i(g.Bound)({mark:k,pulse:j||E})),T=n.i(v.ref)(w),A&&(D&&(y=t.operators,y.pop(),R&&y.pop()),t.pushState(E,j||T,S),N?n.i(a.default)(e,t,b):D?n.i(o.default)(e,t,b):n.i(h.default)(e,t),t.popState(),D&&(R&&y.push(R),y.push(w))),L&&(_={method:!0===L.method?"parity":L.method,pulse:T},L.order&&(_.sort=t.compareRef({field:L.order})),L.bound&&(_.boundScale=t.scaleRef(L.bound.scale),_.boundOrient=L.bound.orient,_.boundTolerance=L.bound.tolerance),T=n.i(v.ref)(t.add(n.i(g.Overlap)(_)))),M=t.add(n.i(g.Render)({pulse:T})),O=t.add(n.i(g.Sieve)({pulse:n.i(v.ref)(M)},void 0,t.parent())),null!=e.name&&(P=e.name,t.addData(P,new p.default(t,x,M,O)),e.on&&e.on.forEach(function(e){(e.insert||e.remove||e.toggle)&&n.i(m.error)("Marks only support modify triggers."),n.i(d.default)(e,t,P)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(359),i=n(910),a=n(909),o=n(903),u=n(209),s=n(911),l=n(870),c=n(131),f=n(869),d=n(0);t.default=function(e,t,h){var p=n.i(d.array)(e.signals),v=n.i(d.array)(e.scales);return h||p.forEach(function(e){n.i(u.default)(e,t)}),n.i(d.array)(e.projections).forEach(function(e){n.i(a.default)(e,t)}),v.forEach(function(e){n.i(i.initScale)(e,t)}),n.i(d.array)(e.data).forEach(function(e){n.i(l.default)(e,t)}),v.forEach(function(e){n.i(i.parseScale)(e,t)}),p.forEach(function(e){n.i(r.default)(e,t)}),n.i(d.array)(e.axes).forEach(function(e){n.i(f.default)(e,t)}),n.i(d.array)(e.marks).forEach(function(e){n.i(c.default)(e,t)}),n.i(d.array)(e.legends).forEach(function(e){n.i(o.default)(e,t)}),e.title&&n.i(s.default)(e.title,t),t.parseLambdas(),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(914);n.d(t,"projection",function(){return r.projection}),n.d(t,"projectionProperties",function(){return r.projectionProperties}),n.d(t,"getProjectionPath",function(){return r.getProjectionPath})},function(e,t,n){"use strict";function r(e){this._el=null,this._bgcolor=null,this._loader=new i.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(371),a=r.prototype;a.initialize=function(e,t,n,r){return this._el=e,this.resize(t,n,r)},a.element=function(){return this._el},a.scene=function(){return this._el&&this._el.firstChild},a.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},a.resize=function(e,t,n){return this._width=e,this._height=t,this._origin=n||[0,0],this},a.dirty=function(){},a.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},a._render=function(){},a.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then(function(){return t}):Promise.resolve(t)},a._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(e){e&&i(),n._ready=null})}return r},a.sanitizeURL=function(e){return this._load("sanitizeURL",e)},a.loadImage=function(e){return this._load("loadImage",e)}},function(e,t,n){"use strict";function r(e){return o=e,r}function i(){}function a(e,t){o.add(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o,u=2*Math.PI,s=u/4,l=u-1e-8;r.beginPath=i,r.closePath=i,r.moveTo=a,r.lineTo=a,r.rect=function(e,t,n,r){a(e,t),a(e+n,t+r)},r.quadraticCurveTo=function(e,t,n,r){a(e,t),a(n,r)},r.bezierCurveTo=function(e,t,n,r,i,o){a(e,t),a(n,r),a(i,o)},r.arc=function(e,t,n,r,i,o){function c(e){h=n*Math.cos(e),p=n*Math.sin(e),h<v&&(v=h),h>m&&(m=h),p<g&&(g=p),p>y&&(y=p)}if(Math.abs(i-r)>l)return a(e-n,t-n),void a(e+n,t+n);var f,d,h,p,v=1/0,m=-1/0,g=1/0,y=-1/0;if(c(r),c(i),i!==r)if(r%=u,r<0&&(r+=u),i%=u,i<0&&(i+=u),i<r&&(o=!o,f=r,r=i,i=f),o)for(i-=u,f=r-r%s,d=0;d<3&&f>i;++d,f-=s)c(f);else for(f=r-r%s+s,d=0;d<3&&f<i;++d,f+=s)c(f);a(e+v,t+g),a(e+m,t+y)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];t.default=function(e){var t,n,a,o,u,s,l,c,f,d,h,p=[];for(t=e.slice().replace(i[0],"###$1").split(i[1]).slice(1),c=0,d=t.length;c<d;++c){for(n=t[c],a=n.slice(1).trim().replace(i[2],"$1###$2").split(i[3]),s=n.charAt(0),o=[s],f=0,h=a.length;f<h;++f)(u=+a[f])===u&&o.push(u);if(l=r[s.toLowerCase()],o.length-1>l)for(f=1,h=o.length;f<h;f+=l)p.push([s].concat(o.slice(f,f+l)));else p.push(o)}return p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Canvas",function(){return r});var r,i=n(45);try{r=n(1063)}catch(e){try{r=n(1064)}catch(e){r=null}}t.default=function(e,t){var a=n.i(i.domCreate)(null,"canvas");if(a&&a.getContext)a.width=e,a.height=t;else if(r)try{a=new r(e,t)}catch(e){a=null}return a}},function(e,t,n){"use strict";function r(e){return function(t,r,i){n.i(s.visit)(r,function(n){i&&!i.intersects(n.bounds)||a(e,t,n,n)})}}function i(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||a(e,t,n.items[0],n.items)}}function a(e,t,r,i){var a=null==r.opacity?1:r.opacity;0!==a&&(e(t,i)||(r.fill&&n.i(o.default)(t,r,a)&&t.fill(),r.stroke&&n.i(u.default)(t,r,a)&&t.stroke()))}Object.defineProperty(t,"__esModule",{value:!0}),t.drawAll=r,t.drawOne=i;var o=n(215),u=n(139),s=n(41)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(381),i=[];t.default=function(e,t,a){var o=null!=(o=t.strokeWidth)?o:1;return!(o<=0)&&((a*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=a,e.strokeStyle=n.i(r.default)(e,t,t.stroke),e.lineWidth=o,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||i),e.lineDashOffset=t.strokeDashOffset||0),!0))}},function(e,t,n){"use strict";function r(){i=1}Object.defineProperty(t,"__esModule",{value:!0}),t.resetSVGClipId=r;var i=1;t.default=function(e,t,n){var r=e._defs,a=t.clip_id||(t.clip_id="clip"+i++),o=r.clipping[a]||(r.clipping[a]={id:a});return o.width=n.width||0,o.height=n.height||0,"url(#"+a+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(216);t.default=function(e){return n.i(r.default)(e.x||0,e.y||0)}},function(e,t,n){"use strict";function r(e){return p=u(e),i(l(e))}function i(e){return~~(.8*e.length*p)}function a(e){return h.font=f(e),o(l(e))}function o(e){return h.measureText(e).width}function u(e){return null!=e.fontSize?e.fontSize:11}function s(e){h=e&&(h=n.i(v.default)(1,1))?h.getContext("2d"):null,m.width=h?a:r}function l(e){var t=e.text;return null==t?"":e.limit>0?c(e):t+""}function c(e){var t,n=+e.limit,r=e.text+"";if(h?(h.font=f(e),t=o):(p=u(e),t=i),t(r)<n)return r;var a,s=e.ellipsis||"…",l="rtl"===e.dir,c=0,d=r.length;if(n-=t(s),l){for(;c<d;)a=c+d>>>1,t(r.slice(a))>n?c=a+1:d=a;return s+r.slice(c)}for(;c<d;)a=1+(c+d>>>1),t(r.slice(0,a))<n?c=a:d=a-1;return r.slice(0,c)+s}function f(e,t){var n=e.font;return t&&n&&(n=String(n).replace(/"/g,"'")),(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+u(e)+"px "+(n||"sans-serif")}function d(e){var t=e.baseline,n=u(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"textMetrics",function(){return m}),t.textValue=l,t.truncate=c,t.font=f,t.offset=d;var h,p,v=n(137),m={height:u,measureWidth:a,estimateWidth:r,width:r,canvas:s};s(!0)},function(e,t,n){"use strict";function r(e,t,n){return n||e+(t?"_"+t:"")}function i(e,t){return c[e](t)}function a(e){return function(t){var r=n.i(l.extend)({init:"",add:"",rem:"",idx:0},e);return r.out=t||e.name,r}}function o(e,t){return e.idx-t.idx}function u(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=c[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r,i=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{})),a=[];for(r in i)a.push(i[r]);return a.sort(o)}function s(e,t){var n=t||l.identity,r=u(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",s="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",c="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",f="var cell = this.cell;";return r.forEach(function(e){i+=e.init,s+=e.add,c+=e.rem}),e.slice().sort(o).forEach(function(e){f+="t['"+e.out+"']="+e.set+";"}),f+="return t;",a=Function("cell",a),a.prototype.init=Function(i),a.prototype.add=Function("v","t",s),a.prototype.rem=Function("v","t",c),a.prototype.set=Function("t",f),a.prototype.get=n,a.fields=e.map(function(e){return e.out}),a}Object.defineProperty(t,"__esModule",{value:!0}),t.measureName=r,n.d(t,"AggregateOps",function(){return c}),n.d(t,"ValidAggregateOps",function(){return f}),t.createMeasure=i,t.compileMeasures=s;var l=n(0),c={values:a({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:a({name:"count",set:"cell.num"}),missing:a({name:"missing",set:"this.missing"}),valid:a({name:"valid",set:"this.valid"}),sum:a({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:a({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:a({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:a({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:a({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:a({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:a({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:a({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),distinct:a({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:a({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:a({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:a({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:a({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:a({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:a({name:"argmin",init:"this.argmin = null;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:a({name:"argmax",init:"this.argmax = null;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:a({name:"min",init:"this.min = null;",add:"if (v < this.min || this.min === null) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:a({name:"max",init:"this.max = null;",add:"if (v > this.max || this.max === null) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},f=Object.keys(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(397);t.default=function(e){function t(){u.push(f+e.substring(i,a)),f="",i=a+1}var i,a,o,u=[],s=null,l=0,c=e.length,f="";for(e+="",i=a=0;a<c;++a)if("\\"===(o=e[a]))f+=e.substring(i,a),i=++a;else if(o===s)t(),s=null,l=-1;else{if(s)continue;i===l&&'"'===o?(i=a+1,s=o):i===l&&"'"===o?(i=a+1,s=o):"."!==o||l?"["===o?(a>i&&t(),l=i=a+1):"]"===o&&(l||n.i(r.default)("Access path missing open bracket: "+e),l>0&&t(),l=0,i=a+1):a>i?t():i=a+1}return l&&n.i(r.default)("Access path missing closing bracket: "+e),s&&n.i(r.default)("Access path missing closing quote: "+e),a>i&&(a++,t()),u}},function(e,t,n){"use strict";function r(e){return n.i(i.default)(e)?"["+e.map(r)+"]":n.i(a.default)(e)||n.i(o.default)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(219),a=n(401),o=n(402)},function(e,t,n){"use strict";function r(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function o(e){var t=a(e);e._renderer.background(e._background),e._renderer.resize(r(e),i(e),t),e._handler.origin(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.width=r,t.height=i,t.offset=a,t.resizeRenderer=o},function(e,t,n){e.exports=n(36)(1)},function(e,t,n){e.exports=n(36)(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisComponent=t.unregisterMixinAll=t.unregisterMixin=t.registerMixin=t.mixins=t.unregisterAll=t.unregister=t.register=t.components=void 0;var r=n(37),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a={},o=function(e,t){if(void 0===t&&(t=e.name),a.hasOwnProperty(t))throw new Error('fatal: component "'+t+'" already exists');a[t]=e},u=function(e){a.hasOwnProperty(e)&&delete a[e]},s=function(){Object.keys(a).forEach(u)},l={},c=function(e,t){if(void 0===t&&(t=e.name),l.hasOwnProperty(t))throw new Error('fatal: mixin "'+t+'" already exists');l[t]=e},f=function(e){l.hasOwnProperty(e)&&delete l[e]},d=function(){Object.keys(l).forEach(f)};t.default={components:a,register:o,unregister:u,unregisterAll:s,mixins:l,registerMixin:c,unregisterMixin:f,unregisterMixinAll:d,VisComponent:i.default},t.components=a,t.register=o,t.unregister=u,t.unregisterAll=s,t.mixins=l,t.registerMixin=c,t.unregisterMixin=f,t.unregisterMixinAll=d,t.VisComponent=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);t.default=function(e,t,n){if(null==n&&(n=r.default),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,a=(i-1)*t,o=Math.floor(a),u=+n(e[o],o,e);return u+(+n(e[o+1],o+1,e)-u)*(a-o)}}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,a=-1,o=e.length;if(null==t)for(;++a<o;)n.set(a,e[a]);else for(;++a<o;)n.set(t(i=e[a],a,e),i)}else if(e)for(var u in e)n.set(u,e[u]);return n}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"prefix",function(){return a});var a="$";r.prototype=i.prototype={constructor:r,has:function(e){return a+e in this},get:function(e){return this[a+e]},set:function(e,t){return this[a+e]=t,this},remove:function(e){var t=a+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===a&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===a&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===a&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===a&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===a&&++e;return e},empty:function(){for(var e in this)if(e[0]===a)return!1;return!0},each:function(e){for(var t in this)t[0]===a&&e(this[t],t.slice(1),this)}},t.default=i},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=x.exec(e))?(t=parseInt(t[1],16),new l(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=w.exec(e))?a(parseInt(t[1],16)):(t=M.exec(e))?new l(t[1],t[2],t[3],1):(t=O.exec(e))?new l(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=P.exec(e))?o(t[1],t[2],t[3],t[4]):(t=S.exec(e))?o(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=k.exec(e))?c(t[1],t[2]/100,t[3]/100,1):(t=E.exec(e))?c(t[1],t[2]/100,t[3]/100,t[4]):j.hasOwnProperty(e)?a(j[e]):"transparent"===e?new l(NaN,NaN,NaN,0):null}function a(e){return new l(e>>16&255,e>>8&255,255&e,1)}function o(e,t,n,r){return r<=0&&(e=t=n=NaN),new l(e,t,n,r)}function u(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new l(e.r,e.g,e.b,e.opacity)):new l}function s(e,t,n,r){return 1===arguments.length?u(e):new l(e,t,n,null==r?1:r)}function l(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function c(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new h(e,t,n,r)}function f(e){if(e instanceof h)return new h(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new h;if(e instanceof h)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,o=Math.min(t,n,a),u=Math.max(t,n,a),s=NaN,l=u-o,c=(u+o)/2;return l?(s=t===u?(n-a)/l+6*(n<a):n===u?(a-t)/l+2:(t-n)/l+4,l/=c<.5?u+o:2-u-o,s*=60):l=c>0&&c<1?0:s,new h(s,l,c,e.opacity)}function d(e,t,n,r){return 1===arguments.length?f(e):new h(e,t,n,null==r?1:r)}function h(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Color=r,n.d(t,"darker",function(){return m}),n.d(t,"brighter",function(){return g}),t.default=i,t.rgbConvert=u,t.rgb=s,t.Rgb=l,t.hslConvert=f,t.hsl=d;var v=n(153),m=.7,g=1/m,y="\\s*([+-]?\\d+)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3})$/,w=/^#([0-9a-f]{6})$/,M=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),O=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),P=new RegExp("^rgba\\("+[y,y,y,_]+"\\)$"),S=new RegExp("^rgba\\("+[b,b,b,_]+"\\)$"),k=new RegExp("^hsl\\("+[_,b,b]+"\\)$"),E=new RegExp("^hsla\\("+[_,b,b,_]+"\\)$"),j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(v.default)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),n.i(v.default)(l,s,n.i(v.extend)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new l(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new l(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(v.default)(h,d,n.i(v.extend)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new h(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new h(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new l(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=r,t.default=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(484);n.d(t,"dispatch",function(){return r.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return 1e-6*(Math.random()-.5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";function r(e){var t=0,r=i.pi/3,o=n.i(a.projectionMutator)(e),u=o(t,r);return u.parallels=function(e){return arguments.length?o(t=e[0]*i.radians,r=e[1]*i.radians):[t*i.degrees,r*i.degrees]},u}Object.defineProperty(t,"__esModule",{value:!0}),t.conicProjection=r;var i=n(4),a=n(35)},function(e,t,n){"use strict";function r(e,t){function r(e,t){var r=n.i(i.sqrt)(s-2*u*n.i(i.sin)(t))/u;return[r*n.i(i.sin)(e*=u),l-r*n.i(i.cos)(e)]}var a=n.i(i.sin)(e),u=(a+n.i(i.sin)(t))/2;if(n.i(i.abs)(u)<i.epsilon)return n.i(o.cylindricalEqualAreaRaw)(e);var s=1+a*(2*u-a),l=n.i(i.sqrt)(s)/u;return r.invert=function(e,t){var r=l-t;return[n.i(i.atan2)(e,n.i(i.abs)(r))/u*n.i(i.sign)(r),n.i(i.asin)((s-(e*e+r*r)*u*u)/(2*u))]},r}Object.defineProperty(t,"__esModule",{value:!0}),t.conicEqualAreaRaw=r;var i=n(4),a=n(158),o=n(532);t.default=function(){return n.i(a.conicProjection)(r).scale(155.424).center([0,33.6442])}},function(e,t,n){"use strict";function r(e,t,r){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),n.i(s.default)(r,e.stream(l.default)),t(l.default.result()),null!=i&&e.clipExtent(i),e}function i(e,t,n){return r(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])},n)}function a(e,t,n){return i(e,[[0,0],t],n)}function o(e,t,n){return r(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])},n)}function u(e,t,n){return r(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.fitExtent=i,t.fitSize=a,t.fitWidth=o,t.fitHeight=u;var s=n(48),l=n(257)},function(e,t,n){"use strict";function r(e,t){return[e,n.i(a.log)(n.i(a.tan)((a.halfPi+t)/2))]}function i(e){function t(){var t=a.pi*d(),u=c(n.i(o.default)(c.rotate()).invert([0,0]));return p(null==v?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:e===r?[[Math.max(u[0]-t,v),i],[Math.min(u[0]+t,s),l]]:[[v,Math.max(u[1]-t,i)],[s,Math.min(u[1]+t,l)]])}var i,s,l,c=n.i(u.default)(e),f=c.center,d=c.scale,h=c.translate,p=c.clipExtent,v=null;return c.scale=function(e){return arguments.length?(d(e),t()):d()},c.translate=function(e){return arguments.length?(h(e),t()):h()},c.center=function(e){return arguments.length?(f(e),t()):f()},c.clipExtent=function(e){return arguments.length?(null==e?v=i=s=l=null:(v=+e[0][0],i=+e[0][1],s=+e[1][0],l=+e[1][1]),t()):null==v?null:[[v,i],[s,l]]},t()}Object.defineProperty(t,"__esModule",{value:!0}),t.mercatorRaw=r,t.mercatorProjection=i;var a=n(4),o=n(100),u=n(35);r.invert=function(e,t){return[e,2*n.i(a.atan)(n.i(a.exp)(t))-a.halfPi]},t.default=function(){return i(r).scale(961/a.tau)}},function(e,t,n){"use strict";function r(e){return null==e?null:i(e)}function i(e){if("function"!=typeof e)throw new Error;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.optional=r,t.required=i},function(e,t,n){"use strict";function r(e,t){var n,r,i,o,l,c=new s(e),f=+e.value&&(c.value=e.value),d=[c];for(null==t&&(t=a);n=d.pop();)if(f&&(n.value=+n.data.value),(i=t(n.data))&&(l=i.length))for(n.children=new Array(l),o=l-1;o>=0;--o)d.push(r=n.children[o]=new s(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(u)}function i(){return r(this).eachBefore(o)}function a(e){return e.children}function o(e){e.data=e.data.data}function u(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function s(e){this.data=e,this.depth=this.height=0,this.parent=null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.computeHeight=u,t.Node=s;var l=n(543),c=n(545),f=n(547),d=n(546),h=n(552),p=n(551),v=n(550),m=n(542),g=n(544),y=n(548),_=n(549);s.prototype=r.prototype={constructor:s,count:l.default,each:c.default,eachAfter:d.default,eachBefore:f.default,sum:h.default,sort:p.default,path:v.default,ancestors:m.default,descendants:g.default,leaves:y.default,links:_.default,copy:i}},function(e,t,n){"use strict";function r(e,t,r,o,u,s){for(var l,c,f,d,h,p,v,m,g,y,_,b=[],x=t.children,w=0,M=0,O=x.length,P=t.value;w<O;){f=u-r,d=s-o;do{h=x[M++].value}while(!h&&M<O);for(p=v=h,y=Math.max(d/f,f/d)/(P*e),_=h*h*y,g=Math.max(v/_,_/p);M<O;++M){if(h+=c=x[M].value,c<p&&(p=c),c>v&&(v=c),_=h*h*y,(m=Math.max(v/_,_/p))>g){h-=c;break}g=m}b.push(l={value:h,dice:f<d,children:x.slice(w,M)}),l.dice?n.i(i.default)(l,r,o,u,P?o+=d*h/P:s):n.i(a.default)(l,r,o,P?r+=f*h/P:u,s),P-=h,w=M}return b}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"phi",function(){return o}),t.squarifyRatio=r;var i=n(74),a=n(102),o=(1+Math.sqrt(5))/2;t.default=function e(t){function n(e,n,i,a,o){r(t,e,n,i,a,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(o)},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.basis=r,t.default=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],u=i>0?e[i-1]:2*a-o,s=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,u,a,o,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(271),a=n(266),o=n(269),u=n(103),s=n(270),l=n(272),c=n(268);t.default=function(e,t){var f,d=typeof t;return null==t||"boolean"===d?n.i(c.default)(t):("number"===d?u.default:"string"===d?(f=n.i(r.color)(t))?(t=f,i.default):l.default:t instanceof r.color?i.default:t instanceof Date?o.default:Array.isArray(t)?a.default:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?s.default:u.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}},function(e,t,n){"use strict";function r(e){return function(t,n){e(null==t?n:null)}}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}Object.defineProperty(t,"__esModule",{value:!0});var a=n(71),o=n(154);t.default=function(e,t){function u(e){var t,n=p.status;if(!n&&i(p)||n>=200&&n<300||304===n){if(c)try{t=c.call(s,p)}catch(e){return void d.call("error",s,e)}else t=p;d.call("load",s,t)}else d.call("error",s,e)}var s,l,c,f,d=n.i(o.dispatch)("beforesend","progress","load","error"),h=n.i(a.map)(),p=new XMLHttpRequest,v=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=u:p.onreadystatechange=function(e){p.readyState>3&&u(e)},p.onprogress=function(e){d.call("progress",s,e)},s={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?h.get(e):(null==t?h.remove(e):h.set(e,t+""),s)},mimeType:function(e){return arguments.length?(l=null==e?null:e+"",s):l},responseType:function(e){return arguments.length?(f=e,s):f},timeout:function(e){return arguments.length?(g=+e,s):g},user:function(e){return arguments.length<1?v:(v=null==e?null:e+"",s)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",s)},response:function(e){return c=e,s},get:function(e,t){return s.send("GET",e,t)},post:function(e,t){return s.send("POST",e,t)},send:function(t,n,i){return p.open(t,e,!0,v,m),null==l||h.has("accept")||h.set("accept",l+",*/*"),p.setRequestHeader&&h.each(function(e,t){p.setRequestHeader(t,e)}),null!=l&&p.overrideMimeType&&p.overrideMimeType(l),null!=f&&(p.responseType=f),g>0&&(p.timeout=g),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&s.on("error",i).on("load",function(e){i(null,e)}),d.call("beforesend",s,p),p.send(null==n?null:n),s},abort:function(){return p.abort(),s},on:function(){var e=d.on.apply(d,arguments);return e===d?s:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return s.get(t)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===o.xhtml&&t.documentElement.namespaceURI===o.xhtml?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(171),o=n(172);t.default=function(e){var t=n.i(a.default)(e);return(t.local?i:r)(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(172);t.default=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.default.hasOwnProperty(t)?{space:r.default[t],local:e}:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"xhtml",function(){return r});var r="http://www.w3.org/1999/xhtml";t.default={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=c;c=r;try{e.call(this,this.__data__,t,n)}finally{c=i}}}function a(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function o(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(e,t,n){var a=l.hasOwnProperty(e.type)?r:i;return function(r,i,o){var u,s=this.__on,l=a(t,i,o);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===e.type&&u.name===e.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=t);this.addEventListener(e.type,l,n),u={type:e.type,name:e.name,value:t,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function s(e,t,n,r){var i=c;e.sourceEvent=c,c=e;try{return t.apply(n,r)}finally{c=i}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"event",function(){return c}),t.customEvent=s;var l={},c=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(l={mouseenter:"mouseover",mouseleave:"mouseout"})}t.default=function(e,t,n){var r,i,s=a(e+""),l=s.length;{if(!(arguments.length<2)){for(c=t?u:o,null==n&&(n=!1),r=0;r<l;++r)this.each(c(s[r],t,n));return this}var c=this.node().__on;if(c)for(var f,d=0,h=c.length;d<h;++d)for(r=0,f=c[d];r<l;++r)if((i=s[r]).type===f.type&&i.name===f.name)return f.value}}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173);t.default=function(){for(var e,t=r.event;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(678);n.d(t,"arc",function(){return r.default});var i=n(284);n.d(t,"area",function(){return i.default});var a=n(179);n.d(t,"line",function(){return a.default});var o=n(699);n.d(t,"pie",function(){return o.default});var u=n(679);n.d(t,"areaRadial",function(){return u.default}),n.d(t,"radialArea",function(){return u.default});var s=n(289);n.d(t,"lineRadial",function(){return s.default}),n.d(t,"radialLine",function(){return s.default});var l=n(290);n.d(t,"pointRadial",function(){return l.default});var c=n(691);n.d(t,"linkHorizontal",function(){return c.linkHorizontal}),n.d(t,"linkVertical",function(){return c.linkVertical}),n.d(t,"linkRadial",function(){return c.linkRadial});var f=n(701);n.d(t,"symbol",function(){return f.default}),n.d(t,"symbols",function(){return f.symbols});var d=n(291);n.d(t,"symbolCircle",function(){return d.default});var h=n(292);n.d(t,"symbolCross",function(){return h.default});var p=n(293);n.d(t,"symbolDiamond",function(){return p.default});var v=n(294);n.d(t,"symbolSquare",function(){return v.default});var m=n(295);n.d(t,"symbolStar",function(){return m.default});var g=n(296);n.d(t,"symbolTriangle",function(){return g.default});var y=n(297);n.d(t,"symbolWye",function(){return y.default});var _=n(680);n.d(t,"curveBasisClosed",function(){return _.default});var b=n(681);n.d(t,"curveBasisOpen",function(){return b.default});var x=n(107);n.d(t,"curveBasis",function(){return x.default});var w=n(682);n.d(t,"curveBundle",function(){return w.default});var M=n(286);n.d(t,"curveCardinalClosed",function(){return M.default});var O=n(287);n.d(t,"curveCardinalOpen",function(){return O.default});var P=n(108);n.d(t,"curveCardinal",function(){return P.default});var S=n(683);n.d(t,"curveCatmullRomClosed",function(){return S.default});var k=n(684);n.d(t,"curveCatmullRomOpen",function(){return k.default});var E=n(178);n.d(t,"curveCatmullRom",function(){return E.default});var j=n(685);n.d(t,"curveLinearClosed",function(){return j.default});var T=n(109);n.d(t,"curveLinear",function(){return T.default});var C=n(686);n.d(t,"curveMonotoneX",function(){return C.monotoneX}),n.d(t,"curveMonotoneY",function(){return C.monotoneY});var A=n(687);n.d(t,"curveNatural",function(){return A.default});var N=n(688);n.d(t,"curveStep",function(){return N.default}),n.d(t,"curveStepAfter",function(){return N.stepAfter}),n.d(t,"curveStepBefore",function(){return N.stepBefore});var R=n(700);n.d(t,"stack",function(){return R.default});var D=n(693);n.d(t,"stackOffsetExpand",function(){return D.default});var L=n(692);n.d(t,"stackOffsetDiverging",function(){return L.default});var I=n(79);n.d(t,"stackOffsetNone",function(){return I.default});var z=n(694);n.d(t,"stackOffsetSilhouette",function(){return z.default});var F=n(695);n.d(t,"stackOffsetWiggle",function(){return F.default});var q=n(180);n.d(t,"stackOrderAscending",function(){return q.default});var U=n(696);n.d(t,"stackOrderDescending",function(){return U.default});var B=n(697);n.d(t,"stackOrderInsideOut",function(){return B.default});var V=n(80);n.d(t,"stackOrderNone",function(){return V.default});var H=n(698);n.d(t,"stackOrderReverse",function(){return H.default})},function(e,t,n){"use strict";function r(e,t,n){var r=e._x1,i=e._y1,o=e._x2,u=e._y2;if(e._l01_a>a.epsilon){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>a.epsilon){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/f,u=(u*c+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(r,i,o,u,e._x2,e._y2)}function i(e,t){this._context=e,this._alpha=t}Object.defineProperty(t,"__esModule",{value:!0}),t.point=r;var a=n(78),o=n(108);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return t?new i(e,t):new o.Cardinal(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=n(51),a=n(109),o=n(181);t.default=function(){function e(e){var i,a,o,d=e.length,h=!1;for(null==l&&(f=c(o=n.i(r.path)())),i=0;i<=d;++i)!(i<d&&s(a=e[i],i,e))===h&&((h=!h)?f.lineStart():f.lineEnd()),h&&f.point(+t(a,i,e),+u(a,i,e));if(o)return f=null,o+""||null}var t=o.x,u=o.y,s=n.i(i.default)(!0),l=null,c=a.default,f=null;return e.x=function(r){return arguments.length?(t="function"==typeof r?r:n.i(i.default)(+r),e):t},e.y=function(t){return arguments.length?(u="function"==typeof t?t:n.i(i.default)(+t),e):u},e.defined=function(t){return arguments.length?(s="function"==typeof t?t:n.i(i.default)(!!t),e):s},e.curve=function(t){return arguments.length?(c=t,null!=l&&(f=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=f=null:f=c(l=t),e):l},e}},function(e,t,n){"use strict";function r(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.sum=r;var i=n(80);t.default=function(e){var t=e.map(r);return n.i(i.default)(e).sort(function(e,n){return t[e]-t[n]})}},function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.x=r,t.y=i},function(e,t,n){"use strict";function r(e){return i=n.i(l.default)(e),a=i.format,o=i.parse,u=i.utcFormat,s=i.utcParse,i}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"timeFormat",function(){return a}),n.d(t,"timeParse",function(){return o}),n.d(t,"utcFormat",function(){return u}),n.d(t,"utcParse",function(){return s}),t.default=r;var i,a,o,u,s,l=n(299);r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184);n.d(t,"now",function(){return r.now}),n.d(t,"timer",function(){return r.timer}),n.d(t,"timerFlush",function(){return r.timerFlush});var i=n(718);n.d(t,"timeout",function(){return i.default});var a=n(717);n.d(t,"interval",function(){return a.default})},function(e,t,n){"use strict";function r(){return _||(w(i),_=x.now()+b)}function i(){_=0}function a(){this._call=this._time=this._next=null}function o(e,t,n){var r=new a;return r.restart(e,t,n),r}function u(){r(),++p;for(var e,t=d;t;)(e=_-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function s(){_=(y=x.now())+b,p=v=0;try{u()}finally{p=0,c(),_=0}}function l(){var e=x.now(),t=e-y;t>g&&(b-=t,y=e)}function c(){for(var e,t,n=d,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:d=t);h=e,f(r)}function f(e){if(!p){v&&(v=clearTimeout(v));e-_>24?(e<1/0&&(v=setTimeout(s,e-x.now()-b)),m&&(m=clearInterval(m))):(m||(y=x.now(),m=setInterval(l,g)),p=1,w(s))}}Object.defineProperty(t,"__esModule",{value:!0}),t.now=r,t.Timer=a,t.timer=o,t.timerFlush=u;var d,h,p=0,v=0,m=0,g=1e3,y=0,_=0,b=0,x="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};a.prototype=o.prototype={constructor:a,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||h===this||(h?h._next=this:d=this,h=this),this._call=e,this._time=n,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(e,t,n){"use strict";function r(e,t,n,r){var i=[null,null],o=l.edges.push(i)-1;return i.left=e,i.right=t,n&&a(i,e,t,n),r&&a(i,t,e,r),l.cells[e.index].halfedges.push(o),l.cells[t.index].halfedges.push(o),i}function i(e,t,n){var r=[t,n];return r.left=e,r}function a(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function o(e,t,n,r,i){var a,o=e[0],u=e[1],s=o[0],l=o[1],c=u[0],f=u[1],d=0,h=1,p=c-s,v=f-l;if(a=t-s,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>d&&(d=a)}if(a=r-s,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<h&&(h=a)}if(a=n-l,v||!(a>0)){if(a/=v,v<0){if(a<d)return;a<h&&(h=a)}else if(v>0){if(a>h)return;a>d&&(d=a)}if(a=i-l,v||!(a<0)){if(a/=v,v<0){if(a>h)return;a>d&&(d=a)}else if(v>0){if(a<d)return;a<h&&(h=a)}return!(d>0||h<1)||(d>0&&(e[0]=[s+d*p,l+d*v]),h<1&&(e[1]=[s+h*p,l+h*v]),!0)}}}}}function u(e,t,n,r,i){var a=e[1];if(a)return!0;var o,u,s=e[0],l=e.left,c=e.right,f=l[0],d=l[1],h=c[0],p=c[1],v=(f+h)/2,m=(d+p)/2;if(p===d){if(v<t||v>=r)return;if(f>h){if(s){if(s[1]>=i)return}else s=[v,n];a=[v,i]}else{if(s){if(s[1]<n)return}else s=[v,i];a=[v,n]}}else if(o=(f-h)/(p-d),u=m-o*v,o<-1||o>1)if(f>h){if(s){if(s[1]>=i)return}else s=[(n-u)/o,n];a=[(i-u)/o,i]}else{if(s){if(s[1]<n)return}else s=[(i-u)/o,i];a=[(n-u)/o,n]}else if(d<p){if(s){if(s[0]>=r)return}else s=[t,o*t+u];a=[r,o*r+u]}else{if(s){if(s[0]<t)return}else s=[r,o*r+u];a=[t,o*t+u]}return e[0]=s,e[1]=a,!0}function s(e,t,n,r){for(var i,a=l.edges.length;a--;)u(i=l.edges[a],e,t,n,r)&&o(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>l.epsilon||Math.abs(i[0][1]-i[1][1])>l.epsilon)||delete l.edges[a]}Object.defineProperty(t,"__esModule",{value:!0}),t.createEdge=r,t.createBorderEdge=i,t.setEdgeEnd=a,t.clipEdges=s;var l=n(81)},function(e,t,n){"use strict";function r(){this._=null}function i(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function a(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function o(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function u(e){for(;e.L;)e=e.L;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.RedBlackNode=i,r.prototype={constructor:r,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=u(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(a(this,n),e=n,n=e.U),n.C=!1,r.C=!0,o(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(o(this,n),e=n,n=e.U),n.C=!1,r.C=!0,a(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,s=e.L,l=e.R;if(n=s?l?u(l):s:l,i?i.L===e?i.L=n:i.R=n:this._=n,s&&l?(r=n.C,n.C=e.C,n.L=s,s.U=n,n!==l?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=l,l.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,a(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,o(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,a(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,o(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,a(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,o(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},t.default=r},function(e,t,n){function r(e){return e.length>4&&"locale"+(e[0].toUpperCase()+e[1].toLowerCase()+e[3].toUpperCase()+e[4].toLowerCase())}function i(e){var t=x.isString(e)?O[r(e)]:O.locale(e);if(null==t)throw Error("Unrecognized locale: "+e);P=t}function a(e){var t=x.isString(e)?M[r(e)]:M.locale(e);if(null==t)throw Error("Unrecognized locale: "+e);S=t,g=y=_=b=null}function o(e,t){e.length||(e=[0]),null==t&&(t=10);var n=e[0],r=e[e.length-1];r<n&&(o=r,r=n,n=o);var i=r-n||(t=1,n||r||1),a=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=i/t/a;return o>=E?a*=10:o>=j?a*=5:o>=T&&(a*=2),[Math.ceil(n/a)*a,Math.floor(r/a)*a+a/2,a]}function u(e,t){return function(n){var r=e(n),i=r.indexOf(t);if(i<0)return r;for(var a=s(r,i),o=a<r.length?r.slice(a):"";--a>i;)if("0"!==r[a]){++a;break}return r.slice(0,a)+o}}function s(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}function l(e){var t=P.format(".1f")(1)[1];switch(null==e&&(e=","),e=O.formatSpecifier(e),null==e.precision&&(e.precision=12),e.type){case"%":e.precision-=2;break;case"e":e.precision-=1}return u(P.format(e),t)}function c(e,t,n){var r=o(e,t);switch(null==n&&(n=",f"),n=O.formatSpecifier(n),n.type){case"s":var i=Math.max(Math.abs(r[0]),Math.abs(r[1]));return null==n.precision&&(n.precision=O.precisionPrefix(r[2],i)),P.formatPrefix(n,i);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=O.precisionRound(r[2],Math.max(Math.abs(r[0]),Math.abs(r[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=O.precisionFixed(r[2])-2*("%"===n.type))}return P.format(n)}function f(){var e=S.format,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),i=e("%I %p"),a=e("%a %d"),o=e("%b %d"),u=e("%B"),s=e("%Y");return function(e){var l=+e;return(w.second(e)<l?t:w.minute(e)<l?n:w.hour(e)<l?r:w.day(e)<l?i:w.month(e)<l?w.week(e)<l?a:o:w.year(e)<l?u:s)(e)}}function d(){var e=S.utcFormat,t=e(".%L"),n=e(":%S"),r=e("%I:%M"),i=e("%I %p"),a=e("%a %d"),o=e("%b %d"),u=e("%B"),s=e("%Y");return function(e){var l=+e;return(w.utcSecond(e)<l?t:w.utcMinute(e)<l?n:w.utcHour(e)<l?r:w.utcDay(e)<l?i:w.utcMonth(e)<l?w.utcWeek(e)<l?a:o:w.utcYear(e)<l?u:s)(e)}}function h(e,t){var n=t?y||(y=S.format("%b")):g||(g=S.format("%B"));return k.setMonth(e),n(k)}function p(e,t){var n=t?b||(b=S.format("%a")):_||(_=S.format("%A"));return k.setMonth(0),k.setDate(2+e),n(k)}function v(e){return Math.floor(e.getMonth()/3)+1}function m(e){return Math.floor(e.getUTCMonth()/3)+1}var g,y,_,b,x=n(11),w=n(53),M=n(52),O=n(47),P=O,S=M,k=new Date(2e3,0,1);e.exports={numberLocale:i,number:function(e){return P.format(e)},numberPrefix:function(e,t){return P.formatPrefix(e,t)},timeLocale:a,time:function(e){return S.format(e)},utc:function(e){return S.utcFormat(e)},locale:function(e){i(e),a(e)},auto:{number:l,linear:c,time:function(){return f()},utc:function(){return d()}},month:h,day:p,quarter:v,utcQuarter:m};var E=Math.sqrt(50),j=Math.sqrt(10),T=Math.sqrt(2)},function(e,t,n){var r=n(11),i=e.exports;i.repeat=function(e,t){var n,r=Array(t);for(n=0;n<t;++n)r[n]=e;return r},i.zeros=function(e){return i.repeat(0,e)},i.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(n<0)for(;(r=e+n*++a)>t;)i.push(r);else for(;(r=e+n*++a)<t;)i.push(r);return i},i.random={},i.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,r=function(){return e+n*Math.random()};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(r){return r>=e&&r<=t?1/n:0},r.cdf=function(r){return r<e?0:r>t?1:(r-e)/n},r.icdf=function(t){return t>=0&&t<=1?e+t*n:NaN},r},i.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,r=function(){return e+Math.floor(n*Math.random())};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(r){return r===Math.floor(r)&&r>=e&&r<t?1/n:0},r.cdf=function(r){var i=Math.floor(r);return i<e?0:i>=t?1:(i-e+1)/n},r.icdf=function(t){return t>=0&&t<=1?e-1+Math.floor(t*n):NaN},r},i.random.normal=function(e,t){e=e||0,t=t||1;var n,r=function(){var r,i,a=0,o=0;if(void 0!==n)return a=n,n=void 0,a;do{a=2*Math.random()-1,o=2*Math.random()-1,r=a*a+o*o}while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+o*i*t,e+a*i*t};return r.samples=function(e){return i.zeros(e).map(r)},r.pdf=function(n){var r=Math.exp(Math.pow(n-e,2)/(-2*Math.pow(t,2)));return 1/(t*Math.sqrt(2*Math.PI))*r},r.cdf=function(n){var r,i=(n-e)/t,a=Math.abs(i);if(a>37)r=0;else{var o,u=Math.exp(-a*a/2);a<7.07106781186547?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,r=u*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,r/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,r=u/o/2.506628274631)}return i>0?1-r:r},r.icdf=function(n){if(n<=0||n>=1)return NaN;var r=2*n-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(r,2))/2,o=Math.log(1-r*r)/i,u=(r>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return e+t*Math.SQRT2*u},r},i.random.bootstrap=function(e,t){var n=e.filter(r.isValid),a=n.length,o=t?i.random.normal(0,t):null,u=function(){return n[~~(Math.random()*a)]+(o?o():0)};return u.samples=function(e){return i.zeros(e).map(u)},u}},function(e,t,n){var r=n(11);e.exports=function(e,t){var n=r.isObject(e)&&!r.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(n=r.accessor(t.property)(n)),n}},function(e,t,n){function r(e){return l.setTime(+e),l}function i(e,t,n,r,i,a){var o={type:e,date:t,unit:n};return r?o.step=r:o.minstep=1,null!=i&&(o.min=i),null!=a&&(o.max=a),o}function a(e,t,n,r,a,o){return i(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,a,o)}function o(e,t,n,r){var i,a,o,u=p[0];for(i=1,a=p.length;i<a;++i)if(u=p[i],t>u[0]){if((o=t/u[0])>r)return e[p[i-1][1]];if(o>=n)return e[u[1]]}return e[p[a-1][1]]}function u(e){var t,n,r={};for(t=0,n=e.length;t<n;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return o(e,t,n,r)},r}var s=n(53),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),d=[a("second",s.second,c),a("minute",s.minute,c),a("hour",s.hour,c),a("day",s.day,c,[1,7]),a("month",s.month,c,[1,3,6]),a("year",s.year,c),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],h=[a("second",s.utcSecond,f),a("minute",s.utcMinute,f),a("hour",s.utcHour,f),a("day",s.utcDay,f,[1,7]),a("month",s.utcMonth,f,[1,3,6]),a("year",s.utcYear,f),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=u(d),e.exports.utc=u(h)},function(e,t,n){"use strict";function r(e,t){var n=t.id,r=t.bbox,a=null==t.properties?{}:t.properties,o=i(e,t);return null==n&&null==r?{type:"Feature",properties:a,geometry:o}:null==r?{type:"Feature",id:n,properties:a,geometry:o}:{type:"Feature",id:n,bbox:r,properties:a,geometry:o}}function i(e,t){function r(e,t){t.length&&t.pop();for(var r=d[e<0?~e:e],i=0,o=r.length;i<o;++i)t.push(f(r[i],i));e<0&&n.i(a.default)(t,o)}function i(e){return f(e)}function u(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=u(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}function c(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(c)};case"Point":t=i(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(i);break;case"LineString":t=u(e.arcs);break;case"MultiLineString":t=e.arcs.map(u);break;case"Polygon":t=l(e.arcs);break;case"MultiPolygon":t=e.arcs.map(l);break;default:return null}return{type:n,coordinates:t}}var f=n.i(o.default)(e.transform),d=e.arcs;return c(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.feature=r,t.object=i;var a=n(768),o=n(192);t.default=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return r(e,t)})}:r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(312);t.default=function(e){if(null==e)return r.default;var t,n,i=e.scale[0],a=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,r){r||(t=n=0);var s=2,l=e.length,c=new Array(l);for(c[0]=(t+=e[0])*i+o,c[1]=(n+=e[1])*a+u;s<l;)c[s]=e[s],++s;return c}}},function(e,t,n){"use strict";function r(e){return e&&e.constructor===i}function i(){var e=[],t=[],r=[],u=[],s=[],l=!1;return{constructor:i,insert:function(t){for(var r=n.i(o.array)(t),i=0,a=r.length;i<a;++i)e.push(r[i]);return this},remove:function(e){for(var r=n.i(o.isFunction)(e)?u:t,i=n.i(o.array)(e),a=0,s=i.length;a<s;++a)r.push(i[a]);return this},modify:function(e,t,i){var a={field:t,value:n.i(o.constant)(i)};return n.i(o.isFunction)(e)?(a.filter=e,s.push(a)):(a.tuple=e,r.push(a)),this},encode:function(e,t){return n.i(o.isFunction)(e)?s.push({filter:e,field:t}):r.push({tuple:e,field:t}),this},reflow:function(){return l=!0,this},pulse:function(i,o){function c(e,t,r){r?e[t]=r(e):i.encode=t,l||(f[n.i(a.tupleid)(e)]=e)}var f,d,h,p,v,m,g;for(d=0,h=e.length;d<h;++d)i.add.push(n.i(a.ingest)(e[d]));for(f={},d=0,h=t.length;d<h;++d)m=t[d],f[n.i(a.tupleid)(m)]=m;for(d=0,h=u.length;d<h;++d)v=u[d],o.forEach(function(e){v(e)&&(f[n.i(a.tupleid)(e)]=e)});for(g in f)i.rem.push(f[g]);for(f={},d=0,h=r.length;d<h;++d)p=r[d],c(p.tuple,p.field,p.value),i.modifies(p.field);for(d=0,h=s.length;d<h;++d)p=s[d],v=p.filter,o.forEach(function(e){v(e)&&c(e,p.field,p.value)}),i.modifies(p.field);if(l)i.mod=t.length||u.length?o.filter(function(e){return f.hasOwnProperty(n.i(a.tupleid)(e))}):o.slice();else for(g in f)i.mod.push(f[g]);return i}}}Object.defineProperty(t,"__esModule",{value:!0}),t.isChangeSet=r,t.default=i;var a=n(194),o=n(0)},function(e,t,n){"use strict";function r(){d=1}function i(e){return!(!e||!a(e))}function a(e){return e[f]}function o(e,t){return e[f]=t,e}function u(e){var t=e===Object(e)?e:{data:e};return a(t)?t:o(t,d++)}function s(e){return l(e,u({}))}function l(e,t){for(var n in e)t[n]=e[n];return t}function c(e,t){return o(t,a(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=r,t.isTuple=i,t.tupleid=a,t.ingest=u,t.derive=s,t.rederive=l,t.replace=c;var f=Symbol("vega_id"),d=1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Log",function(){return r}),n.d(t,"Pow",function(){return i}),n.d(t,"Utc",function(){return a}),n.d(t,"Sqrt",function(){return o}),n.d(t,"Band",function(){return u}),n.d(t,"Time",function(){return s}),n.d(t,"Point",function(){return l}),n.d(t,"Linear",function(){return c}),n.d(t,"Ordinal",function(){return f}),n.d(t,"Quantile",function(){return d}),n.d(t,"Quantize",function(){return h}),n.d(t,"Threshold",function(){return p}),n.d(t,"BinLinear",function(){return v}),n.d(t,"BinOrdinal",function(){return m}),n.d(t,"Sequential",function(){return g});var r="log",i="pow",a="utc",o="sqrt",u="band",s="time",l="point",c="linear",f="ordinal",d="quantile",h="quantize",p="threshold",v="bin-linear",m="bin-ordinal",g="sequential"},function(e,t,n){"use strict";function r(e,t,n){return n.bin?(e[s.field(n,{})]=!0,e[s.field(n,{binSuffix:"end"})]=!0,f.binRequiresRange(n,t)&&(e[s.field(n,{binSuffix:"range"})]=!0)):e[s.field(n)]=!0,e}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),s=n(7),l=n(3),c=n(2),f=n(18),d=n(14),h=function(e){function t(t,n){var r=e.call(this)||this;return r.dimensions=t,r.measures=n,r}return a(t,e),t.prototype.clone=function(){return new t(o({},this.dimensions),c.duplicate(this.measures))},t.makeFromEncoding=function(e){var n=!1;e.forEachFieldDef(function(e){e.aggregate&&(n=!0)});var i={},a={};return n?(e.forEachFieldDef(function(t,n){t.aggregate?"count"===t.aggregate?(i["*"]=i["*"]||{},i["*"].count=s.field(t,{aggregate:"count"})):(i[t.field]=i[t.field]||{},i[t.field][t.aggregate]=s.field(t),u.isScaleChannel(n)&&"unaggregated"===e.scaleDomain(n)&&(i[t.field].min=s.field(t,{aggregate:"min"}),i[t.field].max=s.field(t,{aggregate:"max"}))):r(a,n,t)}),c.keys(a).length+c.keys(i).length===0?null:new t(a,i)):null},t.makeFromTransform=function(e){for(var n={},r={},i=0,a=e.aggregate;i<a.length;i++){var o=a[i];o.op&&("count"===o.op?(r["*"]=r["*"]||{},r["*"].count=o.as||s.field(o)):(r[o.field]=r[o.field]||{},r[o.field][o.op]=o.as||s.field(o)))}for(var u=0,l=e.groupby;u<l.length;u++){var o=l[u];n[o]=!0}return c.keys(n).length+c.keys(r).length===0?null:new t(n,r)},t.prototype.merge=function(e){c.differ(this.dimensions,e.dimensions)?l.debug("different dimensions, cannot merge"):(i(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return c.keys(this.dimensions).forEach(function(t){return e[t]=!0}),c.keys(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return c.keys(this.measures).forEach(function(n){c.keys(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){for(var e=[],t=[],n=[],r=0,i=c.keys(this.measures);r<i.length;r++)for(var a=i[r],o=0,u=c.keys(this.measures[a]);o<u.length;o++){var s=u[o];n.push(this.measures[a][s]),e.push(s),t.push(a)}return{type:"aggregate",groupby:c.keys(this.dimensions),ops:e,fields:t,as:n}},t}(d.DataFlowNode);t.AggregateNode=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(3),u=n(10),s=n(28),l=n(89),c=n(14),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.model=t,i.name=n,i.data=r,t.facet.column&&(i.columnFields=[t.field(a.COLUMN)],i.columnName=t.getName("column_domain"),t.fieldDef(a.COLUMN).bin&&i.columnFields.push(t.field(a.COLUMN,{binSuffix:"end"}))),t.facet.row&&(i.rowFields=[t.field(a.ROW)],i.rowName=t.getName("row_domain"),t.fieldDef(a.ROW).bin&&i.rowFields.push(t.field(a.ROW,{binSuffix:"end"}))),i.childModel=t.child,i}return r(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){var e=[];return this.columnFields&&(e=e.concat(this.columnFields)),this.rowFields&&(e=e.concat(this.rowFields)),e},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.getChildIndependentFieldsWithStep=function(){for(var e={},t=0,n=["x","y"];t<n.length;t++){var r=n[t],i=this.childModel.component.scales[r];if(i&&!i.merged){var a=i.get("type"),c=i.get("range");if(u.hasDiscreteDomain(a)&&s.isVgRangeStep(c)){var f=l.assembleDomain(this.childModel,r),d=l.getFieldFromDomain(f);d?e[r]=d:o.warn("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e},t.prototype.assembleRowColumnData=function(e,t,n){var r={},a="row"===e?"y":"x";return n[a]&&(r=t?{fields:["distinct_"+n[a]],ops:["max"],as:["distinct_"+n[a]]}:{fields:[n[a]],ops:["distinct"]}),{name:"row"===e?this.rowName:this.columnName,source:t||this.data,transform:[i({type:"aggregate",groupby:"row"===e?this.rowFields:this.columnFields},r)]}},t.prototype.assemble=function(){var e=[],t=null,n=this.getChildIndependentFieldsWithStep();if(this.columnName&&this.rowName&&(n.x||n.y)){t="cross_"+this.columnName+"_"+this.rowName;var r=[].concat(n.x?[n.x]:[],n.y?[n.y]:[]),i=r.map(function(){return"distinct"});e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.columnFields.concat(this.rowFields),fields:r,ops:i}]})}return this.columnName&&e.push(this.assembleRowColumnData("column",t,n)),this.rowName&&e.push(this.assembleRowColumnData("row",t,n)),e},t}(c.DataFlowNode);t.FacetNode=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(7),u=n(10),s=n(2),l=n(14),c=function(e){function t(t){var n=e.call(this)||this;return n.fieldDefs=t,n}return r(t,e),t.prototype.clone=function(){return new t(i({},this.fieldDefs))},t.make=function(e){if("filter"!==e.config.invalidValues)return null;var n=e.reduceFieldDef(function(t,n,r){var i=a.isScaleChannel(r)&&e.getScaleComponent(r);if(i){var o=i.get("type");u.hasContinuousDomain(o)&&!n.aggregate&&(t[n.field]=n)}return t},{});return s.keys(n).length?new t(n):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this.fieldDefs},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this,t=s.keys(this.filter).reduce(function(t,n){var r=e.fieldDefs[n],i=o.field(r,{expr:"datum"});return null!==r&&(t.push(i+" !== null"),t.push("!isNaN("+i+")")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(l.DataFlowNode);t.FilterInvalidNode=c},function(e,t,n){"use strict";function r(e,t){var n="datum"+d.accessPath(e);if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return l.warn(l.message.unrecognizedParse(t)),null}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),u=n(7),s=n(125),l=n(3),c=n(204),f=n(127),d=n(2),h=n(15),p=n(14),v=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i(t,e),t.prototype.clone=function(){return new t(d.duplicate(this.parse))},t.make=function(e){var n={},r={};(e.transforms||[]).forEach(function(e){f.isCalculate(e)?r[e.as]=!0:f.isFilter(e)&&c.forEachLeave(e.filter,function(e){(s.isEqualFilter(e)||s.isRangeFilter(e)||s.isOneOfFilter(e))&&e.timeUnit&&(n[e.field]="date")})},{}),(h.isUnitModel(e)||h.isFacetModel(e))&&e.forEachFieldDef(function(e){if(u.isTimeFieldDef(e))n[e.field]="date";else if(u.isNumberFieldDef(e)){if(r[e.field]||o.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var a=i.format.parse;d.keys(a).forEach(function(e){n[e]=a[e]})}var p=e.component.data.ancestorParse;return d.keys(p).forEach(function(e){n[e]!==p[e]?l.warn(l.message.differentParse(e,n[e],p[e])):delete n[e]}),0===d.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=a({},this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.dependentFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return d.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);return n?{type:"formula",expr:n,as:t}:null}).filter(function(e){return null!==e})},t}(p.DataFlowNode);t.ParseNode=v},function(e,t,n){"use strict";function r(e){return e.stack.stackBy.reduce(function(e,t){var n=t.fieldDef,r=o.field(n);return r&&e.push(r),e},[])}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(7),u=n(2),s=n(18),l=n(14),c=function(e){function t(t){var n=e.call(this)||this;return n._stack=t,n}return i(t,e),t.prototype.clone=function(){return new t(u.duplicate(this._stack))},t.make=function(e){var n=e.stack;if(!n)return null;var i;n.groupbyChannel&&(i=e.fieldDef(n.groupbyChannel));var a,o=r(e),u=e.encoding.order;return a=u?s.sortParams(u):o.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]}),new t({dimensionFieldDef:i,field:e.field(n.fieldChannel),facetby:[],stackby:o,sort:a,offset:n.offset,impute:n.impute})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.facetby=this._stack.facetby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.field]=!0,this.getGroupbyFields().forEach(function(t){return e[t]=!0}),this._stack.facetby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return a.isArray(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){var e={};return e[this._stack.field+"_start"]=!0,e[this._stack.field+"_end"]=!0,e},t.prototype.getGroupbyFields=function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute;return t?t.bin?n?[o.field(t,{binSuffix:"mid"})]:[o.field(t,{}),o.field(t,{binSuffix:"end"})]:[o.field(t)]:[]},t.prototype.assemble=function(){var e=[],t=this._stack,n=t.facetby,r=t.field,i=t.dimensionFieldDef,a=t.impute,u=t.offset,s=t.sort,l=t.stackby;if(a&&i){var c=i?o.field(i,{binSuffix:"mid"}):void 0;i.bin&&e.push({type:"formula",expr:"("+o.field(i,{expr:"datum"})+"+"+o.field(i,{expr:"datum",binSuffix:"end"})+")/2",as:c}),e.push({type:"impute",field:r,groupby:l,key:c,method:"value",value:0})}return e.push({type:"stack",groupby:this.getGroupbyFields().concat(n),field:r,sort:s,as:[r+"_start",r+"_end"],offset:u}),e},t}(l.DataFlowNode);t.StackNode=c},function(e,t,n){"use strict";function r(e,n,r){var a=f.channelSignalName(n,r,"visual"),o=f.channelSignalName(n,r,"data"),s=d.default.has(n),h=e.scaleName(r),p=c.stringValue(h),v=e.getScaleComponent(r),m=v?v.get("type"):void 0,g=e.getSizeSignalRef(r===u.X?"width":"height").signal,y=r+"(unit)",_=i(n,function(e,t){return e.concat({events:t.between[0],update:"["+y+", "+y+"]"},{events:t,update:"["+a+"[0], clamp("+y+", 0, "+g+")]"})});return _.push({events:{signal:n.name+t.SCALE_TRIGGER},update:l.hasContinuousDomain(m)&&!l.isBinScale(m)?"[scale("+p+", "+o+"[0]), scale("+p+", "+o+"[1])]":"[0, 0]"}),s?[{name:o,on:[]}]:[{name:a,value:[],on:_},{name:o,on:[{events:{signal:a},update:a+"[0] === "+a+"[1] ? null : invert("+p+", "+a+")"}]}]}function i(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(s.warn(n+" is not an ordered event stream for interval selections"),e)},[])}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),s=n(3),l=n(10),c=n(2),f=n(16),d=n(123);t.BRUSH="_brush",t.SCALE_TRIGGER="_scale_trigger";var h={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var a=n.name,o=d.default.has(n),h=[],p=[],v=[],m=[];if(n.translate&&!o){var g="!event.item || event.item.mark.name !== "+c.stringValue(a+t.BRUSH);i(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(g)<0&&n.push(g)})}return n.project.forEach(function(t){var i=t.channel;if(i!==u.X&&i!==u.Y)return void s.warn("Interval selections only support x and y encoding channels.");var a=r(e,n,i),o=f.channelSignalName(n,i,"data"),d=f.channelSignalName(n,i,"visual"),g=c.stringValue(e.scaleName(i)),y=e.getScaleComponent(i).get("type"),_=l.hasContinuousDomain(y)?"+":"";h.push.apply(h,a),v.push(o),p.push("{encoding: "+c.stringValue(i)+", field: "+c.stringValue(t.field)+", extent: "+o+"}"),m.push({scaleName:e.scaleName(i),expr:"(!isArray("+o+") || ("+_+"invert("+g+", "+d+")[0] === "+_+o+"[0] && "+_+"invert("+g+", "+d+")[1] === "+_+o+"[1]))"})}),o||h.push({name:a+t.SCALE_TRIGGER,update:m.map(function(e){return e.expr}).join(" && ")+" ? "+(a+t.SCALE_TRIGGER)+" : {}"}),h.concat({name:a+f.TUPLE,on:[{events:v.map(function(e){return{signal:e}}),update:v.join(" && ")+" ? {unit: "+f.unitName(e)+", intervals: ["+p.join(", ")+"]} : null"}]})},modifyExpr:function(e,t){return t.name+f.TUPLE+", "+("global"===t.resolve?"true":"{unit: "+f.unitName(e)+"}")},marks:function(e,n,r){var i=n.name,u=f.positionalProjections(n),s=u.xi,l=u.yi,h="data("+c.stringValue(n.name+f.STORE)+")";if(d.default.has(n))return r;var p={x:null!==s?{signal:i+"_x[0]"}:{value:0},y:null!==l?{signal:i+"_y[0]"}:{value:0},x2:null!==s?{signal:i+"_x[1]"}:{field:{group:"width"}},y2:null!==l?{signal:i+"_y[1]"}:{field:{group:"height"}}};if("global"===n.resolve)for(var v=0,m=c.keys(p);v<m.length;v++){var g=m[v];p[g]=[a({test:h+".length && "+h+"[0].unit === "+f.unitName(e)},p[g]),{value:0}]}var y=n.mark,_=y.fill,b=y.fillOpacity,x=o(y,["fill","fillOpacity"]),w=c.keys(x).reduce(function(e,t){return e[t]={value:x[t]},e},{});return[{name:i+t.BRUSH+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:_},fillOpacity:{value:b}},update:p}}].concat(r,{name:i+t.BRUSH,type:"rect",clip:!0,encode:{enter:a({fill:{value:"transparent"}},w),update:p}})}};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),a={has:function(e){return"interval"!==e.type&&e.nearest},marks:function(e,t,n){var a=i.positionalProjections(t),o=a.x,u=a.y,s=e.mark();if("line"===s||"area"===s)return r.warn(r.message.nearestNotSupportForContinuous(s)),n;var l={name:e.getName("voronoi"),type:"path",from:{data:e.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:o||!o&&!u?"datum.x":{expr:"0"},y:u||!o&&!u?"datum.y":{expr:"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},c=0,f=!1;return n.forEach(function(t,n){var r=t.name||"";r===e.component.mark[0].name?c=n:r.indexOf("voronoi")>=0&&(f=!0)}),f||n.splice(c+1,0,l),n}};t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.defaultLegendConfig={};var a={entryPadding:1,format:1,offset:1,orient:1,padding:1,tickCount:1,title:1,type:1,values:1,zindex:1},o=r({},a,{opacity:1,shape:1,stroke:1,fill:1,size:1,encode:1});t.LEGEND_PROPERTIES=i.flagKeys(a),t.VG_LEGEND_PROPERTIES=i.flagKeys(o)},function(e,t,n){"use strict";function r(e){return!!e.or}function i(e){return!!e.and}function a(e){return!!e.not}function o(e,t){if(a(e))o(e.not,t);else if(i(e))for(var n=0,u=e.and;n<u.length;n++){var s=u[n];o(s,t)}else if(r(e))for(var l=0,c=e.or;l<c.length;l++){var s=c[l];o(s,t)}else t(e)}function u(e,t){return a(e)?{not:u(e.not,t)}:i(e)?{and:e.and.map(function(e){return u(e,t)})}:r(e)?{or:e.or.map(function(e){return u(e,t)})}:t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicalOr=r,t.isLogicalAnd=i,t.isLogicalNot=a,t.forEachLeave=o,t.normalizeLogicalOperand=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTION_ID="_vgsid_",t.defaultConfig={single:{on:"click",fields:[t.SELECTION_ID],resolve:"global",empty:"all"},multi:{on:"click",fields:[t.SELECTION_ID],toggle:"event.shiftKey",resolve:"global",empty:"all"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}}},function(e,t,n){"use strict";function r(e){return!!p[e]}function i(e){var t=e.x,n=e.y;if(l.isFieldDef(t)&&l.isFieldDef(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if(l.isFieldDef(t)&&"quantitative"===t.type)return"x";if(l.isFieldDef(n)&&"quantitative"===n.type)return"y"}}function a(e,n,a){var p=f.isMarkDef(e)?e.type:e;if(!h.contains(t.STACKABLE_MARKS,p))return null;var v=i(n);if(!v)return null;var m=n[v],g=l.isStringFieldDef(m)?l.field(m,{}):void 0,y="x"===v?"y":"x",_=n[y],b=l.isStringFieldDef(_)?l.field(_,{}):void 0,x=u.NONPOSITION_CHANNELS.reduce(function(e,t){if(s.channelHasField(n,t)){var r=n[t];(h.isArray(r)?r:[r]).forEach(function(n){var r=l.getFieldDef(n);if(!r.aggregate){var i=l.isStringFieldDef(r)?l.field(r,{}):void 0;(!i||i!==b&&i!==g)&&e.push({channel:t,fieldDef:r})}})}return e},[]);if(0===x.length)return null;var w=void 0;return(w=void 0!==m.stack?m.stack:h.contains(t.STACK_BY_DEFAULT_MARKS,p)&&void 0===a?"zero":a)&&r(w)?m.scale&&m.scale.type&&m.scale.type!==d.ScaleType.LINEAR?(c.warn(c.message.cannotStackNonLinearScale(m.scale.type)),null):s.channelHasField(n,v===u.X?u.X2:u.Y2)?(c.warn(c.message.cannotStackRangedMark(v)),null):(m.aggregate&&!h.contains(o.SUM_OPS,m.aggregate)&&c.warn(c.message.stackNonSummativeAggregate(m.aggregate)),{groupbyChannel:_?y:void 0,fieldChannel:v,impute:h.contains(["area","line"],p),stackBy:x,offset:w}):null}Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),u=n(6),s=n(24),l=n(7),c=n(3),f=n(25),d=n(10),h=n(2),p={zero:1,center:1,normalize:1};t.isStackOffset=r,t.STACKABLE_MARKS=[f.BAR,f.AREA,f.RULE,f.POINT,f.CIRCLE,f.SQUARE,f.LINE,f.TEXT,f.TICK],t.STACK_BY_DEFAULT_MARKS=[f.BAR,f.AREA],t.stack=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Literal",function(){return r}),n.d(t,"Identifier",function(){return i});var r="Literal",i="Identifier"},function(e,t,n){"use strict";function r(e){var t=this.context.data[e];return t?t.values.value:[]}function i(e,t,r,i){t[0].type!==s.Literal&&n.i(c.error)("First argument to data functions must be a string literal.");var a=t[0].value,o=l.dataPrefix+a;i.hasOwnProperty(o)||(i[o]=r.getData(a).tuplesRef())}function a(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function o(e,t,r,i){t[0].type!==s.Literal&&n.i(c.error)("First argument to indata must be a string literal."),t[1].type!==s.Literal&&n.i(c.error)("Second argument to indata must be a string literal.");var a=t[0].value,o=t[1].value,u=l.indexPrefix+o;i.hasOwnProperty(u)||(i[u]=r.getData(a).indataRef(r,o))}function u(e,t){var n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(c.truthy).insert(t)),1}Object.defineProperty(t,"__esModule",{value:!0}),t.data=r,t.dataVisitor=i,t.indata=a,t.indataVisitor=o,t.setdata=u;var s=n(207),l=n(130),c=n(0)},function(e,t,n){"use strict";function r(e,t){n.i(i.error)(e+' for "outer" push: '+n.i(i.stringValue)(t))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=["value","update","react","bind"];t.default=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||r("No prior signal definition",n),a.forEach(function(t){void 0!==e[t]&&r("Invalid property ",t)});else{var i=t.addSignal(n,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}}},function(e,t,n){"use strict";function r(e,t,n){var r,a,o,u={};for(a=0,o=e.params.length;a<o;++a)r=e.params[a],u[r.name]=i(r,t,n);return u}function i(e,t,r){var i=e.type,s=t[e.name];return"index"===i?o(e,t,r):void 0===s?void(e.required&&n.i(_.error)("Missing required "+n.i(_.stringValue)(t.type)+" parameter: "+n.i(_.stringValue)(e.name))):"param"===i?u(e,t,r):"projection"===i?r.projectionRef(t[e.name]):e.array&&!n.i(m.isSignal)(s)?s.map(function(t){return a(e,t,r)}):a(e,s,r)}function a(e,t,r){var i=e.type;if(n.i(m.isSignal)(t))return d(i)?n.i(_.error)("Expression references can not be signals."):h(i)?r.fieldRef(t):p(i)?r.compareRef(t):r.signalRef(t.signal);var a=e.expr||h(i);return a&&l(t)?n.i(v.default)(t.expr,r):a&&c(t)?n.i(m.fieldRef)(t.field):d(i)?n.i(v.default)(t,r):f(i)?n.i(m.ref)(r.getData(t).values):h(i)?n.i(m.fieldRef)(t):p(i)?r.compareRef(t):t}function o(e,t,r){return n.i(_.isString)(t.from)||n.i(_.error)('Lookup "from" parameter must be a string literal.'),r.getData(t.from).lookupRef(r,t.key)}function u(e,t,r){var i=t[e.name];return e.array?(n.i(_.isArray)(i)||n.i(_.error)("Expected an array of sub-parameters. Instead: "+n.i(_.stringValue)(i)),i.map(function(t){return s(e,t,r)})):s(e,i,r)}function s(e,t,i){var a,o,u,s,l;for(s=0,l=e.params.length;s<l;++s){o=e.params[s];for(u in o.key)if(o.key[u]!==t[u]){o=null;break}if(o)break}return o||n.i(_.error)("Unsupported parameter: "+n.i(_.stringValue)(t)),a=n.i(_.extend)(r(o,t,i),o.key),n.i(m.ref)(i.add(n.i(g.Params)(a)))}function l(e){return e&&e.expr}function c(e){return e&&e.field}function f(e){return"data"===e}function d(e){return"expr"===e}function h(e){return"field"===e}function p(e){return"compare"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.outerExpr=l,t.outerField=c,t.isData=f,t.isExpr=d,t.isField=h,t.isCompare=p;var v=n(57),m=n(20),g=n(26),y=n(1),_=n(0);t.default=function(e,t){var i=n.i(y.definition)(e.type);i||n.i(_.error)("Unrecognized transform type: "+n.i(_.stringValue)(e.type));var a=n.i(m.entry)(i.type.toLowerCase(),null,r(i,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(a)),a.metadata=i.metadata||{},a}},function(e,t,n){"use strict";function r(e){this._active=null,this._handlers={},this._loader=e||n.i(a.loader)()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(45),a=n(92),o=r.prototype;o.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},o.element=function(){return this._el},o.origin=function(e){return this._origin=e||[0,0],this},o.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},o.on=function(){},o.off=function(){},o.handlers=function(){var e,t=this._handlers,n=[];for(e in t)n.push.apply(n,t[e]);return n},o.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},o.handleHref=function(e,t,r){this._loader.sanitize(r,{context:"href"}).then(function(t){var r=new MouseEvent(e.type,e),a=n.i(i.domCreate)(null,"a");for(var o in t)a.setAttribute(o,t[o]);a.dispatchEvent(r)}).catch(function(){})},o.handleTooltip=function(e,t,n){this._el.setAttribute("title",n||"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),i=n(135),a=n(138),o=n(62),u=n(141);t.default=function(e,t){function s(e,r){e("transform",n.i(u.default)(r)),e("d",t(null,r))}function l(e,a){return t(n.i(i.default)(e),a),n.i(r.default)(e,a).translate(a.x||0,a.y||0)}function c(e,n){var r=n.x||0,i=n.y||0;e.translate(r,i),e.beginPath(),t(e,n),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:s,bound:l,draw:n.i(a.drawAll)(c),pick:n.i(o.pickPath)(c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),i=n(135),a=n(138),o=n(62);t.default=function(e,t){function u(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))}function s(e,a){var o=a.items;return 0===o.length?e:(t(n.i(i.default)(e),o),n.i(r.default)(e,o[0]))}function l(e,n){e.beginPath(),t(e,n)}function c(e,t,n,r,i,a){var o=t.items,u=t.bounds;return!o||!o.length||u&&!u.contains(i,a)?null:(e.pixelRatio>1&&(n*=e.pixelRatio,r*=e.pixelRatio),f(e,o,n,r)?o[0]:null)}var f=n.i(o.hitPath)(l);return{type:e,tag:"path",nested:!0,attr:u,bound:s,draw:n.i(a.drawOne)(l),pick:c}}},function(e,t,n){"use strict";function r(e,t){var n=o[0]=e[0];if("a"===n||"A"===n)o[1]=t*e[1],o[2]=t*e[2],o[6]=t*e[6],o[7]=t*e[7];else for(var r=1,i=e.length;r<i;++r)o[r]=t*e[r];return o}function i(e,t,r,i){for(var o=n.i(a.segments)(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,r),u=0;u<o.length;++u){var s=n.i(a.bezier)(o[u]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(945),o=["l",0,0,0,0,0,0,0];t.default=function(e,t,n,a,o){var u,s,l,c,f,d=null,h=0,p=0,v=0,m=0;null==n&&(n=0),null==a&&(a=0),null==o&&(o=1),e.beginPath&&e.beginPath();for(var g=0,y=t.length;g<y;++g){switch(u=t[g],1!==o&&(u=r(u,o)),u[0]){case"l":h+=u[1],p+=u[2],e.lineTo(h+n,p+a);break;case"L":h=u[1],p=u[2],e.lineTo(h+n,p+a);break;case"h":h+=u[1],e.lineTo(h+n,p+a);break;case"H":h=u[1],e.lineTo(h+n,p+a);break;case"v":p+=u[1],e.lineTo(h+n,p+a);break;case"V":p=u[1],e.lineTo(h+n,p+a);break;case"m":h+=u[1],p+=u[2],e.moveTo(h+n,p+a);break;case"M":h=u[1],p=u[2],e.moveTo(h+n,p+a);break;case"c":s=h+u[5],l=p+u[6],v=h+u[3],m=p+u[4],e.bezierCurveTo(h+u[1]+n,p+u[2]+a,v+n,m+a,s+n,l+a),h=s,p=l;break;case"C":h=u[5],p=u[6],v=u[3],m=u[4],e.bezierCurveTo(u[1]+n,u[2]+a,v+n,m+a,h+n,p+a);break;case"s":s=h+u[3],l=p+u[4],v=2*h-v,m=2*p-m,e.bezierCurveTo(v+n,m+a,h+u[1]+n,p+u[2]+a,s+n,l+a),v=h+u[1],m=p+u[2],h=s,p=l;break;case"S":s=u[3],l=u[4],v=2*h-v,m=2*p-m,e.bezierCurveTo(v+n,m+a,u[1]+n,u[2]+a,s+n,l+a),h=s,p=l,v=u[1],m=u[2];break;case"q":s=h+u[3],l=p+u[4],v=h+u[1],m=p+u[2],e.quadraticCurveTo(v+n,m+a,s+n,l+a),h=s,p=l;break;case"Q":s=u[3],l=u[4],e.quadraticCurveTo(u[1]+n,u[2]+a,s+n,l+a),h=s,p=l,v=u[1],m=u[2];break;case"t":s=h+u[1],l=p+u[2],null===d[0].match(/[QqTt]/)?(v=h,m=p):"t"===d[0]?(v=2*h-c,m=2*p-f):"q"===d[0]&&(v=2*h-v,m=2*p-m),c=v,f=m,e.quadraticCurveTo(v+n,m+a,s+n,l+a),h=s,p=l,v=h+u[1],m=p+u[2];break;case"T":s=u[1],l=u[2],v=2*h-v,m=2*p-m,e.quadraticCurveTo(v+n,m+a,s+n,l+a),h=s,p=l;break;case"a":i(e,h+n,p+a,[u[1],u[2],u[3],u[4],u[5],u[6]+h+n,u[7]+p+a]),h+=u[6],p+=u[7];break;case"A":i(e,h+n,p+a,[u[1],u[2],u[3],u[4],u[5],u[6]+n,u[7]+a]),h=u[6],p=u[7];break;case"z":case"Z":e.closePath()}d=u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(381);t.default=function(e,t,i){return(i*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=i,e.fillStyle=n.i(r.default)(e,t,t.fill),!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"translate("+e+","+t+")"}},function(e,t,n){"use strict";function r(e,t,n){var r,i,a="<"+e;if(t)for(r in t)null!=(i=t[r])&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function i(e){return"</"+e+">"}Object.defineProperty(t,"__esModule",{value:!0}),t.openTag=r,t.closeTag=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219);t.default=function(e){return null!=e?n.i(r.default)(e)?e:[e]:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Array.isArray},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(408),i=n(23);t.default=function(e,t){var a=n.i(i.renderModule)(t);return a&&a.headless?e.runAsync().then(function(){return n.i(r.default)(e,null,null,a.headless).renderAsync(e._scenegraph.root)}):Promise.reject("Unrecognized renderer type: "+t)}},function(e,t,n){"use strict";(function(e){function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):h(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return u(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(u(t),e=i(e,t<0?0:0|p(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=i(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function h(e,t){if(a.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&K(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),a.alloc(+e)}function m(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<u;l++)if(a(e,l)===a(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===s)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+s>u&&(n=u-s),l=n;l>=0;l--){for(var f=!0,d=0;d<s;d++)if(a(e,l+d)!==a(t,d)){f=!1;break}if(f)return l}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var u=parseInt(t.substr(2*o,2),16);if(isNaN(u))return o;e[n+o]=u}return o}function w(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function M(e,t,n,r){return G(Y(t),e,n,r)}function O(e,t,n,r){return M(e,t,n,r)}function P(e,t,n,r){return G($(t),e,n,r)}function S(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,u=a>239?4:a>223?3:a>191?2:1;if(i+u<=n){var s,l,c,f;switch(u){case 1:a<128&&(o=a);break;case 2:s=e[i+1],128==(192&s)&&(f=(31&a)<<6|63&s)>127&&(o=f);break;case 3:s=e[i+1],l=e[i+2],128==(192&s)&&128==(192&l)&&(f=(15&a)<<12|(63&s)<<6|63&l)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:s=e[i+1],l=e[i+2],c=e[i+3],128==(192&s)&&128==(192&l)&&128==(192&c)&&(f=(15&a)<<18|(63&s)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=u}return j(r)}function j(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=V(e[a]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return i||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function U(e){if(e=B(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function $(e){return J.toByteArray(U(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e){return e!==e}var J=n(413),Q=n(1048),K=n(758);t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return o(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return s(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!K(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,u=n-t,s=Math.min(o,u),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],u=c[f];break}return o<u?-1:u<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return M(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var i=t-e;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,u=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===u&&0!==this[t+a-1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,u=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===u&&0!==this[t+a+1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var u=a.isBuffer(e)?e:H(new a(e,r).toString()),s=u.length;for(o=0;o<n-t;++o)this[o+t]=u[o%s]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(410))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(112),a=r(i),o=n(409),u=r(o),s=n(1050),l=r(s),c=u.default.Model.extend({initialize:function(e){e=e||{},a.default.defaults(e,{title:e.name||e.id,id:e.name,description:""}),!a.default.has(e,"value")&&a.default.has(e.default||{},"data")&&(e.value=e.default.data),"integer"===e.type&&(e.step=1,a.default.has(e,"min")&&(e.min=Math.ceil(e.min))),this.set(e)},set:function(e,t){var n,r;if(a.default.isString(e)&&(n=e,r=t,t=arguments[2],e={},e[n]=r),a.default.has(e,"value"))try{e.value=this.normalize(e.value)}catch(t){console.warn('Could not normalize value "'+e.value+'"')}if(a.default.has(e,"values"))try{e.values=a.default.map(e.values,a.default.bind(this._normalizeValue,this))}catch(t){console.warn('Could not normalize value in "'+e.values+'"')}return u.default.Model.prototype.set.call(this,e,t)},normalize:function(e){return this.isVector()?this._normalizeVector(e):this._normalizeValue(e)},_normalizeVector:function(e){return""===e?e=[]:a.default.isString(e)&&(e=e.split(",")),a.default.map(e,a.default.bind(this._normalizeValue,this))},_normalizeValue:function(e){return this.isNumeric()?e=parseFloat(e):this.isInteger()?e=parseInt(e):this.isBoolean()?e=!!e:this.isColor()?(a.default.isArray(e)&&(e={r:e[0],g:e[1],b:e[2]}),e=(0,l.default)(e).toHexString()):this.isGirderModel()||(e=e.toString()),e},validate:function(e){return a.default.contains(this.types,e.type)?this.isVector()?this._validateVector(e.value):"new-file"===e.type?this._validateGirderModel(e.value)||(e.fileName?void 0:"No file name provided"):"new-folder"===e.type?this._validateGirderModel(e.value)||(e.fileName?void 0:"No folder name provided"):this.isGirderModel()?this._validateGirderModel(e.value):this._validateValue(e.value):'Invalid type, "'+e.type+'"'},_validateValue:function(e){var t;return this.isNumeric()&&(t=this._validateNumeric(e)),this.isEnumeration()&&!a.default.contains(this.get("values"),this._normalizeValue(e))&&(t="Invalid value choice"),t},_validateVector:function(e){var t;return e=this.normalize(e),t=a.default.chain(e).map(a.default.bind(this._validateValue,this)).reject(a.default.isUndefined).value(),t=0===t.length?void 0:t.join("\n")},_validateNumeric:function(e){var t,n=parseFloat(this.get("min")),r=parseFloat(this.get("max")),i=parseFloat(this.get("step"));return isFinite(e)?e<n||e>r?"Value out of range ["+[n,r]+"]":(n=n||0,t=(e-n)/i,i>0&&Math.abs(Math.round(t)-t)>1e-6?'Value does not satisfy step "'+i+'"':void 0):'Invalid number "'+e+'"'},_validateGirderModel:function(e){var t=e&&e.get&&e.get("_modelType");return e?t?"file"===this.get("type")&&"item"!==t?"Value must be an item":"image"===this.get("type")&&"item"!==t?"Value must be an item":"directory"===this.get("type")&&"folder"!==t?"Value must be a folder":"new-file"===this.get("type")&&"folder"!==t?"Value must be a folder":"new-folder"!==this.get("type")||a.default.contains(["folder","collection","user"],t)?void 0:"Value must be a collection, folder, or user":"Invalid value":"Empty value"},isNumeric:function(){return a.default.contains(["range","integer","number","number-vector","number-enumeration","number-enumeration-multiple","region"],this.get("type"))},isInteger:function(){return"integer"===this.get("type")},isBoolean:function(){return"boolean"===this.get("type")},isVector:function(){return a.default.contains(["number-vector","number-enumeration-multiple","string-vector","string-enumeration-multiple","region"],this.get("type"))},isColor:function(){return"color"===this.get("type")},isEnumeration:function(){return a.default.contains(["number-enumeration","number-enumeration-multiple","string-enumeration","string-enumeration-multiple"],this.get("type"))},isGirderModel:function(){return a.default.contains(["directory","new-folder","file","new-file","image"],this.get("type"))},isFile:function(){return"file"===this.get("type")},value:function(){return this.get("value")},types:["color","range","number","boolean","string","integer","number-vector","string-vector","number-enumeration","number-enumeration-multiple","string-enumeration","string-enumeration-multiple","file","directory","new-file","new-folder","image","region"]});t.default=c},function(e,t,n){"use strict";function r(e){var t=window.getComputedStyle(e,null);return{width:window.parseInt(t.getPropertyValue("width")),height:window.parseInt(t.getPropertyValue("height"))}}function i(e){var t={min:null,max:null};if(e.length>0){t.min=t.max=e[0];var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u<t.min&&(t.min=u),u>t.max&&(t.max=u)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementSize=r,t.minmax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"slice",function(){return i}),n.d(t,"map",function(){return a});var r=Array.prototype,i=r.slice,a=r.map},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"bisectRight",function(){return o}),n.d(t,"bisectLeft",function(){return u});var r=n(65),i=n(227),a=n.i(i.default)(r.default),o=a.right,u=a.left;t.default=o},function(e,t,n){"use strict";function r(e){return function(t,r){return n.i(i.default)(e(t),r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65);t.default=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(236);t.default=function(e,t){var i=n.i(r.default)(e,t);return i?Math.sqrt(i):i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){for(;++o<a;)if(null!=(n=e[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=i=n;++o<a;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function r(e,t){return[e,t]}Object.defineProperty(t,"__esModule",{value:!0}),t.pair=r,t.default=function(e,t){null==t&&(t=r);for(var n=0,i=e.length-1,a=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(a,a=e[++n]);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=a?10:s>=o?5:s>=u?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=a?10:s>=o?5:s>=u?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=a?i*=10:s>=o?i*=5:s>=u&&(i*=2),t<e?-i:i}Object.defineProperty(t,"__esModule",{value:!0}),t.tickIncrement=r,t.tickStep=i;var a=Math.sqrt(50),o=Math.sqrt(10),u=Math.sqrt(2);t.default=function(e,t,n){var i,a,o,u,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),0===(u=r(e,t,n))||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),o=new Array(a=Math.ceil(t-e+1));++s<a;)o[s]=(e+s)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),o=new Array(a=Math.ceil(e-t+1));++s<a;)o[s]=(e-s)/u;return i&&o.reverse(),o}},function(e,t,n){"use strict";function r(e){return e.length}Object.defineProperty(t,"__esModule",{value:!0});var i=n(230);t.default=function(e){if(!(u=e.length))return[];for(var t=-1,a=n.i(i.default)(e,r),o=new Array(a);++t<a;)for(var u,s=-1,l=o[t]=new Array(u);++s<u;)l[s]=e[s][t];return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);t.default=function(e,t){var i,a,o=e.length,u=0,s=-1,l=0,c=0;if(null==t)for(;++s<o;)isNaN(i=n.i(r.default)(e[s]))||(a=i-l,l+=a/++u,c+=a*(i-l));else for(;++s<o;)isNaN(i=n.i(r.default)(t(e[s],s,e)))||(a=i-l,l+=a/++u,c+=a*(i-l));if(u>1)return c/(u-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"deg2rad",function(){return r}),n.d(t,"rad2deg",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"slice",function(){return i});var r=Array.prototype,i=r.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(238),a=n(479),o=n(478),u=n(239),s=n(481),l=n(483),c=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];t.default=function(){function e(e){var i=v(e);if(Array.isArray(i))i=i.slice().sort(a.default);else{var u=n.i(r.extent)(e),l=u[0],c=u[1];i=n.i(r.tickStep)(l,c,i),i=n.i(r.range)(Math.floor(l/i)*i,Math.floor(c/i)*i,i)}return i.map(function(r){var i=[],a=[];return t(e,r,function(t){m(t,e,r),n.i(o.default)(t)>0?i.push([t]):a.push(t)}),a.forEach(function(e){for(var t,r=0,a=i.length;r<a;++r)if(-1!==n.i(s.default)((t=i[r])[0],e))return void t.push(e)}),i}).map(function(e,t){return{type:"MultiPolygon",value:i[t],coordinates:e}})}function t(e,t,n){function r(e){var t,r,o=[e[0][0]+i,e[0][1]+a],u=[e[1][0]+i,e[1][1]+a],s=f(o),l=f(u);(t=v[s])?(r=d[l])?(delete v[t.end],delete d[r.start],t===r?(t.ring.push(u),n(t.ring)):d[t.start]=v[r.end]={start:t.start,end:r.end,ring:t.ring.concat(r.ring)}):(delete v[t.end],t.ring.push(u),v[t.end=l]=t):(t=d[l])?(r=v[s])?(delete d[t.start],delete v[r.end],t===r?(t.ring.push(u),n(t.ring)):d[r.start]=v[t.end]={start:r.start,end:t.end,ring:r.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(o),d[t.start=s]=t):d[s]=v[l]={start:s,end:l,ring:[o,u]}}var i,a,o,u,s,l,d=new Array,v=new Array;for(i=a=-1,u=e[0]>=t,c[u<<1].forEach(r);++i<h-1;)o=u,u=e[i+1]>=t,c[o|u<<1].forEach(r);for(c[u<<0].forEach(r);++a<p-1;){for(i=-1,u=e[a*h+h]>=t,s=e[a*h]>=t,c[u<<1|s<<2].forEach(r);++i<h-1;)o=u,u=e[a*h+h+i+1]>=t,l=s,s=e[a*h+i+1]>=t,c[o|u<<1|s<<2|l<<3].forEach(r);c[u|s<<3].forEach(r)}for(i=-1,s=e[a*h]>=t,c[s<<2].forEach(r);++i<h-1;)l=s,s=e[a*h+i+1]>=t,c[s<<2|l<<3].forEach(r);c[s<<3].forEach(r)}function f(e){return 2*e[0]+e[1]*(h+1)*4}function d(e,t,n){e.forEach(function(e){var r,i=e[0],a=e[1],o=0|i,u=0|a,s=t[u*h+o];i>0&&i<h&&o===i&&(r=t[u*h+o-1],e[0]=i+(n-r)/(s-r)-.5),a>0&&a<p&&u===a&&(r=t[(u-1)*h+o],e[1]=a+(n-r)/(s-r)-.5)})}var h=1,p=1,v=r.thresholdSturges,m=d;return e.size=function(t){if(!arguments.length)return[h,p];var n=Math.ceil(t[0]),r=Math.ceil(t[1]);if(!(n>0&&r>0))throw new Error("invalid size");return h=n,p=r,e},e.thresholds=function(t){return arguments.length?(v="function"==typeof t?t:Array.isArray(t)?n.i(u.default)(i.slice.call(t)):n.i(u.default)(t),e):v},e.smooth=function(t){return arguments.length?(m=t?d:l.default,e):m===d},e}},function(e,t,n){"use strict";function r(e){return e.x}function i(e){return e.y}Object.defineProperty(t,"__esModule",{value:!0}),t.x=r,t.y=i;var a=n(154),o=n(71),u=n(183),s=Math.PI*(3-Math.sqrt(5));t.default=function(e){function t(){r(),y.call("tick",c),f<d&&(g.stop(),y.call("end",c))}function r(){var t,n,r=e.length;for(f+=(p-f)*h,m.each(function(e){e(f)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=v:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=v:(n.y=n.fy,n.vy=0)}function i(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),a=n*s;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function l(t){return t.initialize&&t.initialize(e),t}var c,f=1,d=.001,h=1-Math.pow(d,1/300),p=0,v=.6,m=n.i(o.map)(),g=n.i(u.timer)(t),y=n.i(a.dispatch)("tick","end");return null==e&&(e=[]),i(),c={tick:r,restart:function(){return g.restart(t),c},stop:function(){return g.stop(),c},nodes:function(t){return arguments.length?(e=t,i(),m.each(l),c):e},alpha:function(e){return arguments.length?(f=+e,c):f},alphaMin:function(e){return arguments.length?(d=+e,c):d},alphaDecay:function(e){return arguments.length?(h=+e,c):+h},alphaTarget:function(e){return arguments.length?(p=+e,c):p},velocityDecay:function(e){return arguments.length?(v=1-e,c):1-v},force:function(e,t){return arguments.length>1?(null==t?m.remove(e):m.set(e,l(t)),c):m.get(e)},find:function(t,n,r){var i,a,o,u,s,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)u=e[l],i=t-u.x,a=n-u.y,(o=i*i+a*a)<r&&(s=u,r=o);return s},on:function(e,t){return arguments.length>1?(y.on(e,t),c):y.on(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"prefixExponent",function(){return r});var r,i=n(156);t.default=function(e,t){var a=n.i(i.default)(e,t);if(!a)return e+"";var o=a[0],u=a[1],s=u-(r=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,l=o.length;return s===l?o:s>l?o+new Array(s-l+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+n.i(i.default)(e,Math.max(0,t+s-1))[0]}},function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",u=t[4]||"",s=!!t[5],l=t[6]&&+t[6],c=!!t[7],f=t[8]&&+t[8].slice(1),d=t[9]||"";"n"===d?(c=!0,d="g"):a.default[d]||(d=""),(s||"0"===n&&"="===r)&&(s=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=u,this.zero=s,this.width=l,this.comma=c,this.precision=f,this.type=d}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(244),o=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(505),i=n(242),a=n(508);t.default={"":r.default,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return n.i(a.default)(100*e,t)},r:a.default,s:i.default,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=n(506),a=n(507),o=n(243),u=n(244),s=n(242),l=n(509),c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.default=function(e){function t(e){function t(e){var t,n,o,u=x,l=w;if("c"===b)l=M(e)+l,e="";else{e=+e;var h=e<0;if(e=M(Math.abs(e),_),h&&0==+e&&(h=!1),u=(h?"("===a?a:"-":"-"===a||"("===a?"":a)+u,l=l+("s"===b?c[8+s.prefixExponent/3]:"")+(h&&"("===a?")":""),O)for(t=-1,n=e.length;++t<n;)if(48>(o=e.charCodeAt(t))||o>57){l=(46===o?p+e.slice(t+1):e.slice(t))+l,e=e.slice(0,t);break}}y&&!f&&(e=d(e,1/0));var m=u.length+e.length+l.length,P=m<g?new Array(g-m+1).join(r):"";switch(y&&f&&(e=d(P+e,P.length?g-l.length:1/0),P=""),i){case"<":e=u+e+l+P;break;case"=":e=u+P+e+l;break;case"^":e=P.slice(0,m=P.length>>1)+u+e+l+P.slice(m);break;default:e=P+u+e+l}return v(e)}e=n.i(o.default)(e);var r=e.fill,i=e.align,a=e.sign,l=e.symbol,f=e.zero,g=e.width,y=e.comma,_=e.precision,b=e.type,x="$"===l?h[0]:"#"===l&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===l?h[1]:/[%p]/.test(b)?m:"",M=u.default[b],O=!b||/[defgprs%]/.test(b);return _=null==_?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),t.toString=function(){return e+""},t}function f(e,i){var a=t((e=n.i(o.default)(e),e.type="f",e)),u=3*Math.max(-8,Math.min(8,Math.floor(n.i(r.default)(i)/3))),s=Math.pow(10,-u),l=c[8+u/3];return function(e){return a(s*e)+l}}var d=e.grouping&&e.thousands?n.i(i.default)(e.grouping,e.thousands):l.default,h=e.currency,p=e.decimal,v=e.numerals?n.i(a.default)(e.numerals):l.default,m=e.percent||"%";return{format:t,formatPrefix:f}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(247);n.d(t,"geoArea",function(){return r.default});var i=n(513);n.d(t,"geoBounds",function(){return i.default});var a=n(514);n.d(t,"geoCentroid",function(){return a.default});var o=n(248);n.d(t,"geoCircle",function(){return o.default});var u=n(249);n.d(t,"geoClipAntimeridian",function(){return u.default});var s=n(251);n.d(t,"geoClipCircle",function(){return s.default});var l=n(515);n.d(t,"geoClipExtent",function(){return l.default});var c=n(99);n.d(t,"geoClipRectangle",function(){return c.default});var f=n(518);n.d(t,"geoContains",function(){return f.default});var d=n(255);n.d(t,"geoDistance",function(){return d.default});var h=n(519);n.d(t,"geoGraticule",function(){return h.default}),n.d(t,"geoGraticule10",function(){return h.graticule10});var p=n(520);n.d(t,"geoInterpolate",function(){return p.default});var v=n(256);n.d(t,"geoLength",function(){return v.default});var m=n(524);n.d(t,"geoPath",function(){return m.default});var g=n(260);n.d(t,"geoAlbers",function(){return g.default});var y=n(527);n.d(t,"geoAlbersUsa",function(){return y.default});var _=n(528);n.d(t,"geoAzimuthalEqualArea",function(){return _.default}),n.d(t,"geoAzimuthalEqualAreaRaw",function(){return _.azimuthalEqualAreaRaw});var b=n(529);n.d(t,"geoAzimuthalEquidistant",function(){return b.default}),n.d(t,"geoAzimuthalEquidistantRaw",function(){return b.azimuthalEquidistantRaw});var x=n(530);n.d(t,"geoConicConformal",function(){return x.default}),n.d(t,"geoConicConformalRaw",function(){return x.conicConformalRaw});var w=n(159);n.d(t,"geoConicEqualArea",function(){return w.default}),n.d(t,"geoConicEqualAreaRaw",function(){return w.conicEqualAreaRaw});var M=n(531);n.d(t,"geoConicEquidistant",function(){return M.default}),n.d(t,"geoConicEquidistantRaw",function(){return M.conicEquidistantRaw});var O=n(261);n.d(t,"geoEquirectangular",function(){return O.default}),n.d(t,"geoEquirectangularRaw",function(){return O.equirectangularRaw});var P=n(533);n.d(t,"geoGnomonic",function(){return P.default}),n.d(t,"geoGnomonicRaw",function(){return P.gnomonicRaw});var S=n(534);n.d(t,"geoIdentity",function(){return S.default});var k=n(35);n.d(t,"geoProjection",function(){return k.default}),n.d(t,"geoProjectionMutator",function(){return k.projectionMutator});var E=n(161);n.d(t,"geoMercator",function(){return E.default}),n.d(t,"geoMercatorRaw",function(){return E.mercatorRaw});var j=n(535);n.d(t,"geoNaturalEarth1",function(){return j.default}),n.d(t,"geoNaturalEarth1Raw",function(){return j.naturalEarth1Raw});var T=n(536);n.d(t,"geoOrthographic",function(){return T.default}),n.d(t,"geoOrthographicRaw",function(){return T.orthographicRaw});var C=n(538);n.d(t,"geoStereographic",function(){return C.default}),n.d(t,"geoStereographicRaw",function(){return C.stereographicRaw});var A=n(539);n.d(t,"geoTransverseMercator",function(){return A.default}),n.d(t,"geoTransverseMercatorRaw",function(){return A.transverseMercatorRaw});var N=n(100);n.d(t,"geoRotation",function(){return N.default});var R=n(48);n.d(t,"geoStream",function(){return R.default});var D=n(101);n.d(t,"geoTransform",function(){return D.default})},function(e,t,n){"use strict";function r(){y.point=a}function i(){o(u,s)}function a(e,t){y.point=o,u=e,s=t,e*=h.radians,t*=h.radians,l=e,c=n.i(h.cos)(t=t/2+h.quarterPi),f=n.i(h.sin)(t)}function o(e,t){e*=h.radians,t*=h.radians,t=t/2+h.quarterPi;var r=e-l,i=r>=0?1:-1,a=i*r,o=n.i(h.cos)(t),u=n.i(h.sin)(t),s=f*u,d=c*o+s*n.i(h.cos)(a),p=s*i*n.i(h.sin)(a);m.add(n.i(h.atan2)(p,d)),l=e,c=o,f=u}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"areaRingSum",function(){return m}),n.d(t,"areaStream",function(){return y});var u,s,l,c,f,d=n(67),h=n(4),p=n(42),v=n(48),m=n.i(d.default)(),g=n.i(d.default)(),y={point:p.default,lineStart:p.default,lineEnd:p.default,polygonStart:function(){m.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var e=+m;g.add(e<0?h.tau+e:e),this.lineStart=this.lineEnd=this.point=p.default},sphere:function(){g.add(h.tau)}};t.default=function(e){return g.reset(),n.i(v.default)(e,y),2*g}},function(e,t,n){"use strict";function r(e,t,r,o,s,l){if(r){var c=n.i(u.cos)(t),f=n.i(u.sin)(t),d=o*r;null==s?(s=t+o*u.tau,l=t-d/2):(s=i(c,s),l=i(c,l),(o>0?s<l:s>l)&&(s+=o*u.tau));for(var h,p=s;o>0?p>l:p<l;p-=d)h=n.i(a.spherical)([c,-f*n.i(u.cos)(p),-f*n.i(u.sin)(p)]),e.point(h[0],h[1])}}function i(e,t){t=n.i(a.cartesian)(t),t[0]-=e,n.i(a.cartesianNormalizeInPlace)(t);var r=n.i(u.acos)(-t[1]);return((-t[2]<0?-r:r)+u.tau-u.epsilon)%u.tau}Object.defineProperty(t,"__esModule",{value:!0}),t.circleStream=r;var a=n(72),o=n(517),u=n(4),s=n(100);t.default=function(){function e(e,t){i.push(e=a(e,t)),e[0]*=u.degrees,e[1]*=u.degrees}function t(){var e=l.apply(this,arguments),t=c.apply(this,arguments)*u.radians,o=f.apply(this,arguments)*u.radians;return i=[],a=n.i(s.rotateRadians)(-e[0]*u.radians,-e[1]*u.radians,0).invert,r(d,t,o,1),e={type:"Polygon",coordinates:[i]},i=a=null,e}var i,a,l=n.i(o.default)([0,0]),c=n.i(o.default)(90),f=n.i(o.default)(6),d={point:e};return t.center=function(e){return arguments.length?(l="function"==typeof e?e:n.i(o.default)([+e[0],+e[1]]),t):l},t.radius=function(e){return arguments.length?(c="function"==typeof e?e:n.i(o.default)(+e),t):c},t.precision=function(e){return arguments.length?(f="function"==typeof e?e:n.i(o.default)(+e),t):f},t}},function(e,t,n){"use strict";function r(e){var t,r=NaN,a=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,l){var c=s>0?u.pi:-u.pi,f=n.i(u.abs)(s-r);n.i(u.abs)(f-u.pi)<u.epsilon?(e.point(r,a=(a+l)/2>0?u.halfPi:-u.halfPi),e.point(o,a),e.lineEnd(),e.lineStart(),e.point(c,a),e.point(s,a),t=0):o!==c&&f>=u.pi&&(n.i(u.abs)(r-o)<u.epsilon&&(r-=o*u.epsilon),n.i(u.abs)(s-c)<u.epsilon&&(s-=c*u.epsilon),a=i(r,a,s,l),e.point(o,a),e.lineEnd(),e.lineStart(),e.point(c,a),t=0),e.point(r=s,a=l),o=c},lineEnd:function(){e.lineEnd(),r=a=NaN},clean:function(){return 2-t}}}function i(e,t,r,i){var a,o,s=n.i(u.sin)(e-r);return n.i(u.abs)(s)>u.epsilon?n.i(u.atan)((n.i(u.sin)(t)*(o=n.i(u.cos)(i))*n.i(u.sin)(r)-n.i(u.sin)(i)*(a=n.i(u.cos)(t))*n.i(u.sin)(e))/(a*o*s)):(t+i)/2}function a(e,t,r,i){var a;if(null==e)a=r*u.halfPi,i.point(-u.pi,a),i.point(0,a),i.point(u.pi,a),i.point(u.pi,0),i.point(u.pi,-a),i.point(0,-a),i.point(-u.pi,-a),i.point(-u.pi,0),i.point(-u.pi,a);else if(n.i(u.abs)(e[0]-t[0])>u.epsilon){var o=e[0]<t[0]?u.pi:-u.pi;a=r*o/2,i.point(-o,a),i.point(0,a),i.point(o,a)}else i.point(t[0],t[1])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(252),u=n(4);t.default=n.i(o.default)(function(){return!0},r,a,[-u.pi,-u.halfPi])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);t.default=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:r.default,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),i=n(248),a=n(4),o=n(258),u=n(252);t.default=function(e){function t(t,r,a,o){n.i(i.circleStream)(o,e,h,a,t,r)}function s(e,t){return n.i(a.cos)(e)*n.i(a.cos)(t)>d}function l(e){var t,r,i,u,l;return{lineStart:function(){u=i=!1,l=1},point:function(d,h){var m,g=[d,h],y=s(d,h),_=p?y?0:f(d,h):y?f(d+(d<0?a.pi:-a.pi),h):0;if(!t&&(u=i=y)&&e.lineStart(),y!==i&&(!(m=c(t,g))||n.i(o.default)(t,m)||n.i(o.default)(g,m))&&(g[0]+=a.epsilon,g[1]+=a.epsilon,y=s(g[0],g[1])),y!==i)l=0,y?(e.lineStart(),m=c(g,t),e.point(m[0],m[1])):(m=c(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(v&&t&&p^y){var b;_&r||!(b=c(g,t,!0))||(l=0,p?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!y||t&&n.i(o.default)(t,g)||e.point(g[0],g[1]),t=g,i=y,r=_},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return l|(u&&i)<<1}}}function c(e,t,i){var o=n.i(r.cartesian)(e),u=n.i(r.cartesian)(t),s=[1,0,0],l=n.i(r.cartesianCross)(o,u),c=n.i(r.cartesianDot)(l,l),f=l[0],h=c-f*f;if(!h)return!i&&e;var p=d*c/h,v=-d*f/h,m=n.i(r.cartesianCross)(s,l),g=n.i(r.cartesianScale)(s,p),y=n.i(r.cartesianScale)(l,v);n.i(r.cartesianAddInPlace)(g,y);var _=m,b=n.i(r.cartesianDot)(g,_),x=n.i(r.cartesianDot)(_,_),w=b*b-x*(n.i(r.cartesianDot)(g,g)-1);if(!(w<0)){var M=n.i(a.sqrt)(w),O=n.i(r.cartesianScale)(_,(-b-M)/x);if(n.i(r.cartesianAddInPlace)(O,g),O=n.i(r.spherical)(O),!i)return O;var P,S=e[0],k=t[0],E=e[1],j=t[1];k<S&&(P=S,S=k,k=P);var T=k-S,C=n.i(a.abs)(T-a.pi)<a.epsilon,A=C||T<a.epsilon;if(!C&&j<E&&(P=E,E=j,j=P),A?C?E+j>0^O[1]<(n.i(a.abs)(O[0]-S)<a.epsilon?E:j):E<=O[1]&&O[1]<=j:T>a.pi^(S<=O[0]&&O[0]<=k)){var N=n.i(r.cartesianScale)(_,(-b+M)/x);return n.i(r.cartesianAddInPlace)(N,g),[O,n.i(r.spherical)(N)]}}}function f(t,n){var r=p?e:a.pi-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var d=n.i(a.cos)(e),h=6*a.radians,p=d>0,v=n.i(a.abs)(d)>a.epsilon;return n.i(u.default)(s,l,t,p?[0,-e]:[-a.pi,e-a.pi])}},function(e,t,n){"use strict";function r(e){return e.length>1}function i(e,t){return((e=e.x)[0]<0?e[1]-u.halfPi-u.epsilon:u.halfPi-e[1])-((t=t.x)[0]<0?t[1]-u.halfPi-u.epsilon:u.halfPi-t[1])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(250),o=n(253),u=n(4),s=n(259),l=n(8);t.default=function(e,t,u,c){return function(f){function d(t,n){e(t,n)&&f.point(t,n)}function h(e,t){w.point(e,t)}function p(){S.point=h,w.lineStart()}function v(){S.point=d,w.lineEnd()}function m(e,t){x.push([e,t]),O.point(e,t)}function g(){O.lineStart(),x=[]}function y(){m(x[0][0],x[0][1]),O.lineEnd();var e,t,n,i,a=O.clean(),o=M.result(),u=o.length;if(x.pop(),_.push(x),x=null,u)if(1&a){if(n=o[0],(t=n.length-1)>0){for(P||(f.polygonStart(),P=!0),f.lineStart(),e=0;e<t;++e)f.point((i=n[e])[0],i[1]);f.lineEnd()}}else u>1&&2&a&&o.push(o.pop().concat(o.shift())),b.push(o.filter(r))}var _,b,x,w=t(f),M=n.i(a.default)(),O=t(M),P=!1,S={point:d,lineStart:p,lineEnd:v,polygonStart:function(){S.point=m,S.lineStart=g,S.lineEnd=y,b=[],_=[]},polygonEnd:function(){S.point=d,S.lineStart=p,S.lineEnd=v,b=n.i(l.merge)(b);var e=n.i(s.default)(_,c);b.length?(P||(f.polygonStart(),P=!0),n.i(o.default)(b,i,e,u,f)):e&&(P||(f.polygonStart(),P=!0),f.lineStart(),u(null,null,1,f),f.lineEnd()),P&&(f.polygonEnd(),P=!1),b=_=null},sphere:function(){f.polygonStart(),f.lineStart(),u(null,null,1,f),f.lineEnd(),f.polygonEnd()}};return S}}},function(e,t,n){"use strict";function r(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(258);t.default=function(e,t,o,u,s){var l,c,f=[],d=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,i,o=e[0],u=e[t];if(n.i(a.default)(o,u)){for(s.lineStart(),l=0;l<t;++l)s.point((o=e[l])[0],o[1]);return void s.lineEnd()}f.push(i=new r(o,e,null,!0)),d.push(i.o=new r(o,null,i,!1)),f.push(i=new r(u,e,null,!1)),d.push(i.o=new r(u,null,i,!0))}}),f.length){for(d.sort(t),i(f),i(d),l=0,c=d.length;l<c;++l)d[l].e=o=!o;for(var h,p,v=f[0];;){for(var m=v,g=!0;m.v;)if((m=m.n)===v)return;h=m.z,s.lineStart();do{if(m.v=m.o.v=!0,m.e){if(g)for(l=0,c=h.length;l<c;++l)s.point((p=h[l])[0],p[1]);else u(m.x,m.n.x,1,s);m=m.n}else{if(g)for(h=m.p.z,l=h.length-1;l>=0;--l)s.point((p=h[l])[0],p[1]);else u(m.x,m.p.x,-1,s);m=m.p}m=m.o,h=m.z,g=!g}while(!m.v);s.lineEnd()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256),i=[null,null],a={type:"LineString",coordinates:i};t.default=function(e,t){return i[0]=e,i[1]=t,n.i(r.default)(a)}},function(e,t,n){"use strict";function r(){v.point=a,v.lineEnd=i}function i(){v.point=v.lineEnd=d.default}function a(e,t){e*=f.radians,t*=f.radians,u=e,s=n.i(f.sin)(t),l=n.i(f.cos)(t),v.point=o}function o(e,t){e*=f.radians,t*=f.radians;var r=n.i(f.sin)(t),i=n.i(f.cos)(t),a=n.i(f.abs)(e-u),o=n.i(f.cos)(a),c=n.i(f.sin)(a),d=i*c,h=l*r-s*i*o,v=s*r+l*i*o;p.add(n.i(f.atan2)(n.i(f.sqrt)(d*d+h*h),v)),u=e,s=r,l=i}Object.defineProperty(t,"__esModule",{value:!0});var u,s,l,c=n(67),f=n(4),d=n(42),h=n(48),p=n.i(c.default)(),v={sphere:d.default,point:d.default,lineStart:r,lineEnd:d.default,polygonStart:d.default,polygonEnd:d.default};t.default=function(e){return p.reset(),n.i(h.default)(e,v),+p}},function(e,t,n){"use strict";function r(e,t){e<a&&(a=e),e>u&&(u=e),t<o&&(o=t),t>s&&(s=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=1/0,o=a,u=-a,s=u,l={point:r,lineStart:i.default,lineEnd:i.default,polygonStart:i.default,polygonEnd:i.default,result:function(){var e=[[a,o],[u,s]];return u=s=-(o=a=1/0),e}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e,t){return n.i(r.abs)(e[0]-t[0])<r.epsilon&&n.i(r.abs)(e[1]-t[1])<r.epsilon}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),i=n(72),a=n(4),o=n.i(r.default)();t.default=function(e,t){var r=t[0],u=t[1],s=[n.i(a.sin)(r),-n.i(a.cos)(r),0],l=0,c=0;o.reset();for(var f=0,d=e.length;f<d;++f)if(p=(h=e[f]).length)for(var h,p,v=h[p-1],m=v[0],g=v[1]/2+a.quarterPi,y=n.i(a.sin)(g),_=n.i(a.cos)(g),b=0;b<p;++b,m=w,y=O,_=P,v=x){var x=h[b],w=x[0],M=x[1]/2+a.quarterPi,O=n.i(a.sin)(M),P=n.i(a.cos)(M),S=w-m,k=S>=0?1:-1,E=k*S,j=E>a.pi,T=y*O;if(o.add(n.i(a.atan2)(T*k*n.i(a.sin)(E),_*P+T*n.i(a.cos)(E))),l+=j?S+k*a.tau:S,j^m>=r^w>=r){var C=n.i(i.cartesianCross)(n.i(i.cartesian)(v),n.i(i.cartesian)(x));n.i(i.cartesianNormalizeInPlace)(C);var A=n.i(i.cartesianCross)(s,C);n.i(i.cartesianNormalizeInPlace)(A);var N=(j^S>=0?-1:1)*n.i(a.asin)(A[2]);(u>N||u===N&&(C[0]||C[1]))&&(c+=j^S>=0?1:-1)}}return(l<-a.epsilon||l<a.epsilon&&o<-a.epsilon)^1&c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159);t.default=function(){return n.i(r.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(e,t,n){"use strict";function r(e,t){return[e,t]}Object.defineProperty(t,"__esModule",{value:!0}),t.equirectangularRaw=r;var i=n(35);r.invert=r,t.default=function(){return n.i(i.default)(r).scale(152.63)}},function(e,t,n){"use strict";function r(){return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.constantZero=r,t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t){var n,r;if(o(t,e))return[t];for(n=0;n<e.length;++n)if(i(t,e[n])&&o(l(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(i(l(e[n],e[r]),t)&&i(l(e[n],t),e[r])&&i(l(e[r],t),e[n])&&o(c(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function i(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function a(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function o(e,t){for(var n=0;n<t.length;++n)if(!a(e,t[n]))return!1;return!0}function u(e){switch(e.length){case 1:return s(e[0]);case 2:return l(e[0],e[1]);case 3:return c(e[0],e[1],e[2])}}function s(e){return{x:e.x,y:e.y,r:e.r}}function l(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,u=t.r,s=a-n,l=o-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+a+s/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+u)/2}}function c(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,u=t.y,s=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-u,v=i-c,m=s-a,g=f-a,y=r*r+i*i-a*a,_=y-o*o-u*u+s*s,b=y-l*l-c*c+f*f,x=h*p-d*v,w=(p*b-v*_)/(2*x)-r,M=(v*m-p*g)/x,O=(h*_-d*b)/(2*x)-i,P=(d*g-h*m)/x,S=M*M+P*P-1,k=2*(a+w*M+O*P),E=w*w+O*O-a*a,j=-(S?(k+Math.sqrt(k*k-4*S*E))/(2*S):E/k);return{x:r+w+M*j,y:i+O+P*j,r:j}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(540);t.default=function(e){for(var t,i,o=0,s=(e=n.i(f.shuffle)(f.slice.call(e))).length,l=[];o<s;)t=e[o],i&&a(i,t)?++o:(i=u(l=r(l,t)),o=0);return i}},function(e,t,n){"use strict";function r(e,t,n){var r=e.x,i=e.y,a=t.r+n.r,o=e.r+n.r,u=t.x-r,s=t.y-i,l=u*u+s*s;if(l){var c=.5+((o*=o)-(a*=a))/(2*l),f=Math.sqrt(Math.max(0,2*a*(o+l)-(o-=l)*o-a*a))/(2*l);n.x=r+c*u+f*s,n.y=i+c*s-f*u}else n.x=r+o,n.y=i}function i(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function a(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function o(e){this._=e,this.next=null,this.previous=null}function u(e){if(!(c=e.length))return 0;var t,u,l,c,f,d,h,p,v,m,g;if(t=e[0],t.x=0,t.y=0,!(c>1))return t.r;if(u=e[1],t.x=-u.r,u.x=t.r,u.y=0,!(c>2))return t.r+u.r;r(u,t,l=e[2]),t=new o(t),u=new o(u),l=new o(l),t.next=l.previous=u,u.next=t.previous=l,l.next=u.previous=t;e:for(h=3;h<c;++h){r(t._,u._,l=e[h]),l=new o(l),p=u.next,v=t.previous,m=u._.r,g=t._.r;do{if(m<=g){if(i(p._,l._)){u=p,t.next=u,u.previous=t,--h;continue e}m+=p._.r,p=p.next}else{if(i(v._,l._)){t=v,t.next=u,u.previous=t,--h;continue e}g+=v._.r,v=v.previous}}while(p!==v.next);for(l.previous=t,l.next=u,t.next=u.previous=u=l,f=a(t);(l=l.next)!==u;)(d=a(l))<f&&(t=l,f=d);u=t.next}for(t=[u._],l=u;(l=l.next)!==u;)t.push(l._);for(l=n.i(s.default)(t),h=0;h<c;++h)t=e[h],t.x-=l.x,t.y-=l.y;return l.r}Object.defineProperty(t,"__esModule",{value:!0}),t.packEnclose=u;var s=n(263);t.default=function(e){return u(e),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(166);t.default=function(e,t){var i,a=t?t.length:0,o=e?Math.min(a,e.length):0,u=new Array(o),s=new Array(a);for(i=0;i<o;++i)u[i]=n.i(r.default)(e[i],t[i]);for(;i<a;++i)s[i]=t[i];return function(e){for(i=0;i<o;++i)s[i]=u[i](e);return s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165);t.default=function(e){var t=e.length;return function(i){var a=Math.floor(((i%=1)<0?++i:i)*t),o=e[(a+t-1)%t],u=e[a%t],s=e[(a+1)%t],l=e[(a+2)%t];return n.i(r.basis)((i-a/t)*t,o,u,s,l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(166);t.default=function(e,t){var i,a={},o={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(i in t)i in e?a[i]=n.i(r.default)(e[i],t[i]):o[i]=t[i];return function(e){for(i in a)o[i]=a[i](e);return o}}},function(e,t,n){"use strict";function r(e){return function(t){var r,a,o=t.length,u=new Array(o),s=new Array(o),l=new Array(o);for(r=0;r<o;++r)a=n.i(i.rgb)(t[r]),u[r]=a.r||0,s[r]=a.g||0,l[r]=a.b||0;return u=e(u),s=e(s),l=e(l),a.opacity=1,function(e){return a.r=u(e),a.g=s(e),a.b=l(e),a+""}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"rgbBasis",function(){return s}),n.d(t,"rgbBasisClosed",function(){return l});var i=n(34),a=n(165),o=n(267),u=n(75);t.default=function e(t){function r(e,t){var r=a((e=n.i(i.rgb)(e)).r,(t=n.i(i.rgb)(t)).r),o=a(e.g,t.g),s=a(e.b,t.b),l=n.i(u.default)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=s(t),e.opacity=l(t),e+""}}var a=n.i(u.gamma)(t);return r.gamma=e,r}(1);var s=r(a.default),l=r(o.default)},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(103),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u=new RegExp(o.source,"g");t.default=function(e,t){var s,l,c,f=o.lastIndex=u.lastIndex=0,d=-1,h=[],p=[];for(e+="",t+="";(s=o.exec(e))&&(l=u.exec(t));)(c=l.index)>f&&(c=t.slice(f,c),h[d]?h[d]+=c:h[++d]=c),(s=s[0])===(l=l[0])?h[d]?h[d]+=l:h[++d]=l:(h[++d]=null,p.push({i:d,x:n.i(a.default)(s,l)})),f=u.lastIndex;return f<t.length&&(c=t.slice(f),h[d]?h[d]+=c:h[++d]=c),h.length<2?p[0]?i(p[0].x):r(t):(t=p.length,function(e){for(var n,r=0;r<t;++r)h[(n=p[r]).i]=n.x(e);return h.join("")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(577);n.d(t,"quadtree",function(){return r.default})},function(e,t,n){"use strict";function r(e,t){return function(n){return e(n.responseText,t)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(168);t.default=function(e,t){return function(a,o,u){arguments.length<3&&(u=o,o=null);var s=n.i(i.default)(a).mimeType(e);return s.row=function(e){return arguments.length?s.response(r(t,o=e)):o},s.row(o),u?s.get(u):s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=e.slice();var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return+e}},function(e,t,n){"use strict";function r(e){function t(t){var n=t+"",r=u.get(n);if(!r){if(l!==o)return l;u.set(n,r=s.push(t))}return e[(r-1)%e.length]}var u=n.i(i.map)(),s=[],l=o;return e=null==e?[]:a.slice.call(e),t.domain=function(e){if(!arguments.length)return s.slice();s=[],u=n.i(i.map)();for(var r,a,o=-1,l=e.length;++o<l;)u.has(a=(r=e[o])+"")||u.set(a,s.push(r));return t},t.range=function(n){return arguments.length?(e=a.slice.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(l=e,t):l},t.copy=function(){return r().domain(s).range(e).unknown(l)},t}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"implicit",function(){return o}),t.default=r;var i=n(71),a=n(50),o={name:"implicit"}},function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function a(e,t,s,l,b,x,w,M,O){function P(n){return(w(n)<n?T:x(n)<n?C:b(n)<n?A:l(n)<n?N:t(n)<n?s(n)<n?R:D:e(n)<n?L:I)(n)}function S(t,r,i,a){if(null==t&&(t=10),"number"==typeof t){var u=Math.abs(i-r)/t,s=n.i(o.bisector)(function(e){return e[2]}).right(z,u);s===z.length?(a=n.i(o.tickStep)(r/_,i/_,t),t=e):s?(s=z[u/z[s-1][2]<z[s][2]/u?s-1:s],a=s[1],t=s[0]):(a=Math.max(n.i(o.tickStep)(r,i,t),1),t=M)}return null==a?t:t.every(a)}var k=n.i(f.default)(f.deinterpolateLinear,u.interpolateNumber),E=k.invert,j=k.domain,T=O(".%L"),C=O(":%S"),A=O("%I:%M"),N=O("%I %p"),R=O("%a %d"),D=O("%b %d"),L=O("%B"),I=O("%Y"),z=[[w,1,h],[w,5,5*h],[w,15,15*h],[w,30,30*h],[x,1,p],[x,5,5*p],[x,15,15*p],[x,30,30*p],[b,1,v],[b,3,3*v],[b,6,6*v],[b,12,12*v],[l,1,m],[l,2,2*m],[s,1,g],[t,1,y],[t,3,3*y],[e,1,_]];return k.invert=function(e){return new Date(E(e))},k.domain=function(e){return arguments.length?j(c.map.call(e,i)):j().map(r)},k.ticks=function(e,t){var n,r=j(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=S(e,i,a,t),n=n?n.range(i,a+1):[],o?n.reverse():n},k.tickFormat=function(e,t){return null==t?P:O(t)},k.nice=function(e,t){var r=j();return(e=S(e,r[0],r[r.length-1],t))?j(n.i(d.default)(r,e)):k},k.copy=function(){return n.i(f.copy)(k,a(e,t,s,l,b,x,w,M,O))},k}Object.defineProperty(t,"__esModule",{value:!0}),t.calendar=a;var o=n(8),u=n(27),s=n(53),l=n(52),c=n(50),f=n(105),d=n(275),h=1e3,p=60*h,v=60*p,m=24*v,g=7*m,y=30*m,_=365*m;t.default=function(){return a(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,l.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var a=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(e){return function(){return a.call(this,e)}}}}t.default=r},function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Object.defineProperty(t,"__esModule",{value:!0}),t.EnterNode=r;var i=n(281),a=n(29);t.default=function(){return new a.Selection(this._enter||this._groups.map(i.default),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function o(e,t){return e.style.getPropertyValue(t)||n.i(u.default)(e).getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.styleValue=o;var u=n(176);t.default=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"==typeof t?a:i)(e,t,null==n?"":n)):o(this.node(),e)}},function(e,t,n){"use strict";function r(){return[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=n(51),a=n(109),o=n(179),u=n(181);t.default=function(){function e(e){var t,i,a,o,u,m=e.length,g=!1,y=new Array(m),_=new Array(m);for(null==h&&(v=p(u=n.i(r.path)())),t=0;t<=m;++t){if(!(t<m&&d(o=e[t],t,e))===g)if(g=!g)i=t,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),a=t-1;a>=i;--a)v.point(y[a],_[a]);v.lineEnd(),v.areaEnd()}g&&(y[t]=+s(o,t,e),_[t]=+c(o,t,e),v.point(l?+l(o,t,e):y[t],f?+f(o,t,e):_[t]))}if(u)return v=null,u+""||null}function t(){return n.i(o.default)().defined(d).curve(p).context(h)}var s=u.x,l=null,c=n.i(i.default)(0),f=u.y,d=n.i(i.default)(!0),h=null,p=a.default,v=null;return e.x=function(t){return arguments.length?(s="function"==typeof t?t:n.i(i.default)(+t),l=null,e):s},e.x0=function(t){return arguments.length?(s="function"==typeof t?t:n.i(i.default)(+t),e):s},e.x1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:n.i(i.default)(+t),e):l},e.y=function(t){return arguments.length?(c="function"==typeof t?t:n.i(i.default)(+t),f=null,e):c},e.y0=function(t){return arguments.length?(c="function"==typeof t?t:n.i(i.default)(+t),e):c},e.y1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:n.i(i.default)(+t),e):f},e.lineX0=e.lineY0=function(){return t().x(s).y(c)},e.lineY1=function(){return t().x(s).y(f)},e.lineX1=function(){return t().x(l).y(c)},e.defined=function(t){return arguments.length?(d="function"==typeof t?t:n.i(i.default)(!!t),e):d},e.curve=function(t){return arguments.length?(p=t,null!=h&&(v=p(h)),e):p},e.context=function(t){return arguments.length?(null==t?h=v=null:v=p(h=t),e):h},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"slice",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";function r(e,t){this._context=e,this._k=(1-t)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.CardinalClosed=r;var i=n(110),a=n(108);r.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:n.i(a.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._k=(1-t)/6}Object.defineProperty(t,"__esModule",{value:!0}),t.CardinalOpen=r;var i=n(108);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:n.i(i.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";function r(e){this._curve=e}function i(e){function t(t){return new r(e(t))}return t._curve=e,t}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"curveRadialLinear",function(){return o}),t.default=i;var a=n(109),o=i(a.default);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},function(e,t,n){"use strict";function r(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(n.i(i.default)(e)):t()._curve},e}Object.defineProperty(t,"__esModule",{value:!0}),t.lineRadial=r;var i=n(288),a=n(179);t.default=function(){return r(n.i(a.default)().curve(i.curveRadialLinear))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78);t.default={draw:function(e,t){var n=Math.sqrt(t/r.pi);e.moveTo(n,0),e.arc(0,0,n,0,r.tau)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.sqrt(1/3),i=2*r;t.default={draw:function(e,t){var n=Math.sqrt(t/i),a=n*r;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=Math.sin(r.pi/10)/Math.sin(7*r.pi/10),a=Math.sin(r.tau/10)*i,o=-Math.cos(r.tau/10)*i;t.default={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=a*n,u=o*n;e.moveTo(0,-n),e.lineTo(i,u);for(var s=1;s<5;++s){var l=r.tau*s/5,c=Math.cos(l),f=Math.sin(l);e.lineTo(f*n,-c*n),e.lineTo(c*i-f*u,f*i+c*u)}e.closePath()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.sqrt(3);t.default={draw:function(e,t){var n=-Math.sqrt(t/(3*r));e.moveTo(0,2*n),e.lineTo(-r*n,-n),e.lineTo(r*n,-n),e.closePath()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=-.5,i=Math.sqrt(3)/2,a=1/Math.sqrt(12),o=3*(a/2+1);t.default={draw:function(e,t){var n=Math.sqrt(t/o),u=n/2,s=n*a,l=u,c=n*a+n,f=-l,d=c;e.moveTo(u,s),e.lineTo(l,c),e.lineTo(f,d),e.lineTo(r*u-i*s,i*u+r*s),e.lineTo(r*l-i*c,i*l+r*c),e.lineTo(r*f-i*d,i*f+r*d),e.lineTo(r*u+i*s,r*s-i*u),e.lineTo(r*l+i*c,r*c-i*l),e.lineTo(r*f+i*d,r*d-i*f),e.closePath()}}},function(e,t,n){"use strict";function r(e){return e.toISOString()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isoSpecifier",function(){return a});var i=n(182),a="%Y-%m-%dT%H:%M:%S.%LZ",o=Date.prototype.toISOString?r:n.i(i.utcFormat)(a);t.default=o},function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){function t(e,t){return function(n){var r,i,a,o=[],u=-1,s=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(i=pe[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function o(e,t){return function(r){var o,s,l=a(1900),c=u(l,e,r+="",0);if(c!=r.length)return null;if("Q"in l)return new Date(l.Q);if("p"in l&&(l.H=l.H%12+12*l.p),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(o=i(a(l.y)),s=o.getUTCDay(),o=s>4||0===s?he.utcMonday.ceil(o):n.i(he.utcMonday)(o),o=he.utcDay.offset(o,7*(l.V-1)),l.y=o.getUTCFullYear(),l.m=o.getUTCMonth(),l.d=o.getUTCDate()+(l.w+6)%7):(o=t(a(l.y)),s=o.getDay(),o=s>4||0===s?he.timeMonday.ceil(o):n.i(he.timeMonday)(o),o=he.timeDay.offset(o,7*(l.V-1)),l.y=o.getFullYear(),l.m=o.getMonth(),l.d=o.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),s="Z"in l?i(a(l.y)).getUTCDay():t(a(l.y)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(s+5)%7:l.w+7*l.U-(s+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,i(l)):t(l)}}function u(e,t,n,r){for(var i,a,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Ke[i in pe?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=qe.exec(t.slice(n));return r?(e.p=Ue[r[0].toLowerCase()],n+r[0].length):-1}function ve(e,t,n){var r=He.exec(t.slice(n));return r?(e.w=Ye[r[0].toLowerCase()],n+r[0].length):-1}function me(e,t,n){var r=Be.exec(t.slice(n));return r?(e.w=Ve[r[0].toLowerCase()],n+r[0].length):-1}function ge(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.m=Xe[r[0].toLowerCase()],n+r[0].length):-1}function ye(e,t,n){var r=We.exec(t.slice(n));return r?(e.m=$e[r[0].toLowerCase()],n+r[0].length):-1}function _e(e,t,n){return u(e,Ae,t,n)}function be(e,t,n){return u(e,Ne,t,n)}function xe(e,t,n){return u(e,Re,t,n)}function we(e){return Ie[e.getDay()]}function Me(e){return Le[e.getDay()]}function Oe(e){return Fe[e.getMonth()]}function Pe(e){return ze[e.getMonth()]}function Se(e){return De[+(e.getHours()>=12)]}function ke(e){return Ie[e.getUTCDay()]}function Ee(e){return Le[e.getUTCDay()]}function je(e){return Fe[e.getUTCMonth()]}function Te(e){return ze[e.getUTCMonth()]}function Ce(e){return De[+(e.getUTCHours()>=12)]}var Ae=e.dateTime,Ne=e.date,Re=e.time,De=e.periods,Le=e.days,Ie=e.shortDays,ze=e.months,Fe=e.shortMonths,qe=l(De),Ue=c(De),Be=l(Le),Ve=c(Le),He=l(Ie),Ye=c(Ie),We=l(ze),$e=c(ze),Ge=l(Fe),Xe=c(Fe),Je={a:we,A:Me,b:Oe,B:Pe,c:null,d:T,e:T,f:D,H:C,I:A,j:N,L:R,m:L,M:I,p:Se,Q:fe,s:de,S:z,u:F,U:q,V:U,w:B,W:V,x:null,X:null,y:H,Y:Y,Z:W,"%":ce},Qe={a:ke,A:Ee,b:je,B:Te,c:null,d:$,e:$,f:K,H:G,I:X,j:J,L:Q,m:Z,M:ee,p:Ce,Q:fe,s:de,S:te,u:ne,U:re,V:ie,w:ae,W:oe,x:null,X:null,y:ue,Y:se,Z:le,"%":ce},Ke={a:ve,A:me,b:ge,B:ye,c:_e,d:b,e:b,f:S,H:w,I:w,j:x,L:P,m:_,M:M,p:s,Q:E,s:j,S:O,u:d,U:h,V:p,w:f,W:v,x:be,X:xe,y:g,Y:m,Z:y,"%":k};return Je.x=t(Ne,Je),Je.X=t(Re,Je),Je.c=t(Ae,Je),Qe.x=t(Ne,Qe),Qe.X=t(Re,Qe),Qe.c=t(Ae,Qe),{format:function(e){var n=t(e+="",Je);return n.toString=function(){return e},n},parse:function(e){var t=o(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Qe);return n.toString=function(){return e},n},utcParse:function(e){var t=o(e,i);return t.toString=function(){return e},t}}}function u(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function s(e){return e.replace(ge,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(s).join("|")+")","i")}function c(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function f(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function b(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function w(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function M(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function O(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function P(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k(e,t,n){var r=me.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function E(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function j(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function T(e,t){return u(e.getDate(),t,2)}function C(e,t){return u(e.getHours(),t,2)}function A(e,t){return u(e.getHours()%12||12,t,2)}function N(e,t){return u(1+he.timeDay.count(n.i(he.timeYear)(e),e),t,3)}function R(e,t){return u(e.getMilliseconds(),t,3)}function D(e,t){return R(e,t)+"000"}function L(e,t){return u(e.getMonth()+1,t,2)}function I(e,t){return u(e.getMinutes(),t,2)}function z(e,t){return u(e.getSeconds(),t,2)}function F(e){var t=e.getDay();return 0===t?7:t}function q(e,t){return u(he.timeSunday.count(n.i(he.timeYear)(e),e),t,2)}function U(e,t){var r=e.getDay();return e=r>=4||0===r?n.i(he.timeThursday)(e):he.timeThursday.ceil(e),u(he.timeThursday.count(n.i(he.timeYear)(e),e)+(4===n.i(he.timeYear)(e).getDay()),t,2)}function B(e){return e.getDay()}function V(e,t){return u(he.timeMonday.count(n.i(he.timeYear)(e),e),t,2)}function H(e,t){return u(e.getFullYear()%100,t,2)}function Y(e,t){return u(e.getFullYear()%1e4,t,4)}function W(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+u(t/60|0,"0",2)+u(t%60,"0",2)}function $(e,t){return u(e.getUTCDate(),t,2)}function G(e,t){return u(e.getUTCHours(),t,2)}function X(e,t){return u(e.getUTCHours()%12||12,t,2)}function J(e,t){return u(1+he.utcDay.count(n.i(he.utcYear)(e),e),t,3)}function Q(e,t){return u(e.getUTCMilliseconds(),t,3)}function K(e,t){return Q(e,t)+"000"}function Z(e,t){return u(e.getUTCMonth()+1,t,2)}function ee(e,t){return u(e.getUTCMinutes(),t,2)}function te(e,t){return u(e.getUTCSeconds(),t,2)}function ne(e){var t=e.getUTCDay();return 0===t?7:t}function re(e,t){return u(he.utcSunday.count(n.i(he.utcYear)(e),e),t,2)}function ie(e,t){var r=e.getUTCDay();return e=r>=4||0===r?n.i(he.utcThursday)(e):he.utcThursday.ceil(e),u(he.utcThursday.count(n.i(he.utcYear)(e),e)+(4===n.i(he.utcYear)(e).getUTCDay()),t,2)}function ae(e){return e.getUTCDay()}function oe(e,t){return u(he.utcMonday.count(n.i(he.utcYear)(e),e),t,2)}function ue(e,t){return u(e.getUTCFullYear()%100,t,2)}function se(e,t){return u(e.getUTCFullYear()%1e4,t,4)}function le(){return"+0000"}function ce(){return"%"}function fe(e){return+e}function de(e){return Math.floor(+e/1e3)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var he=n(53),pe={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,me=/^%/,ge=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.default=function(e,t){var n,i,a,o=e.__transition,u=!0;if(o){t=null==t?null:t+"";for(a in o)(n=o[a]).name===t?(i=n.state>r.STARTING&&n.state<r.ENDING,n.state=r.ENDED,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[a]):u=!1;u&&delete e.__transition}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(27);t.default=function(e,t){var a;return("number"==typeof t?i.interpolateNumber:t instanceof r.color?i.interpolateRgb:(a=n.i(r.color)(t))?(t=a,i.interpolateRgb):i.interpolateString)(e,t)}},function(e,t,n){"use strict";function r(e){return c.cells[e.index]={site:e,halfedges:[]}}function i(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function a(e,t){return t[+(t.left!==e.site)]}function o(e,t){return t[+(t.left===e.site)]}function u(){for(var e,t,n,r,a=0,o=c.cells.length;a<o;++a)if((e=c.cells[a])&&(r=(t=e.halfedges).length)){var u=new Array(r),s=new Array(r);for(n=0;n<r;++n)u[n]=n,s[n]=i(e,c.edges[t[n]]);for(u.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[u[n]];for(n=0;n<r;++n)t[n]=s[n]}}function s(e,t,r,i){var u,s,f,d,h,p,v,m,g,y,_,b,x=c.cells.length,w=!0;for(u=0;u<x;++u)if(s=c.cells[u]){for(f=s.site,h=s.halfedges,d=h.length;d--;)c.edges[h[d]]||h.splice(d,1);for(d=0,p=h.length;d<p;)y=o(s,c.edges[h[d]]),_=y[0],b=y[1],v=a(s,c.edges[h[++d%p]]),m=v[0],g=v[1],(Math.abs(_-m)>c.epsilon||Math.abs(b-g)>c.epsilon)&&(h.splice(d,0,c.edges.push(n.i(l.createBorderEdge)(f,y,Math.abs(_-e)<c.epsilon&&i-b>c.epsilon?[e,Math.abs(m-e)<c.epsilon?g:i]:Math.abs(b-i)<c.epsilon&&r-_>c.epsilon?[Math.abs(g-i)<c.epsilon?m:r,i]:Math.abs(_-r)<c.epsilon&&b-t>c.epsilon?[r,Math.abs(m-r)<c.epsilon?g:t]:Math.abs(b-t)<c.epsilon&&_-e>c.epsilon?[Math.abs(g-t)<c.epsilon?m:e,t]:null))-1),++p);p&&(w=!1)}if(w){var M,O,P,S=1/0;for(u=0,w=null;u<x;++u)(s=c.cells[u])&&(f=s.site,M=f[0]-e,O=f[1]-t,(P=M*M+O*O)<S&&(S=P,w=s));if(w){var k=[e,t],E=[e,i],j=[r,i],T=[r,t];w.halfedges.push(c.edges.push(n.i(l.createBorderEdge)(f=w.site,k,E))-1,c.edges.push(n.i(l.createBorderEdge)(f,E,j))-1,c.edges.push(n.i(l.createBorderEdge)(f,j,T))-1,c.edges.push(n.i(l.createBorderEdge)(f,T,k))-1)}}for(u=0;u<x;++u)(s=c.cells[u])&&(s.halfedges.length||delete c.cells[u])}Object.defineProperty(t,"__esModule",{value:!0}),t.createCell=r,t.cellHalfedgeStart=a,t.cellHalfedgeEnd=o,t.sortCellHalfedges=u,t.clipCells=s;var l=n(185),c=n(81)},function(e,t,n){"use strict";function r(){n.i(u.RedBlackNode)(this),this.x=this.y=this.arc=this.site=this.cy=null}function i(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,a=e.site,u=n.site;if(i!==u){var c=a[0],f=a[1],d=i[0]-c,h=i[1]-f,p=u[0]-c,v=u[1]-f,m=2*(d*v-h*p);if(!(m>=-s.epsilon2)){var g=d*d+h*h,y=p*p+v*v,_=(v*g-h*y)/m,b=(d*y-p*g)/m,x=l.pop()||new r;x.arc=e,x.site=a,x.x=_+c,x.y=(x.cy=b+f)+Math.sqrt(_*_+b*b),e.circle=x;for(var w=null,M=s.circles._;M;)if(x.y<M.y||x.y===M.y&&x.x<=M.x){if(!M.L){w=M.P;break}M=M.L}else{if(!M.R){w=M;break}M=M.R}s.circles.insert(w,x),w||(o=x)}}}}function a(e){var t=e.circle;t&&(t.P||(o=t.N),s.circles.remove(t),l.push(t),n.i(u.RedBlackNode)(t),e.circle=null)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"firstCircle",function(){return o}),t.attachCircle=i,t.detachCircle=a;var o,u=n(186),s=n(81),l=[]},function(e,t,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(e){if(a.isArray(e))return e;if(null==e)return[];var t,n,r=[];for(t in e)n=a.array(e[t]),r.push({name:t,ops:n});return r}var a=n(11),o=n(749),u=n(747),s=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},l.key=function(e){return null==e?this._key:(this._key=a.$(e),this)},l.groupby=function(e){return this._dims=a.array(e).map(function(e,t){if(null==(e=a.isString(e)?{name:e,get:a.$(e)}:a.isFunction(e)?{name:a.name(e)||e.name||"_"+t,get:e}:e.name&&a.isFunction(e.get)?e:null))throw"Invalid groupby argument: "+e;return e}),this.clear()},l.summarize=function(e){e=i(e),this._count=!0;var t,n,r,u,s,l,c,f=this._aggr=[];for(r=0;r<e.length;++r){for(u=0,t=[],n=e[r];u<n.ops.length;++u)s=n.ops[u],"count"!==s&&(this._count=!1),l=n.as&&n.as[u]||s+("*"===n.name?"":"_"+n.name),t.push(o[s](l));c=n.get&&a.$(n.get)||("*"===n.name?a.identity:a.$(n.name)),f.push({name:n.name,measures:o.create(t,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(e,t,n){e[t]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(e){var t,n=this._dims,r=n.length,i=String(n[0].get(e));for(t=1;t<r;++t)i+="|"+n[t].get(e);return i},l._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e,t))},l._newcell=function(e,t){var n,r={num:0,tuple:this._newtuple(e,t),flag:s.ADD_CELL,aggs:{}},i=this._aggr;for(n=0;n<i.length;++n)r.aggs[i[n].name]=new i[n].measures(r,r.tuple);return r.collect&&(r.data=new u(this._key)),r},l._newtuple=function(e){var t,n,r=this._dims,i={};for(t=0,n=r.length;t<n;++t)i[r[t].name]=r[t].get(e);return this._ingest(i)},l._ingest=a.identity,l._add=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(e),t=0;t<r.length;++t)n.aggs[r[t].name].add(e);n.flag|=s.MOD_CELL,this._on_add&&this._on_add(e,n)},l._rem=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(e),t=0;t<r.length;++t)n.aggs[r[t].name].rem(e);n.flag|=s.MOD_CELL,this._on_rem&&this._on_rem(e,n)},l._mod=function(e,t){var n,r=this._cell(t),i=this._cell(e),o=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(t),i.collect&&i.data.add(e)):r.collect&&!a.isObject(e)&&(r.data.rem(t),r.data.add(e)),n=0;n<o.length;++n)r.aggs[o[n].name].rem(t),i.aggs[o[n].name].add(e);r.flag|=s.MOD_CELL,i.flag|=s.MOD_CELL,this._on_mod&&this._on_mod(e,t,r,i)},l._markMod=function(e){this._cell(e).flag|=s.MOD_CELL},l.result=function(){var e,t,n,r=[],i=this._aggr;for(n in this._cells){if(e=this._cells[n],e.num>0){for(e.collect&&e.data.values(),t=0;t<i.length;++t)e.aggs[i[t].name].set();r.push(e.tuple)}else delete this._cells[n];e.flag=0}return this._rems=!1,r},l.changes=function(e){var t,n,r,i,a=e||{add:[],rem:[],mod:[]},o=this._aggr;for(i in this._cells){for(t=this._cells[i],n=t.flag,t.collect&&t.data.values(),r=0;r<o.length;++r)t.aggs[o[r].name].set();t.num<=0?(a.rem.push(t.tuple),delete this._cells[i],this._on_drop&&this._on_drop(t)):(this._on_keep&&this._on_keep(t),n&s.ADD_CELL?a.add.push(t.tuple):n&s.MOD_CELL&&a.mod.push(t.tuple)),t.flag=0}return this._rems=!1,a},l.execute=function(e){return this.clear().insert(e).result()},l.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},l.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},e.exports=r},function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,u,s,l,c,f=e.maxbins||15,d=e.base||10,h=Math.log(d),p=e.div||[5,2],v=e.min,m=e.max,g=m-v;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,g/f,0,e.steps.length))];else{for(n=Math.ceil(Math.log(f)/h),r=e.minstep||0,t=Math.max(r,Math.pow(d,Math.round(Math.log(g)/h)-n));Math.ceil(g/t)>f;)t*=d;for(l=0;l<p.length;++l)(s=t/p[l])>=r&&g/s<=f&&(t=s)}return s=Math.log(t),u=s>=0?0:1+~~(-s/h),c=Math.pow(d,-u-1),v=Math.min(v,Math.floor(v/t+c)*t),m=Math.ceil(m/t)*t,{start:v,stop:m,step:t,unit:{precision:u},value:a,index:o}}function i(e,t,n,r){for(;n<r;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function a(e){return this.step*Math.floor(e/this.step+f)}function o(e){return Math.floor((e-this.start)/this.step+f)}function u(e){return this.unit.date(a.call(this,e))}function s(e){return o.call(this,this.unit.unit(e))}var l=n(11),c=n(190),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,i=e.max,a=e.maxbins||20,o=e.minbins||4,l=+i-+n,f=e.unit?t[e.unit]:t.find(l,o,a),d=r({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(i),maxbins:a,minstep:f.minstep,steps:f.step});return d.unit=f,d.index=s,e.raw||(d.value=u),d},e.exports=r},function(e,t,n){function r(e,t,n){n=o(e,t,n);var r=a(n);return r?d.$func("bin",r.unit.unit?function(e){return r.value(r.unit.unit(e))}:function(e){return r.value(e)})(n.accessor):n.accessor||d.identity}function i(e,t,n){n=o(e,t,n);var r=a(n);return r?u(e,n.accessor,r):s(e,n.accessor,n&&n.sort)}function a(e){var t=e.type,n=null;return(null==t||p[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),n="date"===t?l.date(e):l(e)),n}function o(){var e=arguments,t=0,n=d.isArray(e[t])?e[t++]:null,r=d.isFunction(e[t])||d.isString(e[t])?d.$(e[t++]):null,i=d.extend({},e[t]);if(n&&(i.type=i.type||f(n,r),p[i.type])){var a=h.extent(n,r);i=d.extend({min:a[0],max:a[1]},i)}return r&&(i.accessor=r),i}function u(e,t,n){for(var r,i,a=c.range(n.start,n.stop+n.step/2,n.step).map(function(e){return{value:n.value(e),count:0}}),o=0;o<e.length;++o)if(r=t?t(e[o]):e[o],d.isValid(r)){if((i=n.index(r))<0||i>=a.length||!isFinite(i))continue;a[i].count+=1}return a.bins=n,a}function s(e,t,n){var r=h.unique(e,t),i=h.count.map(e,t);return r.map(function(e){return{value:e,count:i[e]}}).sort(d.comparator(n?"-count":"+value"))}var l=n(305),c=n(188),f=n(82),d=n(11),h=n(83),p={integer:1,number:1,date:1};e.exports={$bin:r,histogram:i}},function(e,t,n){function r(e){var t=e.url;if(!t&&e.file)return h+e.file;if(e.baseURL&&!d.test(t)&&(c(t,"/")||"/"===e.baseURL[e.baseURL.length-1]||(t="/"+t),t=e.baseURL+t),!i.useXHR&&c(t,"//")&&(t=(e.defaultProtocol||"http")+":"+t),e.domainWhiteList){var r,a;if(i.useXHR){var o=document.createElement("a");o.href=t,""===o.host&&(o.href=o.href),r=o.hostname.toLowerCase(),a=window.location.hostname}else{var u=n(1061).parse(t);r=u.hostname,a=null}if(a!==r){if(!e.domainWhiteList.some(function(e){var t=r.length-e.length;return e===r||t>1&&"."===r[t-1]&&r.lastIndexOf(e)===t}))throw"URL is not whitelisted: "+t}}return t}function i(e,t){return i.loader(e,t)}function a(e,t){var n,r=t||function(e){throw e};try{n=i.sanitizeUrl(e)}catch(e){return void r(e)}if(n)return i.useXHR?i.xhr(n,e,t):c(n,h)?i.file(n.slice(h.length),e,t):n.indexOf("://")<0?i.file(n,e,t):i.http(n,e,t);r("Invalid URL: "+e.url)}function o(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function u(e,t,n){function r(){var e=u.status;!e&&o(u)||e>=200&&e<300||304===e?n(null,u.responseText):n(u,null)}var a=!!n,u=new XMLHttpRequest;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),a&&("onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()}),u.open("GET",e,a),u.setRequestHeader){var s=f.extend({},i.headers,t.headers);for(var l in s)u.setRequestHeader(l,s[l])}if(u.send(),!a&&o(u))return u.responseText}function s(e,t,r){var i=n(1058);if(!r)return i.readFileSync(e,"utf8");i.readFile(e,r)}function l(e,t,r){var a=f.extend({},i.headers,t.headers),o={url:e,encoding:null,gzip:!0,headers:a};if(!r)return n(1060)("GET",e,o).getBody();n(1059)(o,function(e,t,n){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",r(e,null)):r(null,n)})}function c(e,t){return null!=e&&0===e.lastIndexOf(t,0)}var f=n(11),d=/^([A-Za-z]+:)?\/\//,h="file://";i.loader=a,i.sanitizeUrl=r,i.xhr=u,i.file=s,i.http=l,i.useXHR="undefined"!=typeof XMLHttpRequest,i.headers={},e.exports=i},function(e,t,n){function r(e,t){var n=t&&t.type||"json";return e=u[n](e,t),t&&t.parse&&i(e,t.parse),e}function i(e,t){var n,r,i,u,l,c,f=e.length;for(t="auto"===t?o.inferAll(e):a.duplicate(t),n=a.keys(t),r=n.map(function(e){var n=t[e];if(n&&0===n.indexOf("date:")){var r=n.split(/:(.+)?/,2),i=r[1];if(!("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1]))throw Error("Format pattern must be quoted: "+i);return i=i.slice(1,-1),i=s(i),function(e){return i.parse(e)}}if(!o.parsers[n])throw Error("Illegal format pattern: "+e+":"+n);return o.parsers[n]}),u=0,c=n.length;u<f;++u)for(i=e[u],l=0;l<c;++l)i[n[l]]=r[l](i[n[l]]);o.annotation(e,t)}var a=n(11),o=n(82),u=n(752),s=n(187).time;r.formats=u,e.exports=r},function(e,t,n){function r(e){var t=i(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(f)}function i(e,t,n){t=t||"obj";var r=0,i="'",u=d;return e.replace(u,function(u,s,l){return i+=e.slice(r,l).replace(m,o),r=l+u.length,s&&(i+="'\n+((__t=("+a(s,t,n)+"))==null?'':__t)+\n'"),u}),i+"'"}function a(e,t,n){function i(e){return e=e||"",f?(f=!1,d="String("+d+")"+e):d+=e,d}function a(){return"(typeof "+d+'==="number"?new Date('+d+"):"+d+")"}function o(e){var t=b[0];if(!("'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);t=t.slice(1,-1),g=u(t,e),f=!1;var n="number"===e?d:a();d="this.formats["+g+"]("+n+")"}var s=e.match(h),c=s.shift().trim(),f=!0;n&&(n[c]=1);for(var d=r.property(t,c),v=0;v<s.length;++v){var m,g,y,_=s[v],b=null;switch((m=_.indexOf(":"))>0&&(_=_.slice(0,m),b=s[v].slice(m+1).match(p).map(function(e){return e.trim()})),_=_.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":g=l.number(b[0]),i(".slice(0,"+g+")");break;case"right":g=l.number(b[0]),i(".slice(-"+g+")");break;case"mid":g=l.number(b[0]),y=g+l.number(b[1]),i(".slice(+"+g+","+y+")");break;case"slice":g=l.number(b[0]),i(".slice("+g+(b.length>1?","+l.number(b[1]):"")+")");break;case"truncate":g=l.number(b[0]),y=b[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,d="this.truncate("+i()+","+g+",'"+y+"')";break;case"pad":g=l.number(b[0]),y=b[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,d="this.pad("+i()+","+g+",'"+y+"')";break;case"number":o("number");break;case"time":o("time");break;case"time-utc":o("utc");break;case"month":d="this.month("+d+")";break;case"month-abbrev":d="this.month("+d+",true)";break;case"day":d="this.day("+d+")";break;case"day-abbrev":d="this.day("+d+",true)";break;case"quarter":d="this.quarter("+d+")";break;case"quarter-utc":d="this.utcQuarter("+d+")";break;default:throw Error("Unrecognized template filter: "+_)}}return d}function o(e){return"\\"+v[e]}function u(e,t){var n=t+":"+e;if(null==f.format_map[n]){var r=c[t](e),i=f.formats.length;return f.formats.push(r),f.format_map[n]=i,i}return f.format_map[n]}function s(e,t){return f.formats[u(e,t)]}var l=n(11),c=n(187),f={formats:[],format_map:{},truncate:l.truncate,pad:l.pad,day:c.day,month:c.month,quarter:c.quarter,utcQuarter:c.utcQuarter};r.source=i,r.context=f,r.format=s,e.exports=r,r.clearFormatCache=function(){f.formats=[],f.format_map={}},r.property=function(e,t){return e+"["+l.field(t).map(l.str).join("][")+"]"};var d=/\{\{(.+?)\}\}|$/g,h=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,p=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,v={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(759);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var o="boolean"==typeof t.cycles&&t.cycles,u=t.replacer||function(e,t){return t},s=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),l=[];return function e(t,c,f,d){var h=n?"\n"+new Array(d+1).join(n):"",p=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=u.call(t,c,f))){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var v=[],m=0;m<f.length;m++){var g=e(f,m,f[m],d+1)||r.stringify(null);v.push(h+n+g)}return"["+v.join(",")+h+"]"}if(-1!==l.indexOf(f)){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);for(var y=a(f).sort(s&&s(f)),v=[],m=0;m<y.length;m++){var c=y[m],_=e(f,c,f[c],d+1);if(_){var b=r.stringify(c)+p+_;v.push(h+n+b)}}return l.splice(l.indexOf(f),1),"{"+v.join(",")+h+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(192);t.default=function(e){function t(e){e=o(e),e[0]<u&&(u=e[0]),e[0]>l&&(l=e[0]),e[1]<s&&(s=e[1]),e[1]>c&&(c=e[1])}function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var a,o=n.i(r.default)(e.transform),u=1/0,s=u,l=-u,c=-u;e.arcs.forEach(function(e){for(var t,n=-1,r=e.length;++n<r;)t=o(e[n],n),t[0]<u&&(u=t[0]),t[0]>l&&(l=t[0]),t[1]<s&&(s=t[1]),t[1]>c&&(c=t[1])});for(a in e.objects)i(e.objects[a]);return[u,s,l,c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),u.push(r)}}var i={},a={},o={},u=[],s=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++s],t[s]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),u=i[0],s=i[1];if(t=o[u])if(delete o[t.end],t.push(e),t.end=s,r=a[s]){delete a[r.start];var l=r===t?t:t.concat(r);a[l.start=t.start]=o[l.end=r.end]=l}else a[t.start]=o[t.end]=t;else if(t=a[s])if(delete a[t.start],t.unshift(e),t.start=u,r=o[u]){delete o[r.end];var c=r===t?t:r.concat(t);a[c.start=r.start]=o[c.end=t.end]=c}else a[t.start]=o[t.end]=t;else t=[e],a[t.start=u]=o[t.end=s]=t}),r(o,a),r(a,o),t.forEach(function(e){i[e<0?~e:e]||u.push([e])}),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(312);t.default=function(e){if(null==e)return r.default;var t,n,i=e.scale[0],a=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,r){r||(t=n=0);var s=2,l=e.length,c=new Array(l),f=Math.round((e[0]-o)/i),d=Math.round((e[1]-u)/a);for(c[0]=f-t,t=f,c[1]=d-n,n=d;s<l;)c[s]=e[s],++s;return c}}},function(e,t,n){"use strict";function r(e){return new Uint8Array(e)}function i(e){return new Uint16Array(e)}function a(e){return new Uint32Array(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.array8=r,t.array16=i,t.array32=a},function(e,t,n){"use strict";function r(e,t,n){this.id=++u,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function i(e,t,n){return new r(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.stream=i;var a=n(84),o=n(0),u=0,s=r.prototype;s._filter=o.truthy,s._apply=o.identity,s.targets=function(){return this._targets||(this._targets=n.i(a.default)(o.id))},s.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},s.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},s.filter=function(e){var t=i(e);return this.targets().add(t),t},s.apply=function(e){var t=i(null,e);return this.targets().add(t),t},s.merge=function(){var e=i();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},s.throttle=function(e){var t=-1;return this.filter(function(){var n=Date.now();return n-t>e?(t=n,1):0})},s.debounce=function(e){var t=i();return this.targets().add(i(null,null,n.i(o.debounce)(e,function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()}))),t},s.between=function(e,t){var n=!1;return e.targets().add(i(null,null,function(){n=!0})),t.targets().add(i(null,null,function(){n=!1})),this.filter(function(){return n})}},function(e,t,n){"use strict";function r(e,t,n,r){var i,a,o,u,s,l=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,u=n.length;o<u;++o)if(i=n[o],i.stamp===t){if(i.fields){a=l.fields||(l.fields={});for(s in i.fields)a[s]=1}i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(114),a=n(0),o=n.i(a.inherits)(r,i.default);o.fork=function(e){var t=new i.default(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,function(e){return t.add.push(e)}),e&t.REM&&this.visit(t.REM,function(e){return t.rem.push(e)}),e&t.MOD&&this.visit(t.MOD,function(e){return t.mod.push(e)})),t},o.changed=function(e){return this.changes&e},o.modified=function(e){var t=this,r=t.fields;return r&&t.changes&t.MOD?n.i(a.isArray)(e)?e.some(function(e){return r[e]}):r[e]:0},o.filter=function(){n.i(a.error)("MultiPulse does not support filtering.")},o.materialize=function(){n.i(a.error)("MultiPulse does not support materialization.")},o.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}},function(e,t,n){"use strict";function r(){Object.defineProperty(this,a,{writable:!0,value:{}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(0),a="_:mod:_",o=r.prototype;o.set=function(e,t,r,o){var u=this,s=u[e],l=u[a];return null!=t&&t>=0?(s[t]!==r||o)&&(s[t]=r,l[t+":"+e]=-1,l[e]=-1):(s!==r||o)&&(u[e]=r,l[e]=n.i(i.isArray)(r)?1+r.length:-1),u},o.modified=function(e,t){var r,o=this[a];if(!arguments.length){for(r in o)if(o[r])return!0;return!1}if(n.i(i.isArray)(e)){for(r=0;r<e.length;++r)if(o[e[r]])return!0;return!1}return null!=t&&t>=0?t+1<o[e]||!!o[t+":"+e]:!!o[e]},o.clear=function(){return this[a]={},this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(320);n.d(t,"ASTNode",function(){return r.default});var i=n(801);n.d(t,"parse",function(){return i.default});var a=n(800);n.d(t,"codegen",function(){return a.default});var o=n(322);n.d(t,"functions",function(){return o.default});var u=n(321);n.d(t,"constants",function(){return u.default})},function(e,t,n){"use strict";function r(e){this.type=e}function i(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype.visit=function(e){var t,n,r,a=this;if(e(a))return 1;for(t=i(a),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){function t(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}function i(e,n,r){return function(i){return t(e,i,n,r)}}var a="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&n.i(r.error)("Missing arguments to clamp function."),t.length>3&&n.i(r.error)("Too many arguments to clamp function.");var i=t.map(e);return"Math.max("+i[1]+", Math.min("+i[2]+","+i[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:a,date:i("getDate",a,0),day:i("getDay",a,0),year:i("getFullYear",a,0),month:i("getMonth",a,0),hours:i("getHours",a,0),minutes:i("getMinutes",a,0),seconds:i("getSeconds",a,0),milliseconds:i("getMilliseconds",a,0),time:i("getTime",a,0),timezoneoffset:i("getTimezoneOffset",a,0),utcdate:i("getUTCDate",a,0),utcday:i("getUTCDay",a,0),utcyear:i("getUTCFullYear",a,0),utcmonth:i("getUTCMonth",a,0),utchours:i("getUTCHours",a,0),utcminutes:i("getUTCMinutes",a,0),utcseconds:i("getUTCSeconds",a,0),utcmilliseconds:i("getUTCMilliseconds",a,0),length:i("length",null,-1),indexof:i("indexOf",null),lastindexof:i("lastIndexOf",null),slice:i("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:i("toUpperCase","String",0),lower:i("toLowerCase","String",0),substring:i("substring","String"),replace:i("replace","String"),regexp:"RegExp",test:i("test","RegExp"),if:function(t){t.length<3&&n.i(r.error)("Missing arguments to if function."),t.length>3&&n.i(r.error)("Too many arguments to if function.");var i=t.map(e);return"("+i[0]+"?"+i[1]+":"+i[2]+")"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Feature",function(){return r}),n.d(t,"FeatureCollection",function(){return i}),n.d(t,"MultiPoint",function(){return a});var r="Feature",i="FeatureCollection",a="MultiPoint"},function(e,t,n){"use strict";function r(e){return!!u[e]}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.AXIS_PROPERTY_TYPE={grid:"grid",labelOverlap:"main",offset:"main",title:"main"};var o={orient:1,domain:1,format:1,grid:1,labelBound:1,labelFlush:1,labelPadding:1,labels:1,labelOverlap:1,maxExtent:1,minExtent:1,offset:1,position:1,tickCount:1,ticks:1,tickSize:1,title:1,titlePadding:1,values:1,zindex:1},u=i({},o,{encoding:1,labelAngle:1,titleMaxLength:1}),s=i({scale:1},o,{gridScale:1,encode:1});t.isAxisProperty=r,t.VG_AXIS_PROPERTIES=a.flagKeys(s),t.AXIS_PROPERTIES=a.flagKeys(u)},function(e,t,n){"use strict";function r(e,t,n,r,i){void 0===r&&(r="");for(var a=("band"===i?["axisBand"]:[]).concat(["x"===n?"axisX":"axisY","axis"+r.substr(0,1).toUpperCase()+r.substr(1),"axis"]),o=0,u=a;o<u.length;o++){var s=u[o];if(t[s]&&void 0!==t[s][e])return t[s][e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisConfig=r},function(e,t,n){"use strict";function r(e){return m.POSITION_SCALE_CHANNELS.reduce(function(t,n){if(e.axis(n)){var r={},i=f(n,e);i&&s(i)&&(r.main=i);var a=c(n,e);a&&s(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},o=0,u=e.children;o<u.length;o++){var s=u[o];s.parseAxisAndHeader();for(var l=0,c=g.keys(s.component.axes);l<c.length;l++){var f=c[l];r.axis[f]=_.parseGuideResolve(e.component.resolve,f),"shared"===r.axis[f]&&(n[f]=a(n[f],s.component.axes[f]),n[f]||(r.axis[f]="independent",delete n[f]))}}for(var d=0,h=["x","y"];d<h.length;d++)for(var f=h[d],p=0,v=e.children;p<v.length;p++){var s=v[p];if(s.component.axes[f]){if("independent"===r.axis[f]){n[f]=(n[f]||[]).concat(s.component.axes[f]);for(var m=0,y=s.component.axes[f];m<y.length;m++){var b=y[m],x=b.main.getWithExplicit("orient"),w=x.value,M=x.explicit;if(i[w]>0&&!M){var O=S[w];i[w]>i[O]&&b.main.set("orient",O,!1)}i[w]++}}delete s.component.axes[f]}}}function a(e,t){if(!e)return t.map(function(e){return p({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var u=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(u.explicit&&s.explicit&&u.value!==s.value)return;e[r].main=o(i,a)}var l=e[r].grid,c=t[r].grid;if(!!l!=!!c)return;l&&c&&(e[r].grid=o(l,c))}return e}}function o(e,t){for(var n=0,r=v.VG_AXIS_PROPERTIES;n<r.length;n++){var i=r[n];!function(n){var r=b.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return y.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return b.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)}(i)}return e}function u(e){return!1===e||null===e}function s(e){return g.some(P,function(t){return l(e,t)})}function l(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!u(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new x.AxisComponentPart;v.VG_AXIS_PROPERTIES.forEach(function(a){var o=h(a,r,e,t,n);if(void 0!==o){var u="values"===a?!!r.values:"encode"===a?!!r.encoding||!!r.labelAngle:o===r[a],s=w.getAxisConfig(a,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));(u||void 0===s||n)&&i.set(a,o,u)}});var a=r.encoding||{},o=P.reduce(function(n,r){if(!l(i,r))return n;var o="labels"===r?M.labels(t,e,a.labels||{},i.get("orient")):a[r]||{};return void 0!==o&&g.keys(o).length>0&&(n[r]={update:o}),n},{});return g.keys(o).length>0&&i.set("encode",o,!!r.encoding||!!r.labelAngle),i}function h(e,t,n,r,i){var a=r.fieldDef(n);if(!(i&&"main"===v.AXIS_PROPERTY_TYPE[e]||!i&&"grid"===v.AXIS_PROPERTY_TYPE[e])){switch(e){case"scale":return r.scaleName(n);case"gridScale":return O.gridScale(r,n,i);case"domain":return O.domain(e,t,i,n);case"format":return y.numberFormat(a,t.format,r.config);case"grid":var o=r.getScaleComponent(n).get("type");return y.getSpecifiedOrDefaultValue(t.grid,O.grid(o,a));case"labels":return!i&&t.labels;case"labelFlush":return O.labelFlush(a,n,t,i);case"labelOverlap":var o=r.getScaleComponent(n).get("type");return O.labelOverlap(a,t,n,o);case"minExtent":return O.minMaxExtent(t.minExtent,i);case"maxExtent":return O.minMaxExtent(t.maxExtent,i);case"orient":return y.getSpecifiedOrDefaultValue(t.orient,O.orient(n));case"tickCount":var o=r.getScaleComponent(n).get("type"),u="x"===n?"width":"y"===n?"height":void 0,s=u?r.getSizeSignalRef(u):void 0;return y.getSpecifiedOrDefaultValue(t.tickCount,O.tickCount(n,a,o,s));case"ticks":return O.ticks(e,t,i,n);case"title":return y.getSpecifiedOrDefaultValue(t.title,O.title(t.titleMaxLength,a,r.config));case"values":return O.values(t,r,a);case"zindex":return y.getSpecifiedOrDefaultValue(t.zindex,O.zindex(i))}return v.isAxisProperty(e)?t[e]:void 0}}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var v=n(324),m=n(6),g=n(2),y=n(18),_=n(122),b=n(31),x=n(822),w=n(325),M=n(823),O=n(824),P=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var S={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(118),u=n(121),s=n(15),l=function(e){function t(t,n,r,i,a){return e.call(this,t,n,r,i,a)||this}return r(t,e),t.prototype.parseData=function(){this.component.data=o.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=0,n=this.children;t<n.length;t++){var r=n[t];!function(t){t.parseSelection(),a.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})}(r)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseAxisAndHeader()}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},u.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleLayoutSize();return i({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},r?{encode:{update:r}}:{},e.assembleGroup())})},t}(s.Model);t.BaseConcatModel=l},function(e,t,n){"use strict";function r(e){function t(r,i){if(r instanceof _.SourceNode&&!u.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof m.ParseNode&&(r.parent instanceof _.SourceNode&&!i.source?i.format=o({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof h.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof p.FilterNode||r instanceof f.CalculateNode||r instanceof l.AggregateNode||r instanceof y.LookupNode||r instanceof g.IdentifierNode)&&i.transform.push(r.assemble()),(r instanceof v.FilterInvalidNode||r instanceof c.BinNode||r instanceof x.TimeUnitNode||r instanceof b.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof l.AggregateNode&&(i.name||(i.name="data_"+n++)),r instanceof d.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof d.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof d.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source,r.children.forEach(function(e){t(e,{name:null,source:s,transform:[]})})}}var n=0;return t}function i(e){var t=[],n=r(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function a(e){var t=s.vals(e.sources),n=[],i=r(n),a=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+a++);var t=e.assemble();i(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var o=0,u=n;o<u.length;o++)for(var l=u[o],c=0,f=l.transform||[];c<f.length;c++){var d=f[c];"lookup"===d.type&&(d.from=e.outputNodes[d.from].getSource())}return n}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(55),s=n(2),l=n(196),c=n(329),f=n(330),d=n(14),h=n(197),p=n(331),v=n(198),m=n(199),g=n(332),y=n(333),_=n(119),b=n(200),x=n(120);t.assembleFacetData=i,t.assembleRootData=a},function(e,t,n){"use strict";function r(e,t,n,r){if(p.binRequiresRange(t,n)){var i=v.isUnitModel(e)?e.axis(n)||e.legend(n)||{}:{},a=d.field(t,{expr:"datum"}),o=d.field(t,{expr:"datum",binSuffix:"end"});return{formulaAs:d.field(t,{binSuffix:"range"}),formula:p.binFormatExpression(a,o,i.format,r)}}return{}}function i(e,t){return f.binToString(e)+"_"+t}function a(e){return!!e.model}function o(e,t){if(a(e)){var n=e.model;return{signal:n.getName(t+"_bins"),extentSignal:n.getName(t+"_extent")}}return e}function u(e){return"as"in e}function s(e,t){var n;n=u(e)?[e.as,e.as+"_end"]:[d.field(e,{}),d.field(e,{binSuffix:"end"})];var r=d.normalizeBin(e.bin,void 0)||{},a=i(r,e.field),s=o(t,a),l=s.signal,f=s.extentSignal;return{key:a,binComponent:c({bin:r,field:e.field,as:n},l?{signal:l}:{},f?{extentSignal:f}:{})}}var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var f=n(87),d=n(7),h=n(2),p=n(18),v=n(15),m=n(14),g=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return l(t,e),t.prototype.clone=function(){return new t(h.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,i){if(n.bin){var a=s(n,{model:e}),o=a.key,u=a.binComponent;t[o]=c({},u,t[o],r(e,n,i,e.config))}return t},{});return 0===h.keys(n).length?null:new t(n)},t.makeFromTransform=function(e,n){var r=s(e,n),i=r.key,a=r.binComponent;return new t((o={},o[i]=a,o));var o},t.prototype.merge=function(e){this.bins=c({},this.bins,e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return h.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return h.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return h.flatten(h.vals(this.bins).map(function(e){var t=[],n=c({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(m.DataFlowNode);t.BinNode=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(14),o=function(e){function t(t){var n=e.call(this)||this;return n.transform=t,n}return r(t,e),t.prototype.clone=function(){return new t(i.duplicate(this.transform))},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(a.DataFlowNode);t.CalculateNode=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(125),a=n(2),o=n(14),u=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.filter=n,r.expr=i.expression(r.model,r.filter,r),r}return r(t,e),t.prototype.clone=function(){return new t(this.model,a.duplicate(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:this.expr}},t}(o.DataFlowNode);t.FilterNode=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(205),a=n(14),o=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.clone=function(){return new t},t.prototype.producedFields=function(){return e={},e[i.SELECTION_ID]=!0,e;var e},t.prototype.assemble=function(){return{type:"identifier",as:i.SELECTION_ID}},t}(a.DataFlowNode);t.IdentifierNode=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(3),u=n(14),s=n(119),l=function(e){function t(t,n){var r=e.call(this)||this;return r.transform=t,r.secondary=n,r}return r(t,e),t.make=function(e,n,r){var i=e.component.data.sources,a=new s.SourceNode(n.from.data),o=i[a.hash()];o||(i[a.hash()]=a,o=a);var l=e.getName("lookup_"+r),c=new u.OutputNode(l,"lookup",e.component.data.outputNodeRefCounts);return c.parent=o,e.component.data.outputNodes[l]=c,new t(n,c.getSource())},t.prototype.producedFields=function(){return a.toSet(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=i({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;a.isString(t)||(o.warn(o.message.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return i({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(u.DataFlowNode);t.LookupNode=l},function(e,t,n){"use strict";function r(e){function n(r){if(!(r instanceof h.FacetNode)){var i=r.clone();if(i instanceof d.OutputNode){var a=t.FACET_SCALE_PREFIX+i.getSource();i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof f.AggregateNode||i instanceof m.StackNode)&&i.addDimensions(e.fields);return c.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return c.flatten(r.children.map(n))}return n}function i(e){if(e instanceof h.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof d.OutputNode){a(e.model.component.data.main);var t=c.flatten(e.children.map(r(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof f.AggregateNode||n instanceof m.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),i(e)}else e.children.forEach(i)}function a(e){if(e instanceof d.OutputNode&&e.type===l.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof h.FacetNode||(t.swapWithParent(),a(e))}}function o(e){e instanceof p.FilterInvalidNode&&c.every(c.vals(e.filter),function(e){return null===e})&&e.remove(),e instanceof d.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(o)}function u(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function s(e){var t=c.vals(e.sources);t.forEach(o),t=t.filter(function(e){return e.numChildren()>0}),u(t).forEach(v.iterateFromLeaves(v.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),u(t).forEach(v.iterateFromLeaves(v.moveParseUp)),u(t).forEach(v.removeDuplicateTimeUnits),t.forEach(i),c.keys(e.sources).forEach(function(t){0===e.sources[t].numChildren()&&delete e.sources[t]})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(55),c=n(2),f=n(196),d=n(14),h=n(197),p=n(198),v=n(827),m=n(200);t.FACET_SCALE_PREFIX="scale_",t.optimizeDataflow=s},function(e,t,n){"use strict";function r(e){return"top"===e||"left"===e?"header":"footer"}function i(e,t){var n=e.component.layoutHeaders[t].title,r="row"===t?"vertical":void 0,i=o({align:{value:"center"},text:{value:n}},"vertical"===r?{angle:{value:270}}:{});return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[o({type:"text",role:t+"-title-text",style:"guide-title"},s.keys(i).length>0?{encode:{update:i}}:{})]}}function a(e,t,n,r,i){if(i){var a=null;if(r.facetFieldDef&&i.labels){var c=r.facetFieldDef,f=c.header,d=void 0===f?{}:f,h=d.format,p=d.labelAngle,v=o({},p?{angle:{value:p}}:"row"===t?{align:{value:"right"},baseline:{value:"middle"}}:{});a=o({text:l.formatSignalRef(c,h,"parent",e.config),offset:10,orient:"row"===t?"left":"top",style:"guide-label"},s.keys(v).length>0?{encode:{update:v}}:{})}var m=i.axes,g=m&&m.length>0;if(a||g){var y="row"===t?"height":"width";return o({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:{field:u.field(r.facetFieldDef,{expr:"datum"}),order:r.facetFieldDef.header&&r.facetFieldDef.sort||"ascending"}}:{},a?{title:a}:{},i.sizeSignal?{encode:{update:(_={},_[y]=i.sizeSignal,_)}}:{},g?{axes:m}:{})}}return null;var _}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),s=n(2),l=n(18);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=r,t.getTitleGroup=i,t.getHeaderGroup=a},function(e,t,n){"use strict";function r(e){for(var t=e.component.legends,n={},r=0,u=a.keys(t);r<u.length;r++){var s=u[r],l=e.getScaleComponent(s),c=i(l.domains);if(n[c])for(var f=0,d=n[c];f<d.length;f++){var h=d[f],p=o.mergeLegendComponent(h,t[s]);p||n[c].push(t[s])}else n[c]=[t[s].clone()]}return a.flatten(a.vals(n)).map(function(e){return e.combine()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(310),a=n(2),o=n(337);t.assembleLegends=r},function(e,t,n){"use strict";function r(e){v.isUnitModel(e)?e.component.legends=i(e):e.component.legends=s(e)}function i(e){return[c.COLOR,c.SIZE,c.SHAPE,c.OPACITY].reduce(function(t,n){return e.legend(n)&&(t[n]=o(e,n)),t},{})}function a(e,t){switch(t){case c.COLOR:var n=e.scaleName(c.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case c.SIZE:return{size:e.scaleName(c.SIZE)};case c.SHAPE:return{shape:e.scaleName(c.SHAPE)};case c.OPACITY:return{opacity:e.scaleName(c.OPACITY)}}return null}function o(e,t){var n=e.fieldDef(t),r=e.legend(t),i=new _.LegendComponent({},a(e,t));d.LEGEND_PROPERTIES.forEach(function(n){var a=u(n,r,t,e);if(void 0!==a){var o="values"===n?!!r.values:a===r[n];(o||void 0===e.config.legend[n])&&i.set(n,a,o)}});var o=r.encoding||{},s=["labels","legend","title","symbols","gradient"].reduce(function(r,a){var u=b[a]?b[a](n,o[a],e,t,i.get("type")):o[a];return void 0!==u&&h.keys(u).length>0&&(r[a]={update:u}),r},{});return h.keys(s).length>0&&i.set("encode",s,!!r.encoding),i}function u(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return p.numberFormat(i,t.format,r.config);case"title":return p.getSpecifiedOrDefaultValue(t.title,f.title(i,r.config));case"values":return x.values(t);case"type":return p.getSpecifiedOrDefaultValue(t.type,x.type(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}function s(e){for(var t=e.component,n=t.legends,i=t.resolve,a=0,o=e.children;a<o.length;a++){var u=o[a];!function(t){r(t),h.keys(t.component.legends).forEach(function(r){i.legend[r]=m.parseGuideResolve(e.component.resolve,r),"shared"===i.legend[r]&&(n[r]=l(n[r],t.component.legends[r]),n[r]||(i.legend[r]="independent",delete n[r]))})}(u)}return h.keys(n).forEach(function(t){for(var n=0,r=e.children;n<r.length;n++){var a=r[n];a.component.legends[t]&&("shared"===i.legend[t]&&delete a.component.legends[t])}}),n}function l(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=!1,a=0,o=d.VG_LEGEND_PROPERTIES;a<o.length;a++){var u=o[a];!function(n){var r=y.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return p.titleMerger(e,t);case"type":return i=!0,g.makeImplicit("symbol")}return y.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)}(u)}return i&&(((e.implicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.explicit,["encode","gradient"])),e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=n(7),d=n(203),h=n(2),p=n(18),v=n(15),m=n(122),g=n(31),y=n(31),_=n(830),b=n(831),x=n(832);t.parseLegend=r,t.parseLegendForChannel=o,t.mergeLegendComponent=l},function(e,t,n){"use strict";function r(e,t){return s(e,t)}function i(e,t){return s(e,t)}function a(e,t){return f.isRepeatRef(e.field)?e.field.repeat in t?l({},e,{field:t[e.field.repeat]}):void d.warn(d.message.noSuchRepeatedValue(e.field.repeat)):e}function o(e,t){if(void 0!==(e=a(e,t))){if(e.sort&&h.isSortField(e.sort)){var n=a(e.sort,t);e=l({},e,n?{sort:n}:{})}return e}}function u(e,t){if(!f.isFieldDef(e)){if(f.hasConditionalFieldDef(e)){var n=o(e.condition,t);if(n)return l({},e,{condition:n});e.condition;return c(e,["condition"])}return e}var n=o(e,t);return n||(f.isConditionalDef(e)?{condition:e.condition}:void 0)}function s(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(p.isArray(i))n[r]=i.map(function(e){return u(e,t)}).filter(function(e){return e});else{var a=u(i,t);a&&(n[r]=a)}}return n}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var f=n(7),d=n(3),h=n(126),p=n(2);t.replaceRepeaterInFacet=r,t.replaceRepeaterInEncoding=i},function(e,t,n){"use strict";function r(e,t){y.isUnitModel(e)?i(e,t):o(e,t)}function i(e,t){var n=e.component.scales;m.keys(n).forEach(function(r){var i=e.specifiedScales[r],o=n[r],u=e.getScaleComponent(r),s=e.fieldDef(r),l=e.sort(r),c=e.config,f=i[t],d=u.get("type"),h=v.scaleTypeSupportProperty(d,t),m=v.channelScalePropertyIncompatability(r,t);if(void 0!==f&&(h?m&&p.warn(m):p.warn(p.message.scalePropertyNotWorkWithScaleType(d,t,r))),h&&void 0===m)if(void 0!==f)o.copyKeyFromObject(t,i);else{var g=a(t,r,s,l,u.get("type"),u.get("padding"),u.get("paddingInner"),i.domain,e.markDef,c);void 0!==g&&o.set(t,g,!1)}})}function a(e,t,n,r,i,a,o,h,p,v){var m=v.scale;switch(e){case"nice":return u(i,t,n);case"padding":return s(t,i,m,n,p,v.bar);case"paddingInner":return l(a,t,m);case"paddingOuter":return c(a,t,i,o,m);case"reverse":return f(i,r);case"zero":return d(t,n,h)}return m[e]}function o(e,t){for(var n=e.component.scales,i=0,a=e.children;i<a.length;i++){var o=a[i];"range"===t?b.parseScaleRange(o):r(o,t)}m.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var u=o[a],s=u.component.scales[r];if(s){var l=s.getWithExplicit(t);i=_.mergeValuesWithExplicit(i,l,t,"scale",_.tieBreakByComparing(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,i)})}function u(e,t,n){if(!n.bin&&!g.contains([v.ScaleType.TIME,v.ScaleType.UTC],e))return g.contains([h.X,h.Y],t)}function s(e,t,n,r,i,a){if(g.contains([h.X,h.Y],e)){if(v.isContinuousToContinuous(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,u=i.orient;if("bar"===o&&!r.bin&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return a.continuousBandSize}if(t===v.ScaleType.POINT)return n.pointPadding}}function l(e,t,n){if(void 0===e)return g.contains([h.X,h.Y],t)?n.bandPaddingInner:void 0}function c(e,t,n,r,i){if(void 0===e)return g.contains([h.X,h.Y],t)&&n===v.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function f(e,t){if(v.hasContinuousDomain(e)&&"descending"===t)return!0}function d(e,t,n){return"size"===e&&"quantitative"===t.type||!(!!n&&"unaggregated"!==n||t.bin||!g.contains([h.X,h.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var h=n(6),p=n(3),v=n(10),m=n(2),g=n(2),y=n(15),_=n(31),b=n(340);t.parseScaleProperty=r,t.getDefaultValue=a,t.parseNonUnitScaleProperty=o,t.nice=u,t.padding=s,t.paddingInner=l,t.paddingOuter=c,t.reverse=f,t.zero=d},function(e,t,n){"use strict";function r(e){_.isUnitModel(e)?i(e):x.parseNonUnitScaleProperty(e,"range")}function i(e){var t=e.component.scales;h.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.getScaleComponent(n),u=e.specifiedScales[n],s=e.fieldDef(n),l="x"===n?"width":"y"===n?"height":void 0,c=l?!!e.component.layoutSize.get(l):void 0,f=i.get("type"),d=g.contains(["point","band"],f)||!!u.rangeStep;l&&e.fit&&!c&&d&&(p.warn(p.message.CANNOT_FIX_RANGE_STEP_WITH_FIT),c=!0);var h=a(e),v=o(n,f,s.type,u,e.config,r.get("zero"),e.mark(),c,e.getName(l),h);r.setWithExplicit("range",v)}})}function a(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&y.isVgRangeStep(r)&&d.isNumber(r.step)&&t.push(r.step);var i=e.getScaleComponent("y"),a=i&&i.get("range");return a&&y.isVgRangeStep(a)&&d.isNumber(a.step)&&t.push(a.step),t}function o(e,n,r,i,a,o,l,c,f,d){for(var h=c||null===i.rangeStep,m=0,g=t.RANGE_PROPERTIES;m<g.length;m++){var y=g[m];if(void 0!==i[y]){var _=v.scaleTypeSupportProperty(n,y),x=v.channelScalePropertyIncompatability(e,y);if(_)if(x)p.warn(x);else switch(y){case"range":return b.makeExplicit(i[y]);case"scheme":return b.makeExplicit(u(i[y]));case"rangeStep":var w=i[y];if(null!==w){if(!c)return b.makeExplicit({step:w});p.warn(p.message.rangeStepDropped(e))}}else p.warn(p.message.scalePropertyNotWorkWithScaleType(n,y,e))}}return b.makeImplicit(s(e,n,r,a,o,l,f,d,h))}function u(e){if(v.isExtendedScheme(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function s(e,t,n,r,i,a,o,u,s){switch(e){case h.X:case h.Y:if(g.contains(["point","band"],t)&&!s)if(e===h.X&&"text"===a){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===h.Y&&m.hasContinuousDomain(t)?[{signal:o},0]:[0,{signal:o}];case h.SIZE:return[l(a,i,r),c(a,u,r)];case h.SHAPE:return"symbol";case h.COLOR:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===a?"heatmap":"ramp";case h.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}function l(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(p.message.incompatibleChannel("size",e))}function c(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:f(t,n.scale)-1;case"line":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=f(t,r);return(i-2)*(i-2)}throw new Error(p.message.incompatibleChannel("size",e))}function f(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=n(6),p=n(3),v=n(10),m=n(10),g=n(2),y=n(28),_=n(15),b=n(31),x=n(339);t.RANGE_PROPERTIES=["range","rangeStep","scheme"],t.parseScaleRange=r,t.parseRangeForChannel=o,t.defaultRange=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(16),a=n(202),o={predicate:"vlMulti",scaleDomain:"vlMultiDomain",signals:function(e,t){var n=t.project,o=a.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",u=[],s=n.map(function(e){return r.stringValue(e.channel)}).filter(function(e){return e}).join(", "),l=n.map(function(e){return r.stringValue(e.field)}).join(", "),c=n.map(function(t){var n=t.channel,i=e.fieldDef(n);return i&&i.bin?(u.push(t.field),"["+o+r.accessPath(e.field(n,{}))+", "+o+r.accessPath(e.field(n,{binSuffix:"end"}))+"]"):""+o+r.accessPath(t.field)}).join(", ");return[{name:t.name+i.TUPLE,value:{},on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? {unit: "+i.unitName(e)+", encodings: ["+s+"], fields: ["+l+"], values: ["+c+"]"+(u.length?", "+u.map(function(e){return r.stringValue("bin_"+e)+": 1"}).join(", "):"")+"} : null",force:!0}]}]},modifyExpr:function(e,t){return t.name+i.TUPLE+", "+("global"===t.resolve?"null":"{unit: "+i.unitName(e)+"}")}};t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(24),u=n(24),s=n(7),l=n(25),c=n(206),f=n(2),d=n(326),h=n(118),p=n(121),v=n(88),m=n(835),g=n(837),y=n(15),_=n(338),b=n(16),x=function(e){function t(t,n,r,a,o,s,f){void 0===a&&(a={});var d=e.call(this,t,n,r,s,void 0)||this;d.fit=f,d.type="unit",d.specifiedScales={},d.specifiedAxes={},d.specifiedLegends={},d.selection={},d.children=[],d.initSize(i({},a,t.width?{width:t.width}:{},t.height?{height:t.height}:{}));var h=l.isMarkDef(t.mark)?t.mark.type:t.mark,p=d.encoding=u.normalizeEncoding(_.replaceRepeaterInEncoding(t.encoding||{},o),h);return d.markDef=m.normalizeMarkDef(t.mark,p,s),d.stack=c.stack(h,p,d.config.stack),d.specifiedScales=d.initScales(h,p),d.encoding=m.initEncoding(d.markDef,p,d.stack,d.config),d.specifiedAxes=d.initAxes(p),d.specifiedLegends=d.initLegend(p),d.selection=t.selection,d}return r(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initScales=function(e,t){return a.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return s.isFieldDef(a)?(r=a,i=a.scale):s.hasConditionalFieldDef(a)?(r=a.condition,i=a.condition.scale):"x"===n?r=s.getFieldDef(t.x2):"y"===n&&(r=s.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[a.X,a.Y].reduce(function(t,n){var r=e[n];if(s.isFieldDef(r)||n===a.X&&s.isFieldDef(e.x2)||n===a.Y&&s.isFieldDef(e.y2)){var o=s.isFieldDef(r)?r.axis:null;null!==o&&!1!==o&&(t[n]=i({},o))}return t},{})},t.prototype.initLegend=function(e){return a.NONPOSITION_SCALE_CHANNELS.reduce(function(t,n){var r=e[n];if(r){var a=s.isFieldDef(r)?r.legend:s.hasConditionalFieldDef(r)?r.condition.legend:null;null!==a&&!1!==a&&(t[n]=i({},a))}return t},{})},t.prototype.parseData=function(){this.component.data=h.parseData(this)},t.prototype.parseLayoutSize=function(){v.parseUnitLayoutSize(this)},t.prototype.parseSelection=function(){this.component.selection=b.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=g.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=d.parseUnitAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return b.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return b.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return b.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return p.assembleLayoutSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&y.isLayerModel(this.parent)||(e=b.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleLayoutSize=function(){return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=f.duplicate(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=f.duplicate(this.config)),t||(n.data=f.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return o.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return s.getFieldDef(t)},t}(y.ModelWithField);t.UnitModel=x},function(e,t,n){"use strict";function r(e){return m.mergeDeep(m.duplicate(t.defaultConfig),e)}function i(e){e=m.duplicate(e);for(var t=0,n=y;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,o=l.VL_ONLY_GUIDE_CONFIG;i<o.length;i++){var r=o[i];delete e.axis[r]}if(e.legend)for(var u=0,s=l.VL_ONLY_GUIDE_CONFIG;u<s.length;u++){var r=s[u];delete e.legend[r]}if(e.mark)for(var c=0,d=f.VL_ONLY_MARK_CONFIG_PROPERTIES;c<d.length;c++){var r=d[c];delete e.mark[r]}for(var h=0,p=g;h<p.length;h++){for(var v=p[h],b=0,x=f.VL_ONLY_MARK_CONFIG_PROPERTIES;b<x.length;b++){var r=x[b];delete e[v][r]}var w=_[v];if(w)for(var M=0,O=w;M<O.length;M++){var r=O[M];delete e[v][r]}a(e,v)}a(e,"title","group-title");for(var r in e)m.isObject(e[r])&&0===m.keys(e[r]).length&&delete e[r];return m.keys(e).length>0?e:void 0}function a(e,t,n){var r="title"===t?v.extractTitleConfig(e.title).mark:e[t];"view"===t&&(n="cell");var i=o({},r,e.style[t]);m.keys(i).length>0&&(e.style[n||t]=i),delete e[t]}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(124),s=n(124),l=n(859),c=n(203),f=n(25),d=n(25),h=n(10),p=n(205),v=n(345),m=n(2);t.defaultViewConfig={width:200,height:200},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",view:t.defaultViewConfig,mark:d.defaultMarkConfig,area:{},bar:d.defaultBarConfig,circle:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:d.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:h.defaultScaleConfig,axis:{},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:c.defaultLegendConfig,selection:p.defaultConfig,style:{},title:{}},t.initConfig=r;var g=["view"].concat(f.PRIMITIVE_MARKS,u.COMPOSITE_MARK_STYLES),y=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],_=o({view:["width","height"]},f.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,s.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripAndRedirectConfig=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axis=n(324),t.aggregate=n(86),t.bin=n(87),t.channel=n(6),t.compositeMark=n(124);var r=n(825);t.compile=r.compile,t.config=n(343),t.data=n(55),t.datetime=n(56),t.encoding=n(24),t.facet=n(858),t.fieldDef=n(7),t.legend=n(203),t.mark=n(25),t.scale=n(10),t.sort=n(126),t.spec=n(90),t.stack=n(206),t.timeUnit=n(91),t.transform=n(127),t.type=n(40),t.util=n(2),t.validate=n(861),t.version=n(820).version},function(e,t,n){"use strict";function r(e){var t=e.anchor,n=e.offset,r=e.orient,o=e.color,u=a(e,["anchor","offset","orient","color"]);return{mark:i({},u,o?{fill:o}:{}),nonMark:i({},t?{anchor:t}:{},n?{offset:n}:{},r?{orient:r}:{})}}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.extractTitleConfig=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(862),i=n(347),a=n(863),o={dsv:r.default,csv:n.i(r.delimitedFormat)(","),tsv:n.i(r.delimitedFormat)("\t"),json:i.default,topojson:a.default};t.default=function(e,t){return arguments.length>1?(o[e]=t,this):o.hasOwnProperty(e)?o[e]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(t){return!("function"!=typeof e||!n.i(a.isFunction)(e.isBuffer))&&e.isBuffer(t)}function i(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}var a=n(0);t.default=function(e,t){var o=t&&t.property?n.i(a.field)(t.property):a.identity;return n.i(a.isObject)(e)&&!r(e)?i(o(e)):o(JSON.parse(e))}}.call(t,n(222).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!e||!e.length)return"unknown";var n,r,i,o,u=d.slice();for(r=0,i=e.length;r<i;++r){for(n=t?e[r][t]:e[r],o=0;o<u.length;++o)a(n)&&!u[o](n)&&(u.splice(o,1),--o);if(0===u.length)return"string"}return h[d.indexOf(u[0])]}function i(e,t){return t.reduce(function(t,n){return t[n]=r(e,n),t},{})}function a(e){return null!=e&&e===e}function o(e){return"true"===e||"false"===e||!0===e||!1===e}function u(e){return!isNaN(Date.parse(e))}function s(e){return!(isNaN(+e)||e instanceof Date)}function l(e){return s(e)&&(e=+e)==~~e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"typeParsers",function(){return f}),t.inferType=r,t.inferTypes=i;var c=n(0),f={boolean:c.toBoolean,integer:c.toNumber,number:c.toNumber,date:c.toDate,string:c.toString,unknown:c.identity},d=[o,l,s,u],h=["boolean","integer","number","date"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(867);n.d(t,"parse",function(){return r.default});var i=n(209);n.d(t,"signal",function(){return i.default});var a=n(359);n.d(t,"signalUpdates",function(){return a.default});var o=n(360);n.d(t,"stream",function(){return o.default});var u=n(354);n.d(t,"codeGenerator",function(){return u.codeGenerator}),n.d(t,"functionContext",function(){return u.functionContext}),n.d(t,"expressionFunction",function(){return u.expressionFunction});var s=n(12);n.d(t,"MarkRole",function(){return s.MarkRole}),n.d(t,"FrameRole",function(){return s.FrameRole}),n.d(t,"ScopeRole",function(){return s.ScopeRole}),n.d(t,"AxisRole",function(){return s.AxisRole}),n.d(t,"AxisDomainRole",function(){return s.AxisDomainRole}),n.d(t,"AxisGridRole",function(){return s.AxisGridRole}),n.d(t,"AxisLabelRole",function(){return s.AxisLabelRole}),n.d(t,"AxisTickRole",function(){return s.AxisTickRole}),n.d(t,"AxisTitleRole",function(){return s.AxisTitleRole}),n.d(t,"LegendRole",function(){return s.LegendRole}),n.d(t,"LegendEntryRole",function(){return s.LegendEntryRole}),n.d(t,"LegendLabelRole",function(){return s.LegendLabelRole}),n.d(t,"LegendSymbolRole",function(){return s.LegendSymbolRole}),n.d(t,"LegendTitleRole",function(){return s.LegendTitleRole});var l=n(350);n.d(t,"Scope",function(){return l.default});var c=n(93);n.d(t,"DataScope",function(){return c.default});var f=n(47);n.d(t,"formatLocale",function(){return f.formatDefaultLocale});var d=n(52);n.d(t,"timeFormatLocale",function(){return d.timeFormatDefaultLocale})},function(e,t,n){"use strict";function r(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function i(e){this.config=e.config,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function a(e){return(n.i(d.isArray)(e)?o:u)(e)}function o(e){for(var t,r="[",i=0,o=e.length;i<o;++i)t=e[i],r+=(i>0?",":"")+(n.i(d.isObject)(t)?t.signal||a(t):n.i(d.stringValue)(t));return r+"]"}function u(e){var t,r,i="{",o=0;for(t in e)r=e[t],i+=(++o>1?",":"")+n.i(d.stringValue)(t)+":"+(n.i(d.isObject)(r)?r.signal||a(r):n.i(d.stringValue)(r));return i+"}"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(93),l=n(20),c=n(57),f=n(26),d=n(0),h=r.prototype=i.prototype;h.fork=function(){return new i(this)},h.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},h.id=function(){return(this._subid?this._subid+":":0)+this._id++},h.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(function(t){t.$ref=e.id}),e.refs=null),e},h.proxy=function(e){var t=e instanceof l.Entry?n.i(l.ref)(e):e;return this.add(n.i(f.Proxy)({value:t}))},h.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},h.addUpdate=function(e){return this.updates.push(e),e},h.finish=function(){function e(e,t,n){var r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}var t,n;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;for(t in this.data){n=this.data[t],e(n.input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values");for(var r in n.index)e(n.index[r],t,"index:"+r)}return this},h.pushState=function(e,t,r){this._encode.push(n.i(l.ref)(this.add(n.i(f.Sieve)({pulse:e})))),this._parent.push(t),this._lookup.push(r?n.i(l.ref)(this.proxy(r)):null),this._markpath.push(-1)},h.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},h.parent=function(){return n.i(d.peek)(this._parent)},h.encode=function(){return n.i(d.peek)(this._encode)},h.lookup=function(){return n.i(d.peek)(this._lookup)},h.markpath=function(){var e=this._markpath;return++e[e.length-1]},h.fieldRef=function(e,t){if(n.i(d.isString)(e))return n.i(l.fieldRef)(e,t);e.signal||n.i(d.error)("Unsupported field reference: "+n.i(d.stringValue)(e));var r,i=e.signal,a=this.field[i];return a||(r={name:this.signalRef(i)},t&&(r.as=t),this.field[i]=a=n.i(l.ref)(this.add(n.i(f.Field)(r)))),a},h.compareRef=function(e){function t(e){return n.i(l.isSignal)(e)?(i=!0,n.i(l.ref)(r[e.signal])):e}var r=this.signals,i=!1,a=n.i(d.array)(e.field).map(t),o=n.i(d.array)(e.order).map(t);return i?n.i(l.ref)(this.add(n.i(f.Compare)({fields:a,orders:o}))):n.i(l.compareRef)(a,o)},h.keyRef=function(e,t){function r(e){return n.i(l.isSignal)(e)?(a=!0,n.i(l.ref)(i[e.signal])):e}var i=this.signals,a=!1;return e=n.i(d.array)(e).map(r),a?n.i(l.ref)(this.add(n.i(f.Key)({fields:e,flat:t}))):n.i(l.keyRef)(e,t)},h.sortRef=function(e){if(!e)return e;var t=[n.i(l.aggrField)(e.op,e.field),l.tupleidRef],r=e.order||l.Ascending;return r.signal?n.i(l.ref)(this.add(n.i(f.Compare)({fields:t,orders:[r=this.signalRef(r.signal),r]}))):n.i(l.compareRef)(t,[r,r])},h.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},h.addSignal=function(e,t){this.signals.hasOwnProperty(e)&&n.i(d.error)("Duplicate signal name: "+n.i(d.stringValue)(e));var r=t instanceof l.Entry?t:this.add(n.i(l.operator)(t));return this.signals[e]=r},h.getSignal=function(e){return this.signals[e]||n.i(d.error)("Unrecognized signal name: "+n.i(d.stringValue)(e)),this.signals[e]},h.signalRef=function(e){return this.signals[e]?n.i(l.ref)(this.signals[e]):(this.lambdas.hasOwnProperty(e)||(this.lambdas[e]=this.add(n.i(l.operator)(null))),n.i(l.ref)(this.lambdas[e]))},h.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,r=e.length;t<r;++t){var i=e[t],a=n.i(c.default)(i,this),o=this.lambdas[i];o.params=a.$params,o.update=a.$expr}},h.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},h.objectProperty=function(e){return e&&n.i(d.isObject)(e)?this.signalRef(e.signal||a(e)):e},h.addBinding=function(e,t){this.bindings||n.i(d.error)("Nested signals do not support binding: "+n.i(d.stringValue)(e)),this.bindings.push(n.i(d.extend)({signal:e},t))},h.addScaleProj=function(e,t){this.scales.hasOwnProperty(e)&&n.i(d.error)("Duplicate scale or projection name: "+n.i(d.stringValue)(e)),this.scales[e]=this.add(t)},h.addScale=function(e,t){this.addScaleProj(e,n.i(f.Scale)(t))},h.addProjection=function(e,t){this.addScaleProj(e,n.i(f.Projection)(t))},h.getScale=function(e){return this.scales[e]||n.i(d.error)("Unrecognized scale name: "+n.i(d.stringValue)(e)),this.scales[e]},h.projectionRef=h.scaleRef=function(e){return n.i(l.ref)(this.getScale(e))},h.projectionType=h.scaleType=function(e){return this.getScale(e).params.type},h.addData=function(e,t){return this.data.hasOwnProperty(e)&&n.i(d.error)("Duplicate data set name: "+n.i(d.stringValue)(e)),this.data[e]=t},h.getData=function(e){return this.data[e]||n.i(d.error)("Undefined data set name: "+n.i(d.stringValue)(e)),this.data[e]},h.addDataPipeline=function(e,t){return this.data.hasOwnProperty(e)&&n.i(d.error)("Duplicate data set name: "+n.i(d.stringValue)(e)),this.addData(e,s.default.fromEntries(this,t))}},function(e,t,n){"use strict";function r(e,t,o,u){var s,l,c;if(e.signal)s="datum",c=n.i(i.default)(e.signal,t,o,u);else if(e.group||e.parent){for(l=Math.max(1,e.level||1),s="item";l-- >0;)s+=".mark.group";e.parent?(c=e.parent,s+=".datum"):c=e.group}else e.datum?(s="datum",c=e.datum):n.i(a.error)("Invalid field reference: "+n.i(a.stringValue)(e));return e.signal||(n.i(a.isString)(c)?(u[c]=1,c=n.i(a.splitAccessPath)(c).map(a.stringValue).join("][")):c=r(c,t,o,u)),s+"["+c+"]"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(129),a=n(0);t.default=function(e,t,i,o){return r(n.i(a.isObject)(e)?e:{datum:e},t,i,o)}},function(e,t,n){"use strict";function r(e,t){if(!n.i(s.isString)(e))return-1;var r=t.scaleType(e);return"band"===r||"point"===r?1:0}function i(e,t,r,i){var l;if(n.i(s.isString)(e))l=u.scalePrefix+e,r.hasOwnProperty(l)||(r[l]=t.scaleRef(e)),l=n.i(s.stringValue)(l);else{for(l in t.scales)r[u.scalePrefix+l]=t.scaleRef(l);l=n.i(s.stringValue)(u.scalePrefix)+"+"+(e.signal?"("+n.i(a.default)(e.signal,t,r,i)+")":n.i(o.default)(e,t,r,i))}return"_["+l+"]"}Object.defineProperty(t,"__esModule",{value:!0}),t.getScale=i;var a=n(129),o=n(351),u=n(130),s=n(0);t.default=function(e,t,n,a,o){var u,s,l,c=i(e.scale,n,a,o);return null!=e.range?(u=+e.range,s=c+".range()",t=0===u?s+"[0]":"($="+s+","+(1===u?"$[$.length-1]":"$[0]+"+u+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=c+"("+t+")"),e.band&&(l=r(e.scale,n))&&(s=c+".bandwidth",u=+e.band,u=s+"()"+(1===u?"":"*"+u),l<0&&(u="("+s+"?"+u+":0)"),t=(t?t+"+":"")+u,e.extra&&(t="(datum.extra?"+c+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,i){return e+"["+n.i(r.stringValue)(t)+"]="+i+";"}},function(e,t,n){"use strict";function r(e,t,n){return 1===arguments.length?j[e]:(j[e]=t,n&&(N[e]=n),D&&(D.functions[e]=A+e),this)}function i(e){var t=n.i(o.functions)(e);T.forEach(function(e){t[e]=C+e});for(var r in j)t[r]=A+r;return t}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"functionContext",function(){return j}),t.expressionFunction=r,n.d(t,"codegenParams",function(){return R}),n.d(t,"codeGenerator",function(){return D});var a=n(1),o=n(319),u=n(63),s=n(0),l=n(34),c=n(8),f=n(880),d=n(886),h=n(883),p=n(882),v=n(877),m=n(885),g=n(891),y=n(879),_=n(889),b=n(356),x=n(887),w=n(881),M=n(208),O=n(890),P=n(355),S=n(878),k=n(884),E=n(888),j={random:function(){return n.i(u.random)()},isArray:s.isArray,isBoolean:s.isBoolean,isDate:s.isDate,isNumber:s.isNumber,isObject:s.isObject,isRegExp:s.isRegExp,isString:s.isString,isTuple:a.isTuple,toBoolean:s.toBoolean,toDate:s.toDate,toNumber:s.toNumber,toString:s.toString,pad:s.pad,peek:s.peek,truncate:s.truncate,rgb:l.rgb,lab:l.lab,hcl:l.hcl,hsl:l.hsl,sequence:c.range,format:f.format,utcFormat:f.utcFormat,utcParse:f.utcParse,timeFormat:f.timeFormat,timeParse:f.timeParse,monthFormat:f.monthFormat,monthAbbrevFormat:f.monthAbbrevFormat,dayFormat:f.dayFormat,dayAbbrevFormat:f.dayAbbrevFormat,quarter:d.quarter,utcquarter:d.utcquarter,warn:h.warn,info:h.info,debug:h.debug,inScope:p.default,clampRange:v.default,pinchDistance:m.pinchDistance,pinchAngle:m.pinchAngle,screen:g.screen,containerSize:g.containerSize,windowSize:g.windowSize,span:_.default,flush:y.default,bandspace:b.bandspace,inrange:P.default,setdata:M.setdata,panLinear:s.panLinear,panLog:s.panLog,panPow:s.panPow,zoomLinear:s.zoomLinear,zoomLog:s.zoomLog,zoomPow:s.zoomPow,encode:S.default,modify:k.default},T=["view","item","group","xy","x","y"],C="event.vega.",A="this.",N={};r("bandwidth",b.bandwidth,b.scaleVisitor),r("copy",b.copy,b.scaleVisitor),r("domain",b.domain,b.scaleVisitor),r("range",b.range,b.scaleVisitor),r("invert",b.invert,b.scaleVisitor),r("scale",b.scale,b.scaleVisitor),r("gradient",x.default,b.scaleVisitor),r("geoArea",w.geoArea,b.scaleVisitor),r("geoBounds",w.geoBounds,b.scaleVisitor),r("geoCentroid",w.geoCentroid,b.scaleVisitor),r("indata",M.indata,M.indataVisitor),r("data",M.data,M.dataVisitor),r("vlSingle",E.vlPoint,M.dataVisitor),r("vlSingleDomain",E.vlPointDomain,M.dataVisitor),r("vlMulti",E.vlPoint,E.vlMultiVisitor),r("vlMultiDomain",E.vlPointDomain,E.vlMultiVisitor),r("vlInterval",E.vlInterval,M.dataVisitor),r("vlIntervalDomain",E.vlIntervalDomain,M.dataVisitor),r("treePath",O.treePath,M.dataVisitor),r("treeAncestors",O.treeAncestors,M.dataVisitor);var R={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+n.i(s.stringValue)("$"+e)+"]"},functions:i,constants:o.constants,visitors:N},D=n.i(o.codegen)(R)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),n=void 0===n||n,r=void 0===r||r,(n?a<=e:a<e)&&(r?e<=o:e<o)}},function(e,t,n){"use strict";function r(e,t){var r;return n.i(m.isFunction)(e)?e:n.i(m.isString)(e)?(r=t.scales[e])&&r.value:void 0}function i(e,t,n){var r=p.scalePrefix+n;if(!t.hasOwnProperty(r))try{t[r]=e.scaleRef(n)}catch(e){}}function a(e,t,n,r){if(t[0].type===h.Literal)i(n,r,t[0].value);else if(t[0].type===h.Identifier)for(e in n.scales)i(n,r,e)}function o(e,t){var n=r(e,(t||this).context);return n&&n.range?n.range():[]}function u(e,t){var n=r(e,(t||this).context);return n?n.domain():[]}function s(e,t){var n=r(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function l(e,t,r){return n.i(v.bandSpace)(e||0,t||0,r||0)}function c(e,t){var n=r(e,(t||this).context);return n?n.copy():void 0}function f(e,t,n){var i=r(e,(n||this).context);return i?i(t):void 0}function d(e,t,i){var a=r(e,(i||this).context);return a?n.i(m.isArray)(t)?(a.invertRange||a.invert)(t):(a.invert||a.invertExtent)(t):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getScale=r,t.scaleVisitor=a,t.range=o,t.domain=u,t.bandwidth=s,t.bandspace=l,t.copy=c,t.scale=f,t.invert=d;var h=n(207),p=n(130),v=n(58),m=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.default=function(e,t,n,i,a,o,u){return{type:r.GroupMark,name:n,role:e,style:t,from:i,interactive:a,encode:o,marks:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(12);t.default=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")?e.type===r.GroupMark?i.ScopeRole:t||i.MarkRole:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),i=n(912);t.default=function(e,t){var a=t.getSignal(e.name);if(e.update){var o=n.i(r.default)(e.update,t);a.update=o.$expr,a.params=o.$params}e.on&&e.on.forEach(function(e){n.i(i.default)(e,t,a.id)})}},function(e,t,n){"use strict";function r(e){return e===h?d:e||d}function i(e,t){return(e.merge?a:e.stream?o:e.type?u:n.i(f.error)("Invalid stream specification: "+n.i(f.stringValue)(e)))(e,t)}function a(e,t){var n=e.merge.map(function(e){return i(e,t)}),r=s({merge:n},e,t);return t.addStream(r).id}function o(e,t){var n=i(e.stream,t),r=s({stream:n},e,t);return t.addStream(r).id}function u(e,t){var n=t.event(r(e.source),e.type),i=s({stream:n},e,t);return 1===Object.keys(i).length?n:t.addStream(i).id}function s(e,t,r){var a=t.between;return a&&(2!==a.length&&n.i(f.error)('Stream "between" parameter must have 2 entries: '+n.i(f.stringValue)(t)),e.between=[i(a[0],r),i(a[1],r)]),a=t.filter?n.i(f.array)(t.filter):[],(t.marktype||t.markname||t.markrole)&&a.push(l(t.marktype,t.markname,t.markrole)),t.source===h&&a.push("inScope(event.item)"),a.length&&(e.filter=n.i(c.default)("("+a.join(")&&(")+")").$expr),null!=(a=t.throttle)&&(e.throttle=+a),null!=(a=t.debounce)&&(e.debounce=+a),t.consume&&(e.consume=!0),e}function l(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}Object.defineProperty(t,"__esModule",{value:!0});var c=n(57),f=n(0),d="view",h="scope";t.default=function(e,t){return e.signal?t.getSignal(e.signal).id:e.scale?t.getScale(e.scale).id:i(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),i=n(20);t.default=function(e,t,a){var o,u,s=e.remove,l=e.insert,c=e.toggle,f=e.modify,d=e.values,h=t.add(n.i(i.operator)());o="if("+e.trigger+',modify("'+a+'",'+[l,s,c,f,d].map(function(e){return null==e?"null":e}).join(",")+"),0)",u=n.i(r.default)(o,t),h.update=u.$expr,h.params=u.$params}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(363);n.d(t,"parse",function(){return r.default});var i=n(915);n.d(t,"context",function(){return i.default});var a=n(94);n.d(t,"expression",function(){return a.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(916),i=n(918),a=n(919);t.default=function(e,t){var o=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),o.forEach(function(e){n.i(r.default)(e,t)}),o.forEach(function(e){n.i(r.parseOperatorParameters)(e,t)}),(e.streams||[]).forEach(function(e){n.i(i.default)(e,t)}),(e.updates||[]).forEach(function(e){n.i(a.default)(e,t)}),t.resolve()}},function(e,t,n){"use strict";function r(e,t,a){a=a||{};var o,u;for(o in e)u=e[o],u&&u.$expr&&u.$params&&r(u.$params,t,a),a[o]=n.i(g.isArray)(u)?u.map(function(e){return i(e,t)}):i(u,t);return a}function i(e,t){if(!e||!n.i(g.isObject)(e))return e;for(var r,i=0,a=y.length;i<a;++i)if(r=y[i],e.hasOwnProperty(r.key))return r.parse(e,t);return e}function a(e,t){return t.get(e.$ref)||n.i(g.error)("Operator not defined: "+e.$ref)}function o(e,t){var r="e:"+e.$expr;return t.fn[r]||(t.fn[r]=n.i(g.accessor)(n.i(v.parameterExpression)(e.$expr,t),e.$fields,e.$name))}function u(e,t){var r="k:"+e.$key+"_"+!!e.$flat;return t.fn[r]||(t.fn[r]=n.i(g.key)(e.$key,e.$flat))}function s(e,t){if(!e.$field)return null;var r="f:"+e.$field+"_"+e.$name;return t.fn[r]||(t.fn[r]=n.i(g.field)(e.$field,e.$name))}function l(e,t){var r="c:"+e.$compare+"_"+e.$order,i=n.i(g.array)(e.$compare).map(function(e){return e&&e.$tupleid?m.tupleid:e});return t.fn[r]||(t.fn[r]=n.i(g.compare)(i,e.$order))}function c(e,t){var r,i,a=e.$encode,o={};for(r in a)i=a[r],o[r]=n.i(g.accessor)(n.i(v.encodeExpression)(i.$expr,t),i.$fields),o[r].output=i.$output;return o}function f(e,t){return t}function d(e,t){var r=e.$subflow;return function(e,i,a){var o=n.i(p.default)(r,t.fork()),u=o.get(r.operators[0].id),s=o.signals.parent;return s&&s.set(a),u}}function h(){return m.tupleid}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var p=n(363),v=n(94),m=n(1),g=n(0),y=[{key:"$ref",parse:a},{key:"$key",parse:u},{key:"$expr",parse:o},{key:"$field",parse:s},{key:"$encode",parse:c},{key:"$compare",parse:l},{key:"$context",parse:f},{key:"$subflow",parse:d},{key:"$tupleid",parse:h}]},function(e,t,n){"use strict";function r(e){return(e+"").toLowerCase()}function i(e){return"operator"===r(e)}function a(e){return"collect"===r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.canonicalType=r,t.isOperator=i,t.isCollect=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}},function(e,t,n){"use strict";function r(e){o.default.call(this,e),this._down=null,this._touch=null,this._first=!0}function i(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function a(e){return function(t){this.fire(e,t),this._active=null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(211),u=n(61),s=n(382),l=n(45),c=n(0),f=n.i(c.inherits)(r,o.default);f.initialize=function(e,t,r){var i=this._canvas=e&&n.i(l.domFind)(e,"canvas");if(i){var a=this;this.events.forEach(function(e){i.addEventListener(e,function(t){f[e]?f[e].call(a,t):a.fire(e,t)})})}return o.default.prototype.initialize.call(this,e,t,r)},f.canvas=function(){return this._canvas},f.context=function(){return this._canvas.getContext("2d")},f.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],f.DOMMouseScroll=function(e){this.fire("mousewheel",e)},f.mousemove=i("mousemove","mouseover","mouseout"),f.dragover=i("dragover","dragenter","dragleave"),f.mouseout=a("mouseout"),f.dragleave=a("dragleave"),f.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},f.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},f.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},f.touchmove=function(e){this.fire("touchmove",e,!0)},f.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},f.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,o=this._handlers[e];if("click"===e&&a&&a.href?this.handleHref(t,a,a.href):("mouseover"===e||"mouseout"===e)&&a&&a.tooltip&&this.handleTooltip(t,a,"mouseover"===e?a.tooltip:null),o)for(t.vegaType=e,r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,a)},f.on=function(e,t){var n=this.eventName(e),r=this._handlers;return(r[n]||(r[n]=[])).push({type:e,handler:t}),this},f.off=function(e,t){var n,r=this.eventName(e),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===e&&(t&&i[n].handler!==t||i.splice(n,1));return this}},f.pickEvent=function(e){var t=n.i(s.default)(e,this._canvas),r=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-r[0],t[1]-r[1])},f.pick=function(e,t,n,r,i){var a=this.context();return u.default[e.marktype].pick.call(this,a,e,t,n,r,i)}},function(e,t,n){"use strict";function r(e){o.default.call(this,e),this._redraw=!1,this._dirty=new u.default}function i(e,t,n){return t.expand(1).round(),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}function a(e,t){if(null==t)return e;for(var n=m.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(134),u=n(59),s=n(61),l=n(45),c=n(946),f=n(137),d=n(949),h=n(0),p=n.i(h.inherits)(r,o.default),v=o.default.prototype,m=new u.default;p.initialize=function(e,t,r,i){return this._canvas=n.i(f.default)(1,1),e&&(n.i(l.domClear)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),v.initialize.call(this,e,t,r,i)},p.resize=function(e,t,r){return v.resize.call(this,e,t,r),n.i(d.default)(this._canvas,this._width,this._height,this._origin),this._redraw=!0,this},p.canvas=function(){return this._canvas},p.context=function(){return this._canvas?this._canvas.getContext("2d"):null},p.dirty=function(e){var t=a(e.bounds,e.mark.group);this._dirty.union(t)},p._render=function(e){var t=this.context(),n=this._origin,r=this._width,a=this._height,o=this._dirty;return t.save(),this._redraw||o.empty()?(this._redraw=!1,o=null):o=i(t,o,n),this.clear(-n[0],-n[1],r,a),this.draw(t,e,o),t.restore(),this._dirty.clear(),this},p.draw=function(e,t,r){var i=s.default[t.marktype];t.clip&&n.i(c.default)(e,t),i.draw.call(this,e,t,r),t.clip&&e.restore()},p.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}},function(e,t,n){"use strict";function r(e){i.default.call(this,e),this.items=this.items||[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(370),a=n(0);n.i(a.inherits)(r,i.default)},function(e,t,n){"use strict";function r(e){this.mark=e,this.bounds=this.bounds||new i.default}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(59)},function(e,t,n){"use strict";function r(e){this._pending=0,this._loader=e||n.i(u.loader)()}function i(e){e._pending+=1}function a(e){e._pending-=1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(948),u=n(92),s=r.prototype;s.pending=function(){return this._pending},s.sanitizeURL=function(e){var t=this;return i(t),t._loader.sanitize(e,{context:"href"}).then(function(e){return a(t),e}).catch(function(){return a(t),null})},s.loadImage=function(e){var t=this;return i(t),t._loader.sanitize(e,{context:"image"}).then(function(e){var n=e.href;if(!n||!o.default)throw{url:n};var r=new o.default;return r.onload=function(){a(t),r.loaded=!0},r.onerror=function(){a(t),r.loaded=!1},r.src=n,r}).catch(function(e){return a(t),{loaded:!1,width:0,height:0,src:e&&e.url||""}})},s.ready=function(){var e=this;return new Promise(function(t){function n(r){e.pending()?setTimeout(function(){n(!0)},10):t(r)}n(!1)})}},function(e,t,n){"use strict";function r(e){a.default.call(this,e);var t=this;t._hrefHandler=i(t,function(e,n){n&&n.href&&t.handleHref(e,n,n.href)}),t._tooltipHandler=i(t,function(e,n){n&&n.tooltip&&t.handleTooltip(e,n,"mouseover"===e.type?n.tooltip:null)})}function i(e,t){return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,t.call(e._obj,n,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(211),o=n(45),u=n(0),s=n.i(u.inherits)(r,a.default);s.initialize=function(e,t,r){var i=this._svg;return i&&(i.removeEventListener("click",this._hrefHandler),i.removeEventListener("mouseover",this._tooltipHandler),i.removeEventListener("mouseout",this._tooltipHandler)),this._svg=i=e&&n.i(o.domFind)(e,"svg"),i&&(i.addEventListener("click",this._hrefHandler),i.addEventListener("mouseover",this._tooltipHandler),i.addEventListener("mouseout",this._tooltipHandler)),a.default.prototype.initialize.call(this,e,t,r)},s.svg=function(){return this._svg},s.on=function(e,t){var n=this.eventName(e),r=this._handlers,a={type:e,handler:t,listener:i(this,t)};return(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener),this},s.off=function(e,t){var n,r=this.eventName(e),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===e&&!t||a[n].handler===t)&&(this._svg&&i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}}},function(e,t,n){"use strict";function r(e){f.default.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}function i(e,t,r){var i,a,o;for(e=n.i(h.domChild)(e,r,"linearGradient",x),e.setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),i=0,a=t.stops.length;i<a;++i)o=n.i(h.domChild)(e,i,"stop",x),o.setAttribute("offset",t.stops[i].offset),o.setAttribute("stop-color",t.stops[i].color);n.i(h.domClear)(e,i)}function a(e,t,r){var i;e=n.i(h.domChild)(e,r,"clipPath",x),e.setAttribute("id",t.id),i=n.i(h.domChild)(e,0,"rect",x),i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",t.width),i.setAttribute("height",t.height)}function o(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function u(e,t,r){t=t.lastChild;var i,a=0;n.i(m.visit)(r,function(n){i=e.draw(t,n,i),++a}),n.i(h.domClear)(t,1+a)}function s(e,t,r,i){var a,o=e._svg;if(!o&&(a=t.ownerDocument,o=n.i(h.domCreate)(a,i,x),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){var u=n.i(h.domCreate)(a,"path",x);u.setAttribute("class","background"),o.appendChild(u),u.__data__=e;var s=n.i(h.domCreate)(a,"g",x);o.appendChild(s),s.__data__=e}return!a&&o.previousSibling===r&&r||t.insertBefore(o,r?r.nextSibling:t.firstChild),o}function l(e,t,n){t!==P[e]&&(null!=t?n?O.setAttributeNS(n,e,t):O.setAttribute(e,t):n?O.removeAttributeNS(n,e):O.removeAttribute(e),P[e]=t)}function c(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var f=n(134),d=n(61),h=n(45),p=n(217),v=n(142),m=n(41),g=n(140),y=n(384),_=n(385),b=n(0),x=y.default.xmlns,w=n.i(b.inherits)(r,f.default),M=f.default.prototype;w.initialize=function(e,t,r,i){return e&&(this._svg=n.i(h.domChild)(e,0,"svg",x),this._svg.setAttribute("class","marks"),n.i(h.domClear)(e,1),this._root=n.i(h.domChild)(this._svg,0,"g",x),n.i(h.domClear)(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),M.initialize.call(this,e,t,r,i)},w.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),M.background.apply(this,arguments)},w.resize=function(e,t,n){return M.resize.call(this,e,t,n),this._svg&&(this._svg.setAttribute("width",this._width),this._svg.setAttribute("height",this._height),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},w.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var t in y.default)e[t]=y.default[t];var r=this._bgcolor?n.i(p.openTag)("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+n.i(p.closeTag)("rect"):"";return n.i(p.openTag)("svg",e)+r+this._svg.innerHTML+n.i(p.closeTag)("svg")},w._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),n.i(h.domClear)(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},w.updateDefs=function(){var e,t=this._svg,r=this._defs,o=r.el,u=0;for(e in r.gradient)o||(r.el=o=n.i(h.domChild)(t,0,"defs",x)),i(o,r.gradient[e],u++);for(e in r.clipping)o||(r.el=o=n.i(h.domChild)(t,0,"defs",x)),a(o,r.clipping[e],u++);o&&(0===u?(t.removeChild(o),r.el=null):n.i(h.domClear)(o,u))},w._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},w.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},w.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},w._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,a,u,s,l=++this._dirtyID;for(a=0,u=e.length;a<u;++a)t=e[a],n=t.mark,n.marktype!==r&&(r=n.marktype,i=d.default[r]),n.zdirty&&n.dirty!==l&&(this._dirtyAll=!1,n.dirty=l,o(n.group,l)),t.exit?(i.nested&&n.items.length?(s=n.items[0],s._svg&&this._update(i,s._svg,s)):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t,t._update!==l&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,o(t,l)),t._update=l));return!this._dirtyAll},w.draw=function(e,t,r){function i(e){var t=o.isDirty(e),n=s(e,a,p,l.tag);t&&(o._update(l,n,e),f&&u(o,n,e)),p=n,++v}if(!this.isDirty(t))return t._svg;var a,o=this,l=d.default[t.marktype],c=!1===t.interactive?"none":null,f="g"===l.tag,p=null,v=0;return a=s(t,e,r,"g"),a.setAttribute("class",n.i(h.cssClass)(t)),!f&&c&&a.style.setProperty("pointer-events",c),t.clip&&a.setAttribute("clip-path",n.i(g.default)(o,t,t.group)),l.nested?t.items.length&&i(t.items[0]):n.i(m.visit)(t,i),n.i(h.domClear)(a,v),a};var O=null,P=null,S={group:function(e,t,n){P=t.__values__,O=t.childNodes[1],e.foreground(l,n,this),O=t.childNodes[0],e.background(l,n,this);var r=!1===n.mark.interactive?"none":null;r!==P.events&&(O.style.setProperty("pointer-events",r),P.events=r)},text:function(e,t,r){var i=n.i(v.textValue)(r);i!==P.text&&(t.textContent=i,P.text=i),(i=n.i(v.font)(r))!==P.font&&(t.style.setProperty("font",i),P.font=i)}};w._update=function(e,t,n){O=t,P=t.__values__,e.attr(l,n,this);var r=S[e.type];r&&r.call(this,e,t,n),this.style(O,n)},w.style=function(e,t){if(null!=t){var n,r,i,a,o;for(n=0,r=_.styleProperties.length;n<r;++n)i=_.styleProperties[n],(o=t[i])!==P[i]&&(a=_.styles[i],null==o?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+c()+"#"+o.id+")"),e.style.setProperty(a,o+"")),P[i]=o)}}},function(e,t,n){"use strict";function r(e){u.default.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}function i(e,t,n,r){_[r||e]=t}function a(e,t,r,i){if(null==e)return"";var a,o,u,s,l,c="";for("bgrect"===r&&!1===t.interactive&&(c+="pointer-events: none;"),"text"===r&&(c+="font: "+n.i(f.font)(e)+";"),a=0,o=v.styleProperties.length;a<o;++a)u=v.styleProperties[a],s=v.styles[u],l=e[u],null==l?"fill"===s&&(c+=(c.length?" ":"")+"fill: none;"):(l.id&&(i.gradient[l.id]=l,l="url(#"+l.id+")"),c+=(c.length?" ":"")+s+": "+l+";");return c?'style="'+c+'"':null}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(134),s=n(61),l=n(45),c=n(217),f=n(142),d=n(41),h=n(140),p=n(384),v=n(385),m=n(0),g=n.i(m.inherits)(r,u.default),y=u.default.prototype;g.resize=function(e,t,r){y.resize.call(this,e,t,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var u in p.default)o[u]=p.default[u];return a.head=n.i(c.openTag)("svg",o),this._bgcolor?a.bg=n.i(c.openTag)("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+n.i(c.closeTag)("rect"):a.bg="",a.root=n.i(c.openTag)("g",{transform:"translate("+i+")"}),a.foot=n.i(c.closeTag)("g")+n.i(c.closeTag)("svg"),this},g.background=function(){var e=y.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin),e},g.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},g._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},g.buildDefs=function(){var e,t,r,i,a=this._defs,o="";for(t in a.gradient){for(r=a.gradient[t],i=r.stops,o+=n.i(c.openTag)("linearGradient",{id:t,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2}),e=0;e<i.length;++e)o+=n.i(c.openTag)("stop",{offset:i[e].offset,"stop-color":i[e].color})+n.i(c.closeTag)("stop");o+=n.i(c.closeTag)("linearGradient")}for(t in a.clipping)r=a.clipping[t],o+=n.i(c.openTag)("clipPath",{id:t}),o+=n.i(c.openTag)("rect",{x:0,y:0,width:r.width,height:r.height})+n.i(c.closeTag)("rect"),o+=n.i(c.closeTag)("clipPath");return o.length>0?n.i(c.openTag)("defs")+o+n.i(c.closeTag)("defs"):""};var _;g.attributes=function(e,t){return _={},e(i,t,this),_},g.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},g.mark=function(e){function t(t){var s=i.href(t);s&&(m+=n.i(c.openTag)("a",s)),r="g"!==p?a(t,e,p,v):null,m+=n.i(c.openTag)(p,i.attributes(u.attr,t),r),"text"===p?m+=o(n.i(f.textValue)(t)):"g"===p&&(m+=n.i(c.openTag)("path",i.attributes(u.background,t),a(t,e,"bgrect",v))+n.i(c.closeTag)("path"),m+=n.i(c.openTag)("g",i.attributes(u.foreground,t))+i.markGroup(t)+n.i(c.closeTag)("g")),m+=n.i(c.closeTag)(p),s&&(m+=n.i(c.closeTag)("a"))}var r,i=this,u=s.default[e.marktype],p=u.tag,v=this._defs,m="";return"g"!==p&&!1===e.interactive&&(r='style="pointer-events: none;"'),m+=n.i(c.openTag)("g",{class:n.i(l.cssClass)(e),"clip-path":e.clip?n.i(h.default)(i,e,e.group):null},r),u.nested?e.items&&e.items.length&&t(e.items[0]):n.i(d.visit)(e,t),m+n.i(c.closeTag)("g")},g.markGroup=function(e){var t=this,r="";return n.i(d.visit)(e,function(e){r+=t.mark(e)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59),i=n(61);t.default=function(e,t,n){var a=i.default[e.mark.marktype],o=t||a.bound;return a.nested&&(e=e.mark),o(e.bounds||(e.bounds=new r.default),e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59),i=n(375),a=n(61),o={mark:null};t.default=function(e,t,u){var s,l,c,f,d=a.default[e.marktype],h=d.bound,p=e.items,v=p&&p.length;if(d.nested)return v?c=p[0]:(o.mark=e,c=o),f=n.i(i.default)(c,h,u),t=t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new r.default,v)for(s=0,l=p.length;s<l;++s)t.union(n.i(i.default)(p[s],h,u));return e.bounds=t}},function(e,t,n){"use strict";function r(e,t,n){var r=a.hasOwnProperty(e)&&a[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(177),a={basis:{curve:i.curveBasis},"basis-closed":{curve:i.curveBasisClosed},"basis-open":{curve:i.curveBasisOpen},bundle:{curve:i.curveBundle,tension:"beta",value:.85},cardinal:{curve:i.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:i.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:i.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:i.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:i.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:i.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:i.curveLinear},"linear-closed":{curve:i.curveLinearClosed},monotone:{horizontal:i.curveMonotoneY,vertical:i.curveMonotoneX},natural:{curve:i.curveNatural},step:{curve:i.curveStep},"step-after":{curve:i.curveStepAfter},"step-before":{curve:i.curveStepBefore}}},function(e,t,n){"use strict";function r(e){return e.x}function i(e){return e.y}function a(e){return e.width}function o(e){return e.height}function u(e){return function(){return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(49);t.default=function(){function e(e,r,i){var a,o=null!=r?r:+t.call(this,e),u=null!=i?i:+l.call(this,e),p=+c.call(this,e),v=+f.call(this,e),m=+d.call(this,e);if(h||(h=a=n.i(s.path)()),m<=0)h.rect(o,u,p,v);else{var g=o+p,y=u+v;h.moveTo(o+m,u),h.lineTo(g-m,u),h.quadraticCurveTo(g,u,g,u+m),h.lineTo(g,y-m),h.quadraticCurveTo(g,y,g-m,y),h.lineTo(o+m,y),h.quadraticCurveTo(o,y,o,y-m),h.lineTo(o,u+m),h.quadraticCurveTo(o,u,o+m,u),h.closePath()}if(a)return h=null,a+""||null}var t=r,l=i,c=a,f=o,d=u(0),h=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:u(+n),e):t},e.y=function(t){return arguments.length?(l="function"==typeof t?t:u(+t),e):l},e.width=function(t){return arguments.length?(c="function"==typeof t?t:u(+t),e):c},e.height=function(t){return arguments.length?(f="function"==typeof t?t:u(+t),e):f},e.cornerRadius=function(t){return arguments.length?(d="function"==typeof t?t:u(+t),e):d},e.context=function(t){return arguments.length?(h=null==t?null:t,e):h},e}},function(e,t,n){"use strict";function r(e){return l.hasOwnProperty(e)?l[e]:i(e)}function i(e){if(!c.hasOwnProperty(e)){var t=n.i(a.default)(e);c[e]={draw:function(e,r){n.i(o.default)(e,t,0,0,Math.sqrt(r)/2)}}}return c[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(136),o=n(214),u=2*Math.PI,s=Math.sqrt(3)/2,l={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,u)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=s*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=s*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=s*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=s*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}}},c={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=Math.PI;t.default=function(){function e(e,t,n){var r=n/2;if(l){var a=f-t,o=e-c;if(a||o){var u=Math.sqrt(a*a+o*o),s=(a/=u)*d,p=(o/=u)*d,v=Math.atan2(o,a);h.moveTo(c-s,f-p),h.lineTo(e-a*r,t-o*r),h.arc(e,t,r,v-i,v),h.lineTo(c+s,f+p),h.arc(c,f,d,v,v+i)}else h.arc(e,t,r,0,2*i);h.closePath()}else l=1;c=e,f=t,d=r}function t(t){var i,c,f,d=t.length,p=!1;for(null==h&&(h=f=n.i(r.path)()),i=0;i<=d;++i)!(i<d&&s(c=t[i],i,t))===p&&(p=!p)&&(l=0),p&&e(+a(c,i,t),+o(c,i,t),+u(c,i,t));if(f)return h=null,f+""||null}var a,o,u,s,l,c,f,d,h=null;return t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=e,t):u},t.defined=function(e){return arguments.length?(s=e,t):s},t.context=function(e){return arguments.length?(h=null==e?null:e,t):h},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(947);t.default=function(e,t,i){return i.id?n.i(r.default)(e,i,t.bounds):i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}},function(e,t,n){"use strict";function r(e,t){return JSON.stringify(e,u,t)}function i(e){return a("string"==typeof e?JSON.parse(e):e)}function a(e){var t,r,i,u=e.marktype,s=e.items;if(s)for(r=0,i=s.length;r<i;++r)t=u?"mark":"group",s[r][t]=e,s[r].zindex&&(s[r][t].zdirty=!0),"group"===(u||t)&&a(s[r]);return u&&n.i(o.default)(e),e}Object.defineProperty(t,"__esModule",{value:!0}),t.sceneToJSON=r,t.sceneFromJSON=i;var o=n(376),u=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"styles",function(){return r}),n.d(t,"styleProperties",function(){return i});var r={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},i=Object.keys(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);t.default=function(e,t){var i,a,o=NaN,u={};return u.mean=function(e){return arguments.length?(i=e||0,o=NaN,u):i},u.stdev=function(e){return arguments.length?(a=null==e?1:e,o=NaN,u):a},u.sample=function(){var e,t,u=0,s=0;if(o===o)return u=o,o=NaN,u;do{u=2*n.i(r.random)()-1,s=2*n.i(r.random)()-1,e=u*u+s*s}while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),o=i+s*t*a,i+u*t*a},u.pdf=function(e){var t=Math.exp(Math.pow(e-i,2)/(-2*Math.pow(a,2)));return 1/(a*Math.sqrt(2*Math.PI))*t},u.cdf=function(e){var t,n=(e-i)/a,r=Math.abs(n);if(r>37)t=0;else{var o,u=Math.exp(-r*r/2);r<7.07106781186547?(o=.0352624965998911*r+.700383064443688,o=o*r+6.37396220353165,o=o*r+33.912866078383,o=o*r+112.079291497871,o=o*r+221.213596169931,o=o*r+220.206867912376,t=u*o,o=.0883883476483184*r+1.75566716318264,o=o*r+16.064177579207,o=o*r+86.7807322029461,o=o*r+296.564248779674,o=o*r+637.333633378831,o=o*r+793.826512519948,o=o*r+440.413735824752,t/=o):(o=r+.65,o=r+4/o,o=r+3/o,o=r+2/o,o=r+1/o,t=u/o/2.506628274631)}return n>0?1-t:t},u.icdf=function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,n=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=2/(Math.PI*n)+Math.log(1-Math.pow(t,2))/2,o=Math.log(1-t*t)/n,u=(t>0?1:-1)*Math.sqrt(Math.sqrt(r*r-o)-r);return i+a*Math.SQRT2*u},u.mean(e).stdev(t)}},function(e,t,n){"use strict";function r(e){return null===e?NaN:+e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,i=[],a=e.length,o=-1;if(null==t)for(;++o<a;)isNaN(n=r(e[o]))||i.push(n);else for(;++o<a;)isNaN(n=r(t(e[o],o,e)))||i.push(n);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(387),i=n(8);t.default=function(e,t){var a=n.i(r.default)(e,t);return[n.i(i.quantile)(a.sort(i.ascending),.25),n.i(i.quantile)(a,.5),n.i(i.quantile)(a,.75)]}},function(e,t,n){"use strict";function r(e){u.Transform.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(392),a=n(143),o=n(394),u=n(1),s=n(0);r.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:a.ValidAggregateOps},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var l=n.i(s.inherits)(r,u.Transform);l.transform=function(e,t){var n,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=e.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(this.value=this.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),i.modifies(this._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},l.cross=function(){function e(e){var t,n,r,u;for(t in e)for(r=e[t].tuple,n=0;n<o;++n)a[n][u=r[i[n]]]=u}function t(e,u,s){var l,c,f=i[s],d=a[s++];for(l in d)u[f]=d[l],c=e?e+"|"+l:l,s<o?t(c,u,s):r[c]||n.cell(c,u)}var n=this,r=n.value,i=n._dnames,a=i.map(function(){return{}}),o=i.length;e(n._prev),e(r),t("",{},0)},l.init=function(e){function t(e){for(var t,i=n.i(s.array)(n.i(s.accessorFields)(e)),a=0,o=i.length;a<o;++a)u[t=i[a]]||(u[t]=1,r.push(t))}var r=this._inputs=[],o=this._outputs=[],u={};this._dims=n.i(s.array)(e.groupby),this._dnames=this._dims.map(function(e){var r=n.i(s.accessorName)(e);return t(e),o.push(r),r}),this.cellkey=e.key?e.key:n.i(i.groupkey)(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var l,c,f,d,h,p,v=e.fields||[null],m=e.ops||["count"],g=e.as||[],y=v.length,_={};for(y!==m.length&&n.i(s.error)("Unmatched number of fields and aggregate ops."),p=0;p<y;++p)l=v[p],c=m[p],null==l&&"count"!==c&&n.i(s.error)("Null aggregate field specified."),d=n.i(s.accessorName)(l),h=n.i(a.measureName)(c,d,g[p]),o.push(h),"count"!==c?(f=_[d],f||(t(l),f=_[d]=[],f.field=l,this._measures.push(f)),"count"!==c&&(this._countOnly=!1),f.push(n.i(a.createMeasure)(c,h))):this._counts.push(h);return this._measures=this._measures.map(function(e){return n.i(a.compileMeasures)(e,e.field)}),{}},l.cellkey=n.i(i.groupkey)(),l.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},l.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new o.default),n},l.newtuple=function(e,t){var r,i,a=this._dnames,o=this._dims,s={};for(r=0,i=o.length;r<i;++r)s[a[r]]=o[r](e);return t?n.i(u.replace)(t.tuple,s):n.i(u.ingest)(s)},l.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].add(t[n].get(e),e)},l.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].rem(t[n].get(e),e)},l.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(t=e.agg,n=0,r=t.length;n<r;++n)t[n].set(i);return i},l.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,u=this._prev,s=this._drop,l=e.add,c=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)t=o[r],(0===t.num&&s?c:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,{},e),this._keys=n.i(o.fastmap)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(391),a=n(1),o=n(0),u=n.i(o.inherits)(r,a.Transform);u.activate=function(e){this._targets[this._targets.active++]=e},u.subflow=function(e,t,n,r){var a,o,u=this.value,s=u.hasOwnProperty(e)&&u[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,a=n.dataflow,s=a.add(new i.default(n.fork(n.NO_SOURCE),this)).connect(t(a,e,o)),u[e]=s,this.activate(s)),s},u.transform=function(e,t){function r(e){return o.subflow(e,s,t)}var i=t.dataflow,o=this,u=e.key,s=e.subflow,l=this._keys,c=e.modified("key");return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,function(e){var t=n.i(a.tupleid)(e),i=l.get(t);void 0!==i&&(l.delete(t),r(i).rem(e))}),t.visit(t.ADD,function(e){var t=u(e);l.set(n.i(a.tupleid)(e),t),r(t).add(e)}),c||t.modified(u.fields)?t.visit(t.MOD,function(e){var t=n.i(a.tupleid)(e),i=l.get(t),o=u(e);i===o?r(o).mod(e):(l.set(t,o),r(i).rem(e),r(o).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,function(e){r(l.get(n.i(a.tupleid)(e))).mod(e)}),c&&t.visit(t.REFLOW,function(e){var t=n.i(a.tupleid)(e),i=l.get(t),o=u(e);i!==o&&(l.set(t,o),r(i).rem(e),r(o).add(e))}),l.empty>i.cleanThreshold&&i.runAfter(l.clean),t}},function(e,t,n){"use strict";function r(e,t){i.Operator.call(this,e),this.parent=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n.i(a.inherits)(r,i.Operator);o.connect=function(e){return this.targets().add(e),e.source=this},o.add=function(e){this.value.add.push(e)},o.rem=function(e){this.value.rem.push(e)},o.mod=function(e){this.value.mod.push(e)},o.init=function(e){this.value.init(e,e.NO_SOURCE)},o.evaluate=function(){return this.value}},function(e,t,n){"use strict";function r(e){return function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}}function i(e){return e&&e.length?1===e.length?e[0]:r(e):function(){return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.multikey=r,t.groupkey=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,i){var a=e,o=t||[],u=i||[],s={},l=0;return{add:function(e){u.push(e)},remove:function(e){s[a(e)]=++l},size:function(){return o.length},data:function(e,t){return l&&(o=o.filter(function(e){return!s[a(e)]}),s={},l=0),t&&e&&o.sort(e),u.length&&(o=e?n.i(r.merge)(e,o,u.sort(e)):o.concat(u),u=[]),o}}}},function(e,t,n){"use strict";function r(e){this._key=e?n.i(o.field)(e):i.tupleid,this.reset()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(63),o=n(0),u=r.prototype;u.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},u.add=function(e){this._add.push(e)},u.rem=function(e){this._rem.push(e)},u.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,s=Array(o-u),l={};for(e=0;e<u;++e)l[a(i[e])]=1;for(e=0,t=0;e<o;++e)l[a(n=r[e])]?l[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},u.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",i.hasOwnProperty(t)||(i[t]=1,++a);return a},u.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),r=n.i(o.extentIndex)(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext},u.argmin=function(e){return this.extent(e)[0]||{}},u.argmax=function(e){return this.extent(e)[1]||{}},u.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):1/0},u.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-1/0},u.quartile=function(e){return this._get===e&&this._q||(this._q=n.i(a.quartiles)(this.values(),e),this._get=e),this._q},u.q1=function(e){return this.quartile(e)[0]},u.q2=function(e){return this.quartile(e)[1]},u.q3=function(e){return this.quartile(e)[2]},u.ci=function(e){return this._get===e&&this._ci||(this._ci=n.i(a.bootstrapCI)(this.values(),1e3,.05,e),this._get=e),this._ci},u.ci0=function(e){return this.ci(e)[0]},u.ci1=function(e){return this.ci(e)[1]}},function(e,t,n){"use strict";function r(e,t,n,r){var o=a[e](t,n);return{init:o.init||i.zero,update:function(e,t){t[r]=o.next(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.WindowOp=r,n.d(t,"WindowOps",function(){return a}),n.d(t,"ValidWindowOps",function(){return o});var i=n(0),a={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=a.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||n.i(i.error)("ntile num must be greater than zero.");var r=a.cume_dist(),o=r.next;return{init:r.init,next:function(e){return Math.ceil(t*o(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return t=+t,t>0||n.i(i.error)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}}},o=Object.keys(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"id",function(){return o}),n.d(t,"identity",function(){return u}),n.d(t,"zero",function(){return s}),n.d(t,"one",function(){return l}),n.d(t,"truthy",function(){return c}),n.d(t,"falsy",function(){return f});var r=n(95),i=n(398),a=[],o=n.i(i.default)("id"),u=n.i(r.default)(function(e){return e},a,"identity"),s=n.i(r.default)(function(){return 0},a,"zero"),l=n.i(r.default)(function(){return 1},a,"one"),c=n.i(r.default)(function(){return!0},a,"true"),f=n.i(r.default)(function(){return!1},a,"false")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw Error(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),i=n(144),a=n(145);t.default=function(e,t){var o=n.i(i.default)(e),u="return _["+o.map(a.default).join("][")+"];";return n.i(r.default)(Function("_",u),[e=1===o.length?o[0]:e],t||e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"number"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e===Object(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[e.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n="";--t>=0;)n+=e;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e||""===e?null:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Top",function(){return r}),n.d(t,"Left",function(){return i}),n.d(t,"Right",function(){return a}),n.d(t,"Bottom",function(){return o});var r="top",i="left",a="right",o="bottom"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146);t.default=function(e,t,i,a){return t=t||new a(e.loader()),t.initialize(i,n.i(r.width)(e),n.i(r.height)(e),n.i(r.offset)(e)).background(e._background)}},function(e,t,n){e.exports=n(36)(15)},function(e,t,n){e.exports=n(36)(307)},function(e,t,n){e.exports=n(36)(5)},function(e,t,n){"use strict";n(426)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function a(e){var t,n,i,a,o,u=e.length;a=r(e),o=new f(3*u/4-a),n=a>0?u-4:u;var s=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],o[s++]=i>>16&255,o[s++]=i>>8&255,o[s++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,o[s++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,o[s++]=i>>8&255,o[s++]=255&i),o}function o(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function u(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(o(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",a=[],o=0,s=n-r;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=s;for(var l=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=d.length;h<p;++h)l[h]=d[h],c[d.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){(function(t){!function(n){"use strict";e.exports=n(t)}(function(e){"use strict";var t=function(t,n){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,n&&e.extend(this.colors,n),t&&(void 0!==t.toLowerCase?(t+="",this.setColor(t)):void 0!==t.h&&(this.value=t))};t.prototype={constructor:t,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!!e&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){(e=e.toLowerCase().trim())&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(t){t=t.toLowerCase();var n;void 0!==this.colors[t]&&(t=this.colors[t],n="alias");var r=this,i=!1;return e.each(this.stringParsers,function(e,a){var o=a.re.exec(t),u=o&&a.parse.apply(r,[o]),s=n||a.format||"rgba";return!u||(i=s.match(/hsla?/)?r.RGBtoHSB.apply(r,r.HSLtoRGB.apply(r,u)):r.RGBtoHSB.apply(r,u),r.origFormat=s,!1)}),i},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,n,r){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,a,o,u,s;return e=e%360/60,s=n*t,u=s*(1-Math.abs(e%2-1)),i=a=o=n-s,e=~~e,i+=[s,u,0,0,u,s][e],a+=[u,s,s,u,0,0][e],o+=[0,0,u,s,s,u][e],{r:Math.round(255*i),g:Math.round(255*a),b:Math.round(255*o),a:r||this.value.a}},toHex:function(e,t,n,r){var i=this.toRGB(e,t,n,r);return this.rgbaIsTransparent(i)?"transparent":"#"+(1<<24|parseInt(i.r)<<16|parseInt(i.g)<<8|parseInt(i.b)).toString(16).substr(1)},toHSL:function(e,t,n,r){e=e||this.value.h,t=t||this.value.s,n=n||this.value.b,r=r||this.value.a;var i=e,a=(2-t)*n,o=t*n;return o/=a>0&&a<=1?a:2-a,a/=2,o>1&&(o=1),{h:isNaN(i)?0:i,s:isNaN(o)?0:o,l:isNaN(a)?0:a,a:isNaN(r)?0:r}},toAlias:function(e,t,n,r){var i=this.toHex(e,t,n,r);for(var a in this.colors)if(this.colors[a]===i)return a;return!1},RGBtoHSB:function(e,t,n,r){e/=255,t/=255,n/=255;var i,a,o,u;return o=Math.max(e,t,n),u=o-Math.min(e,t,n),i=0===u?null:o===e?(t-n)/u:o===t?(n-e)/u+2:(e-t)/u+4,i=(i+360)%6*60/360,a=0===u?0:u/o,{h:this._sanitizeNumber(i),s:a,b:o,a:this._sanitizeNumber(r)}},HueToRGB:function(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e},HSLtoRGB:function(e,t,n,r){t<0&&(t=0);var i;i=n<=.5?n*(1+t):n+t-n*t;var a=2*n-i,o=e+1/3,u=e,s=e-1/3;return[Math.round(255*this.HueToRGB(a,i,o)),Math.round(255*this.HueToRGB(a,i,u)),Math.round(255*this.HueToRGB(a,i,s)),this._sanitizeNumber(r)]},toString:function(e){e=e||"rgba";var t=!1;switch(e){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return t=this.toRGB(),"rgba("+t.r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}};var n={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},r=function(r,i){if(this.element=e(r).addClass("colorpicker-element"),this.options=e.extend(!0,{},n,this.element.data(),i),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new t(!1!==this.options.color?this.options.color:this.getValue(),this.options.colorSelectors),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=e(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format&&!1!==this.options.format||this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),!0===this.options.inline&&this.picker.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var a=this;e.each(this.options.colorSelectors,function(t,n){var r=e("<i />").css("background-color",n).data("class",t);r.click(function(){a.setValue(e(this).css("background-color"))}),a.picker.find(".colorpicker-selectors").append(r)}),this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:e("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy(function(){this.element.trigger("create")},this))};r.Color=t,r.prototype={constructor:r,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component||this.element,n=t[e]();"right"===this.options.align&&(n.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:n.top+t.outerHeight(),left:n.left})},show:function(t){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||!1!==this.options.inline||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){if(e=e||this.color.toString(this.format),!1!==this.input){if(this.options.colorSelectors){var n=new t(e,this.options.colorSelectors),r=n.toAlias();void 0!==this.options.colorSelectors[r]&&(e=r)}this.input.prop("value",e)}return e},updatePicker:function(e){void 0!==e&&(this.color=new t(e,this.options.colorSelectors));var n=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,r=this.picker.find("i");if(0!==r.length)return!1===this.options.horizontal?(n=this.options.sliders,r.eq(1).css("top",n.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",n.alpha.maxTop*(1-this.color.value.a))):(n=this.options.slidersHorz,r.eq(1).css("left",n.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",n.alpha.maxLeft*(1-this.color.value.a))),r.eq(0).css({top:n.saturation.maxTop-this.color.value.b*n.saturation.maxTop,left:this.color.value.s*n.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e},updateComponent:function(e){if(e=e||this.color.toString(this.format),!1!==this.component){var t=this.component.find("i").eq(0);t.length>0?t.css({backgroundColor:e}):this.component.css({backgroundColor:e})}return e},update:function(e){var t;return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=new t(e,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){e=void 0===e?"#000000":e;var t;return t=this.hasInput()?this.input.val():this.element.data("color"),void 0!==t&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var n=e(t.target),r=n.closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!r.is(".colorpicker")){if(r.is(".colorpicker-saturation"))this.currentSlider=e.extend({},i.saturation);else if(r.is(".colorpicker-hue"))this.currentSlider=e.extend({},i.hue);else{if(!r.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},i.alpha)}var a=r.offset();this.currentSlider.guide=r.find("i")[0].style,this.currentSlider.left=t.pageX-a.left,this.currentSlider.top=t.pageY-a.top,this.mousePointer={left:t.pageX,top:t.pageY},e(document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),n=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=n+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,n/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&!1===this.options.format&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new t(this.input.val(),this.options.colorSelectors),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=r,e.fn.colorpicker=function(t){var n=Array.prototype.slice.call(arguments,1),i=1===this.length,a=null,o=this.each(function(){var i=e(this),o=i.data("colorpicker"),u="object"==typeof t?t:{};o||(o=new r(this,u),i.data("colorpicker",o)),"string"==typeof t?e.isFunction(o[t])?a=o[t].apply(o,n):(n.length&&(o[t]=n[0]),a=o[t]):a=i});return i?a:o},e.fn.colorpicker.constructor=r})}).call(t,n(148))},function(e,t,n){"use strict";var r,i,a;!function(o){i=[n(148)],r=o,void 0!==(a="function"==typeof r?r.apply(t,i):r)&&(e.exports=a)}(function(e){var t;return function(e){function t(){}var n=Array.prototype.slice;!function(e){function r(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,r){e.fn[t]=function(i){if("string"==typeof i){for(var o=n.call(arguments,1),u=0,s=this.length;u<s;u++){var l=this[u],c=e.data(l,t);if(c)if(e.isFunction(c[i])&&"_"!==i.charAt(0)){var f=c[i].apply(c,o);if(void 0!==f&&f!==c)return f}else a("no such method '"+i+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}var d=this.map(function(){var n=e.data(this,t);return n?(n.option(i),n._init()):(n=new r(this,i),e.data(this,t,n)),e(this)});return!d||d.length>1?d:d[0]}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};e.bridget=function(e,t){r(t),i(e,t)},e.bridget}}(e)}(e),function(e){function n(t,n){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),n=n||{};for(var r=Object.keys(this.defaultOptions),a=0;a<r.length;a++){var o=r[a],u=n[o];u=void 0!==u?u:function(e,t){var n="data-slider-"+t.replace(/_/g,"-"),r=e.getAttribute(n);try{return JSON.parse(r)}catch(e){return r}}(this.element,o),u=null!==u?u:this.defaultOptions[o],this.options||(this.options={}),this.options[o]=u}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var s,l,c,f,d,h=this.element.style.width,p=!1,v=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var m=document.createElement("div");m.className="slider-track",l=document.createElement("div"),l.className="slider-track-low",s=document.createElement("div"),s.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",f=document.createElement("div"),f.className="slider-handle min-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),d=document.createElement("div"),d.className="slider-handle max-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),m.appendChild(l),m.appendChild(s),m.appendChild(c);var g=Array.isArray(this.options.labelledby);if(g&&this.options.labelledby[0]&&f.setAttribute("aria-labelledby",this.options.labelledby[0]),g&&this.options.labelledby[1]&&d.setAttribute("aria-labelledby",this.options.labelledby[1]),!g&&this.options.labelledby&&(f.setAttribute("aria-labelledby",this.options.labelledby),d.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(a=0;a<this.options.ticks.length;a++){var y=document.createElement("div");y.className="slider-tick",this.ticks.push(y),m.appendChild(y)}s.className+=" tick-slider-selection"}if(m.appendChild(f),m.appendChild(d),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",a=0;a<this.options.ticks_labels.length;a++){var _=document.createElement("div"),b=0===this.options.ticks_positions.length,x=this.options.reversed&&b?this.options.ticks_labels.length-(a+1):a;_.className="slider-tick-label",_.innerHTML=this.options.ticks_labels[x],this.tickLabels.push(_),this.tickLabelContainer.appendChild(_)}var w=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",e.appendChild(t),e.appendChild(n)},M=document.createElement("div");M.className="tooltip tooltip-main",M.setAttribute("role","presentation"),w(M);var O=document.createElement("div");O.className="tooltip tooltip-min",O.setAttribute("role","presentation"),w(O);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),w(P),this.sliderElem.appendChild(m),this.sliderElem.appendChild(M),this.sliderElem.appendChild(O),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),v.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),i[this.options.scale]&&(this.options.scale=i[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top"),this._removeProperty(e,"margin-left"),this._removeProperty(e,"margin-top"),this._removeClass(e,"right"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=h,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=s||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=f||this.handle1,this.handle2=d||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),a=0;a<this.ticks.length;a++)this._removeClass(this.ticks[a],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),a=0;a<this.ticks.length;a++)this._addClass(this.ticks[a],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(e){return"Invalid input value '"+e+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},i={linear:{toValue:function(e){var t=e/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var r,i,a,o=0,u=1;u<this.options.ticks_positions.length;u++)if(e<=this.options.ticks_positions[u]){r=this.options.ticks[u-1],a=this.options.ticks_positions[u-1],i=this.options.ticks[u],o=this.options.ticks_positions[u];break}t=r+(e-a)/(o-a)*(i-r),n=!1}var s=n?this.options.min:0,l=s+Math.round(t/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,n,r,i=0,a=0;a<this.options.ticks.length;a++)if(e<=this.options.ticks[a]){t=a>0?this.options.ticks[a-1]:0,r=a>0?this.options.ticks_positions[a-1]:0,n=this.options.ticks[a],i=this.options.ticks_positions[a];break}if(a>0){return r+(e-t)/(n-t)*(i-r)}}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),r=Math.exp(t+(n-t)*e/100);return r=this.options.min+Math.round((r-this.options.min)/this.options.step)*this.options.step,r<this.options.min?this.options.min:r>this.options.max?this.options.max:r},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===e?0:Math.log(e))-n)/(t-n)}}};if(t=function(e,t){return n.call(this,e,t),this},t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null,labelledby:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,n){e||(e=0);var r=this.getValue();this._state.value=this._validateInputValue(e);var i=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=i(this._state.value[0]),this._state.value[1]=i(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=i(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var a=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(a),!0===t&&this._trigger("slide",a),r!==a&&!0===n&&this._trigger("change",{oldValue:r,newValue:a}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(t,n){e?(this.$element.off(t,n),this.$sliderElem.off(t,n)):this._unbindNonQueryEventHandler(t,n)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var n=this.eventToCallbackMap[e];if(void 0!==n)for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var n=e[t];this.eventToCallbackMap[n]=null}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var e;if(e=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=e[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var t="vertical"===this.options.orientation?"height":"width",n="vertical"===this.options.orientation?"marginTop":"marginLeft",r=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var i=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[n]=-r/2+"px"),i=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>i&&(i=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=i+"px")}for(var a=0;a<this.options.ticks.length;a++){var o=this.options.ticks_positions[a]||this._toPercentage(this.options.ticks[a]);this.options.reversed&&(o=100-o),this.ticks[a].style[this.stylePos]=o+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?o>=e[0]&&o<=e[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&o>=e[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&o<=e[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[t]=r+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[a]?(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=o+"%",this.tickLabels[a].style[n]=-r/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[a].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var u;if(this.options.range){u=this.options.formatter(this._state.value),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var s=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,s);var l=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,l),this.tooltip_min.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else u=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(e[0],e[1])+"%",this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(e[0],e[1])+"%",this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";var c=this.tooltip_min.getBoundingClientRect(),f=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?c.right>f.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):c.right>f.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_resize:function(e){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var n=Math.abs(this._state.percentage[0]-t),r=Math.abs(this._state.percentage[1]-t);this._state.dragged=n<r?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var i=this._calculateValue();return this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!1,!0),this._pauseEvent(e),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var n;switch(t.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var r="vertical"===this.options.orientation&&!this.options.reversed,i="horizontal"===this.options.orientation&&this.options.reversed;(r||i)&&(n=-n)}var a=this._state.value[e]+n*this.options.step;return this.options.range&&(a=[e?this._state.value[0]:a,e?a:this._state.value[1]]),this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!0,!0),this._setDataVal(a),this._trigger("slideStop",a),this._layout(),this._pauseEvent(t),!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_adjustPercentageForRangeSliders:function(e){if(this.options.range){var t=this._getNumDigitsAfterDecimalPlace(e);t=t?t-1:0;var n=this._applyToFixedAndParseFloat(e,t);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>n&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var e=this._calculateValue(!0);return this._layout(),this._setDataVal(e),this._trigger("slideStop",e),!1},_calculateValue:function(e){var t;if(this.options.range?(t=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(t[0]=this._toValue(this._state.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this._state.percentage[1]&&(t[1]=this._toValue(this._state.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this._state.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),e){for(var n=[t,1/0],r=0;r<this.options.ticks.length;r++){var i=Math.abs(this.options.ticks[r]-t);i<=n[1]&&(n=[this.options.ticks[r],i])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return t},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var n=e.toFixed(t);return parseFloat(n)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=e[this.mousePos],n=this._state.offset[this.stylePos],r=t-n,i=r/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(e){if("number"==typeof e)return e;if(Array.isArray(e))return this._validateArray(e),e;throw new Error(r.formatInvalidInputErrorMsg(e))},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("number"!=typeof n)throw new Error(r.formatInvalidInputErrorMsg(n))}},_setDataVal:function(e){this.element.setAttribute("data-value",e),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(t,n){n=n||0===n?n:void 0;var r=this.eventToCallbackMap[t];if(r&&r.length)for(var i=0;i<r.length;i++){var a=r[i];a(n)}e&&this._triggerJQueryEvent(t,n)},_triggerJQueryEvent:function(e,t){var n={type:e,value:t};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){void 0!==e.textContent?e.textContent=t:void 0!==e.innerText&&(e.innerText=t)},_removeClass:function(e,t){for(var n=t.split(" "),r=e.className,i=0;i<n.length;i++){var a=n[i],o=new RegExp("(?:\\s|^)"+a+"(?:\\s|$)");r=r.replace(o," ")}e.className=r.trim()},_addClass:function(e,t){for(var n=t.split(" "),r=e.className,i=0;i<n.length;i++){var a=n[i];new RegExp("(?:\\s|^)"+a+"(?:\\s|$)").test(r)||(r+=" "+a)}e.className=r.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop,"BODY"!==e.tagName&&(t-=e.scrollTop);return t},_offset:function(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}},_css:function(t,n,r){if(e)e.style(t,n,r);else{var i=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[i]=r}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var e=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var t=this.options.tooltip_position||"right",n="left"===t?"right":"left";e.forEach(function(e){this._addClass(e,t),e.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?e.forEach(function(e){this._addClass(e,"bottom"),e.style.top="22px"}.bind(this)):e.forEach(function(e){this._addClass(e,"top"),e.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},e){var a=e.fn.slider?"bootstrapSlider":"slider";e.bridget(a,t),e(function(){e("input[data-provide=slider]")[a]()})}}(e),t})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(112),o=r(a),u=n(223),s=r(u),l=n(427),c=r(l),f=n(429),d=r(f),h=n(147),p=r(h),v=n(443),m=r(v);n(416);var g=p.default.extend({events:{"click .g-candela-update-vis":"updateVisualization"},initialize:function(e){this._inputWidgets=new c.default,this._inputsPanel=new d.default({title:"Visualization options",collection:this._inputWidgets,parentView:this})},setData:function(e,t){var n=this;this._data=e,this._columns=["(none)"].concat(i(t)),this._multiColumns=t,this._numericColumns=["(none)"].concat(i(t.filter(function(e){var t=n._data.__types__[e];return o.default.contains(["number","integer","date"],t)}))),this._multiNumericColumns=this._numericColumns.slice(1),this.render()},setComponent:function(e){this._component=e,this.render()},render:function(){var e=this;return this._data&&this._component?(this._inputWidgets.reset(),this._inputWidgets.add(new s.default({type:"integer",title:"Width",id:"width",min:0,value:400})),this._inputWidgets.add(new s.default({type:"integer",title:"Height",id:"height",min:0,value:400})),o.default.each(this._component.options,function(t){if("number"===t.type)e._inputWidgets.add(new s.default({type:"number",title:t.name||t.id,id:t.id||t.name,description:t.description||"",value:void 0===t.default?0:t.default}));else if("boolean"===t.type)e._inputWidgets.add(new s.default({type:"boolean",title:t.name||t.id,id:t.id||t.name,description:t.description||"",value:void 0!==t.default&&t.default}));else if(["string","string_list"].includes(t.type)&&t.domain){var n="string"===t.type?"string-enumeration":"string-enumeration-multiple",r=null,i=null;if(o.default.isArray(t.domain))r=t.domain,i="string"===t.type?void 0===t.default?t.domain[0]:t.default:void 0===t.default?[]:t.default;else{var a=!t.domain.fieldTypes.includes("string");"string"===t.type?(r=a?e._numericColumns:e._columns,i="(none)"):(r=a?e._multiNumericColumns:e._multiColumns,i=[])}e._inputWidgets.add(new s.default({type:n,title:t.name||t.id,id:t.id||t.name,description:t.description||"",values:r,value:i}))}else"string"===t.type&&e._inputWidgets.add(new s.default({type:"string",title:t.name||t.id,id:t.id||t.name,description:t.description||"",value:void 0===t.default?"":t.default}))}),this.$el.html((0,m.default)()),this._inputsPanel.setElement(this.$(".g-candela-inputs-container")).render(),this):this},validate:function(){var e=!0,t=function(t){t.isValid()||(e=!1)};return this._inputWidgets.each(t),e},updateVisualization:function(e){if(!this.validate())return void this.$(".g-candela-validation-failed-message").text("One or more of your inputs or s is invalid, they are highlighted in red.");this.$(".g-candela-validation-failed-message").empty();var t={};this._inputWidgets.each(function(e){"(none)"!==e.value()&&(t[e.id]=e.value())}),t.data=this._data,this.vis&&this.vis.destroy&&this.vis.destroy(),this.$(".g-candela-vis").empty(),new this._component(this.$(".g-candela-vis")[0],t).render()}});t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(112),a=r(i),o=n(147),u=r(o),s=n(411),l=r(s),c=n(149),f=r(c);n(442),n(433);var d=n(756),h=r(d),p=n(444),v=r(p);n(417);var m=n(424),g=r(m),y=u.default.extend({events:{"change .g-item-candela-component":"updateComponent"},initialize:function(e){this.item=e.item,this.accessLevel=e.accessLevel,this._components=a.default.keys(a.default.pick(f.default.components,function(e){return e.options})),this.listenTo(this.item,"change",function(){this.render()},this),this.parametersView=new g.default({component:f.default.components[this.$(".g-item-candela-component").val()],parentView:this}),this.render()},updateComponent:function(){this.parametersView.setComponent(f.default.components[this.$(".g-item-candela-component").val()])},render:function(){var e=this,t=null,n=this.item.get("name").toLowerCase();if(n.endsWith(".csv"))t=h.default.csv;else{if(!n.endsWith(".tsv")&&!n.endsWith(".tab"))return this.$(".g-item-candela").remove(),this;t=h.default.tsv}return this.$el.html((0,v.default)({components:this._components})),this.parametersView.setElement(this.$(".g-item-candela-parameters")),t(this.item.downloadUrl(),function(t,n){if(t)return l.default.trigger("g:alert",{text:"An error occurred while attempting to read and parse the data file. Details have been logged in the console.",type:"danger",timeout:5e3,icon:"attention"}),void console.error(t);h.default.read(n,{parse:"auto"});var r=[];a.default.each(n.__types__,function(e,t){""===t?r.push({from:"",to:"id"}):t.indexOf(".")>=0&&r.push({from:t,to:t.replace(/\./g,"_")})}),a.default.each(r,function(e){n.__types__[e.to]=n.__types__[e.from],delete n.__types__[e.from],a.default.each(n,function(t){t[e.to]=t[e.from],delete t[e.from]})});var i=a.default.keys(n.__types__);e.parametersView.setData(n,i),e.updateComponent()}),this}});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1055),a=r(i),o=n(1054),u=n(425),s=r(u);(0,o.wrap)(a.default,"render",function(e){var t=this;return this.model.getAccessLevel(function(n){e.call(t),t.candelaWidget&&t.candelaWidget.remove(),t.candelaWidget=new s.default({className:"g-candela-container",item:t.model,accessLevel:n,parentView:t}),t.candelaWidget.$el.appendTo(t.$el)}),this})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(409),a=r(i),o=n(223),u=r(o),s=a.default.Collection.extend({model:u.default,values:function(){var e={};return this.each(function(t){switch(t.get("type")){case"file":e[t.id+"_girderItemId"]=t.value().id;break;case"new-file":case"new-folder":e[t.id+"_girderFolderId"]=t.value().get("folderId"),e[t.id+"_name"]=t.value().get("name");break;case"image":e[t.id+"_girderFileId"]=t.value().id;break;default:e[t.id]=JSON.stringify(t.value())}}),e}});t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(148),a=r(i),o=n(112),u=r(o),s=n(147),l=r(s),c=n(411),f=r(c),d=n(1053),h=r(d),p=n(1056),v=n(445),m=r(v),g=n(446),y=r(g),_=n(449),b=r(_),x=n(448),w=r(x),M=n(450),O=r(M),P=n(452),S=r(P),k=n(453),E=r(k);n(418),n(414),n(421),n(415),n(422);var j=null,T=l.default.extend({events:{"change input,select":"_input",changeColor:"_input","click .g-select-file-button":"_selectFile"},initialize:function(){var e=this;this.listenTo(this.model,"change",this.change),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"invalid",this.invalid),this.listenTo(f.default,"g:itemTaskWidgetSet:"+this.model.id,function(t){e.model.set("value",t)})},render:function(e,t){var n=this;return this.$(".form-group").removeClass("has-error"),this.model.isValid(),t&&t.norender?this:(this.$el.html(this.template()(this.model.toJSON())),this.$('.g-control-item[data-type="range"] input').slider(),this.$('.g-control-item[data-type="color"] .input-group').colorpicker({}),window.setTimeout(function(){return n.$('.g-control-item[data-type="range"] input').slider("relayout")},0),this)},change:function(){this.render.apply(this,arguments),f.default.trigger("g:itemTaskWidgetChanged:"+this.model.get("type"),this.model),f.default.trigger("g:itemTaskWidgetChanged",this.model)},remove:function(){this.$('.g-control-item[data-type="color"] .input-group').colorpicker("destroy"),this.$('.g-control-item[data-type="range"] input').slider("destroy"),this.$el.empty(),f.default.trigger("g:itemTaskWidgetRemoved:"+this.model.get("type"),this.model),f.default.trigger("g:itemTaskWidgetRemoved",this.model)},invalid:function(){this.$(".form-group").addClass("has-error"),f.default.trigger("g:itemTaskWidgetInvalid:"+this.model.get("type"),this.model),f.default.trigger("g:itemTaskWidgetInvalid",this.model)},_typedef:{range:{template:S.default},color:{template:y.default},string:{template:E.default},number:{template:E.default},integer:{template:E.default},boolean:{template:m.default},"string-vector":{template:E.default},"number-vector":{template:E.default},"string-enumeration":{template:b.default},"string-enumeration-multiple":{template:w.default},"number-enumeration":{template:b.default},"number-enumeration-multiple":{template:w.default},file:{template:O.default},image:{template:O.default},directory:{template:O.default},"new-file":{template:O.default},"new-folder":{template:O.default},region:{template:E.default}},template:function(){var e=this.model.get("type"),t=this._typedef[e];return void 0===t&&(console.warn('Invalid widget type "'+e+'"'),t={}),t.template||u.default.template("")},_input:function(e){var t,n;t=(0,a.default)(e.target),n=t.val(),"checkbox"===t.attr("type")&&(n=t.prop("checked")),this.model.set("value",n,{norender:!0})},_selectFile:function(){var e,t,n=this,r=!1,i=!1,o=!0,s=function(){return a.default.Deferred().resolve().promise()},l=this.model.get("type"),c=function(e,t){var n=a.default.Deferred();return e?n.resolve():n.reject(t),n.promise()};"file"!==l&&"image"!==l||(r=!0,e="Select an item",t='Click on an item to select it, then click "Save"'),"directory"===l&&(e="Select a folder",t='Browse to a directory to select it, then click "Save"'),"new-folder"===l&&(e="Create a new folder",t='Browse to a path, enter a name, then click "Save"',i={label:"Name",placeholder:"Choose a name for the new folder",validate:function(e){return c(e,"Please provide a folder name.")},default:this.model.get("fileName")},s=function(e){var t=e.get("_modelType"),n=u.default.contains(["folder","collection","user"],t);return c(n,"Invalid parent type, please choose a collection, folder, or user.")},o=!1),"new-file"===l&&(e="Create a new item",t='Browse to a path, enter a name, then click "Save"',i={label:"Name",placeholder:"Choose a name for the new item",validate:function(e){return c(e,"Please provide an item name.")},default:this.model.get("fileName")},s=function(e){var t=e.get("_modelType");return c("folder"===t,"Invalid parent type, please choose a folder.")},o=!1);var f=new h.default({el:(0,a.default)("#g-dialog-container"),parentView:this,showItems:r,selectItem:r,root:j||(0,p.getCurrentUser)(),titleText:e,helpText:t,input:i,showPreview:o,validate:s});f.once("g:saved",function(e,t){j=f.root,f.$el.modal("hide"),n.model.set({value:e,fileName:t||e.name()})}).render()}});t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(447),a=r(i);n(419);var o=n(430),u=r(o),s=n(428),l=r(s),c=u.default.extend({initialize:function(e){this.title=e.title||"",this.advanced=e.advanced||!1,this.initialValues=e.initialValues||null,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.removeWidget)},render:function(){this.$el.html((0,a.default)({title:this.title,collapsed:this.advanced,id:this.$el.attr("id")})),this.addAll(),this.$(".g-panel-content").collapse({toggle:!1})},addOne:function(e){var t=new l.default({model:e,parentView:this});this.$("form").append(t.render().el)},addAll:function(){this.$("form").children().remove(),this.collection.each(this.addOne,this)},removeWidget:function(e){e.destroy()}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(148),a=r(i),o=n(147),u=r(o),s=n(451),l=r(s);n(420);var c=u.default.extend({events:{"show.bs.collapse":"expand","hide.bs.collapse":"collapse","click .g-panel-title-container":"_handleTitleClick"},initialize:function(e){this.spec=e.spec},render:function(){return this.$el.html((0,l.default)(this.spec)),this.$(".g-panel-content").collapse({toggle:!1}),this},expand:function(){this.$(".icon-down-open").attr("class","icon-up-open")},collapse:function(){this.$(".icon-up-open").attr("class","icon-down-open")},_handleTitleClick:function(e){(0,a.default)(e.target).hasClass("g-remove-panel")||(e.stopPropagation(),this.$(".g-panel-content").collapse("toggle"))}});t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(37),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(224),c=n(8),f=n(69),d=n(21),h=n(177);n(719);var p=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=n||{},a.data=n.data,a.scale=n.scale||"global",a.clusterRows=void 0===n.clusterRows||n.clusterRows,a.clusterColumns=void 0===n.clusterColumns||n.clusterColumns,a.idColumn=n.idColumn,a.thresholdMode=n.thresholdMode||"none",a.threshold=n.threshold||0,a.removeEmpty=void 0!==n.removeEmpty&&n.removeEmpty,a.width=n.width,a.height=n.height,a}return a(t,e),o(t,null,[{key:"options",get:function(){return[{id:"data",name:"Data table",description:"The data table.",type:"table",format:"objectlist"},{id:"idColumn",name:"Identifier column",description:'A column with unique identifiers. If not set, the visualization will use a column with an empty name, or a column named "_" or "_id".',type:"string",format:"text",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"scale",name:"Color scale",description:"Color the data values with a global scale, scale each row or column separately, or use a -1 to 1 color scale suitable for a correlation matrix.",type:"string",format:"text",domain:["global","row","column","correlation"],default:"global"},{id:"clusterRows",name:"Cluster rows",description:"Order the rows by hierarchical cluster linkage.",type:"boolean",format:"boolean",default:!0},{id:"clusterColumns",name:"Cluster columns",description:"Order the columns by hierarchical cluster linkage.",type:"boolean",format:"boolean",default:!0},{id:"thresholdMode",name:"Threshold mode",description:"Use the threshold value to display only certain cells.",type:"string",format:"text",domain:["none","greater than","less than","absolute value greater than"],default:"none"},{id:"threshold",name:"Threshold value",description:"The value to threshold by.",type:"number",format:"number",default:0},{id:"removeEmpty",name:"Remove empty rows and columns",description:"Remove rows and columns that are entirely filtered out by the threshold. Clustering by rows and columns will not be used.",type:"boolean",format:"boolean",default:!1}]}}]),o(t,[{key:"render",value:function(){var e=this;if(this.empty(),void 0!==this.data&&0!==this.data.length){var t=(0,l.getElementSize)(this.el),n=this.width||t.width||400,r=this.height||t.height||400,i=this.clusterRows,a=this.clusterColumns;this.removeEmpty&&(i=!1,a=!1);var o=i?100:0,u=a?100:0,s=n-o-100,p=r-u-100,v=Object.keys(this.data[0]),m=this.idColumn;if(void 0===m&&(m=v.includes("_id")?"_id":m,m=v.includes("_")?"_":m,m=v.includes("")?"":m),void 0===m)throw new Error("TreeHeatmap: No suitable idColumn found.");var g=[],y=!1;this.data.forEach(function(e){var t=""+e[m];"_child1"===t&&(y=!0),t.startsWith("_")||y||g.push({name:t})});var _=null;_=[],v.forEach(function(e){""===e||e.startsWith("_")||_.push({name:e})});var b=[],x=[],w={},M={};y=!1,this.data.forEach(function(e){var t=""+e[m];return"_child1"===t&&(y=!0),t.startsWith("_")?void(w[t]=e):y?void(M[t]=e):(b.push(_.map(function(t){return+e[t.name]})),void(i&&+e._cluster>=0&&x.push({cluster:+e._cluster,child1:+e._child1,child2:+e._child2,distance:+e._distance,size:+e._size})))});var O=[];a&&_.forEach(function(e){w._cluster&&+w._cluster[e.name]>=0&&O.push({cluster:+w._cluster[e.name],child1:+w._child1[e.name],child2:+w._child2[e.name],distance:+w._distance[e.name],size:+w._size[e.name]})});var P=function(){return 1};if("less than"===this.thresholdMode?P=function(t){return t.value<e.threshold?1:0}:"greater than"===this.thresholdMode?P=function(t){return t.value>e.threshold?1:0}:"absolute value greater than"===this.thresholdMode&&(P=function(t){return Math.abs(t.value)>e.threshold?1:0}),this.removeEmpty){for(var S=0;S<g.length;S+=1)for(var k=0;k<_.length;k+=1)g[S].name!==_[k].name&&P({value:b[S][k]})&&(g[S].visible=!0,_[k].visible=!0);for(var E=g.length-1;E>=0;E-=1)g[E].visible||(g.splice(E,1),b.splice(E,1));for(var j=_.length-1;j>=0;j-=1)!function(e){_[e].visible||(_.splice(e,1),b.forEach(function(t){return t.splice(e,1)}))}(j)}var T=g.slice().sort(function(e,t){return e.name.localeCompare(t.name)}),C=_.slice().sort(function(e,t){return e.name.localeCompare(t.name)}),A=(0,d.select)(this.el).append("svg").attr("width",n+"px").attr("height",r+"px");A.append("clipPath").attr("id","clip-rect").append("rect").attr("x",o).attr("y",u).attr("width",s).attr("height",p);var N=A.append("g").attr("clip-path","url(#clip-rect)");A.append("clipPath").attr("id","clip-row-labels").append("rect").attr("x",o+s).attr("y",u).attr("width",100).attr("height",p);var R=A.append("g").attr("clip-path","url(#clip-row-labels)");A.append("clipPath").attr("id","clip-col-labels").append("rect").attr("x",o).attr("y",u+p).attr("width",s).attr("height",100);var D=A.append("g").attr("clip-path","url(#clip-col-labels)"),L=function(e){return e.distance},I=(0,f.scaleLinear)().domain([0,b[0].length]).range([o,o+s]),z=(0,f.scaleLinear)().domain([0,b.length]).range([u,u+p]),F=function(e,t,n,r,i,a,o,s){function l(e){t.forEach(function(e){e.lines=[[S(L(v[e.child1])),k(v[e.child1].pos)],[S(L(e)),k(v[e.child1].pos)],[S(L(e)),k(v[e.child2].pos)],[S(L(v[e.child2])),k(v[e.child2].pos)]]});var n=T.selectAll(".tree-links").data(t);e>0&&(n=n.transition().duration(e)),n.attr("d",function(e){return N(e.lines)});var r=T.selectAll(".tree-select").data(C);e>0&&(r=r.transition().duration(e)),r.attr(E,function(e){return S(L(e))}).attr(j,function(e){return k(e.offset)}).attr("x"===E?"width":"height",function(e){return S(0)-S(L(e))}).attr("x"===j?"width":"height",function(e){return k(e.offset+e.size)-k(e.offset)});var i=A.selectAll(".datum").data(q);e>0&&(i=i.transition().duration(e)),i.attr("x",function(e){return I(e.colIndex)}).attr("y",function(e){return z(e.rowIndex)}).attr("width",function(e){return I(e.colIndex+1)-I(e.colIndex)}).attr("height",function(e){return z(e.rowIndex+1)-z(e.rowIndex)});var a=R.selectAll(".row-label").data(g);e>0&&(a=a.transition().duration(e)),a.attr("y",function(e){return z(e.pos)});var o=D.selectAll(".col-label").data(_);e>0&&(o=o.transition().duration(e)),o.attr("transform",function(e){return"translate("+I(e.pos)+","+(u+p)+")"})}for(var c=n.length,v={},m=0;m<c;m+=1)n[m].size=1,n[m].distance=0,v[m]=n[m];for(var y=0;y<t.length;y+=1)v[t[y].cluster]=t[y];var b=t[t.length-1]||{};b.offset=0,b.parent=b;for(var x=t.length-1;x>=0;x-=1){var w=t[x],M=v[w.child1],O=v[w.child2];w.pos=w.offset+M.size,M.offset=w.offset,M.parent=w,1===M.size&&(M.pos=M.offset+.5),O.offset=w.offset+M.size,O.parent=w,1===O.size&&(O.pos=O.offset+.5)}var P=[0,L(b)],S=(0,f.scaleLinear)().domain(P).range([i+o,i]),k=(0,f.scaleLinear)().domain([0,c]).range([r,r+a]),E="y",j="x";"vertical"===e&&(E="x",j="y"),A.append("clipPath").attr("id","clip-"+e).append("rect").attr("x","horizontal"===e?r:i).attr("y","horizontal"===e?i:r).attr("width","horizontal"===e?a:o).attr("height","horizontal"===e?o:a);var T=A.append("g").attr("class",e).attr("clip-path","url(#clip-"+e+")");T.selectAll(".tree-links").data(t).enter().append("path").attr("class","tree-links").style("fill-opacity",0).style("stroke","black");var C=t.slice().reverse(),N=(0,h.line)();"horizontal"===e&&N.x(function(e){return e[1]}).y(function(e){return e[0]}),T.selectAll(".tree-select").data(C).enter().append("rect").attr("class","tree-select").style("fill","steelblue").style("fill-opacity",0).on("mouseover",function(){(0,d.select)(this).style("fill-opacity",.4)}).on("mouseout",function(){(0,d.select)(this).style("fill-opacity",0)}).on("click",function(t){k.domain([t.offset,t.offset+t.size]),S.domain([0,L(t.parent.parent)]),("horizontal"===e?I:z).domain([t.offset,t.offset+t.size]),l(s)}),l(0)},q=[];i&&g.length>1?F("vertical",x,g,u,0,p,100,1e3):g.forEach(function(e){var t=T.indexOf(e);e.offset=t,e.pos=t+.5}),a&&_.length>1?F("horizontal",O,_,o,0,s,100,1e3):_.forEach(function(e){var t=C.indexOf(e);e.offset=t,e.pos=t+.5});for(var U=0;U<b.length;U+=1)for(var B=0;B<b[U].length;B+=1)q.push({value:b[U][B],rowIndex:g[U].offset,colIndex:_[B].offset});for(var V=[],H=0;H<b[0].length;H+=1)!function(e){V[_[e].offset]=(0,f.scaleLinear)().domain((0,c.extent)(b,function(t){return t[e]})).range(["white","steelblue"])}(H);for(var Y=[],W=0;W<b.length;W+=1)Y[g[W].offset]=(0,f.scaleLinear)().domain((0,c.extent)(b[W])).range(["white","steelblue"]);var $=(0,c.min)(b,function(e){return(0,c.min)(e)}),G=(0,c.max)(b,function(e){return(0,c.max)(e)}),X=(0,f.scaleLinear)().domain([$,G]).range(["white","steelblue"]),J=(0,f.scaleLinear)().domain([-1,0,1]).range(["red","white","green"]),Q=function(e){return X(e.value)};"row"===this.scale?Q=function(e){return Y[e.rowIndex](e.value)}:"column"===this.scale?Q=function(e){return V[e.colIndex](e.value)}:"correlation"===this.scale&&(Q=function(e){return J(e.value)}),N.selectAll(".datum").data(q).enter().append("rect").attr("class","datum").attr("fill",Q).attr("x",function(e){return I(e.colIndex)}).attr("y",function(e){return z(e.rowIndex)}).attr("opacity",this.removeEmpty?function(e){return 1}:P).attr("width",function(e){return I(e.colIndex+1)-I(e.colIndex)}).attr("height",function(e){return z(e.rowIndex+1)-z(e.rowIndex)}),R.selectAll(".row-label").data(g).enter().append("text").attr("class","row-label").text(function(e){return e.name}).attr("color","black").attr("font-size","10px").attr("alignment-baseline","middle").attr("x",o+s).attr("y",function(e){return z(e.pos)}),D.selectAll(".col-label").data(_).enter().append("g").attr("transform",function(e){return"translate("+I(e.pos)+","+(u+p)+")"}).attr("class","col-label").append("text").text(function(e){return e.name}).attr("color","black").attr("font-size","10px").attr("transform","rotate(-90)").attr("text-anchor","end").attr("alignment-baseline","middle")}}}]),t}(s.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeHeatmap=void 0;var r=n(431),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.TreeHeatmap=i.default},function(e,t,n){"use strict";var r=n(149),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(432);i.default.register(a.TreeHeatmap,"TreeHeatmap")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A bar chart built by Candela.",data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"bar",encoding:{}};this.options.x&&this.options.y&&(e.selection={grid:{type:"interval",bind:"scales",encodings:["y"]}}),e.encoding.y={aggregate:this.options.aggregate||"sum"},this.options.y&&(e.encoding.y.field=this.options.y,e.encoding.y.type=this.options.yType||"quantitative");for(var t=["x","color"],n=0;n<t.length;n++){var r=t[n];this.options[r]&&(e.encoding[r]={field:this.options[r],type:this.options[r+"Type"]||"nominal"})}return e}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"x",name:"X",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"xType",name:" ",type:"string",default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"y",name:"Y",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"yType",name:" ",type:"string",default:"quantitative",domain:["quantitative","temporal","nominal","ordinal"]},{id:"aggregate",name:"Aggregate",type:"string",optional:!0,default:"sum",domain:["sum","count","mean","median","min","max"]},{id:"color",name:"Color",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"colorType",name:" ",type:"string",default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e=this,t=this.options.data||[],n=this.options.fields||[],r=[];t.forEach(function(t){n.forEach(function(n){var i={};i.__field=n,i.__value=t[n],i[e.options.color]=t[e.options.color],i[e.options.x]=t[e.options.x],r.push(i)})});var i={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A bar chart built by Candela.",data:{values:r},width:this.getWidth(200),height:this.getHeight(200),mark:"box-plot",encoding:{}};return i.encoding.y={field:"__value",type:"quantitative",axis:{title:""}},i.encoding.column={field:"__field",type:"nominal",header:{title:""}},i.encoding.x={field:this.options.x||"",type:this.options.xType||"nominal"},i.encoding.color={field:this.options.color||"",type:this.options.colorType||"nominal"},i}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"fields",name:"Fields",type:"string_list",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"x",name:"X",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"xType",name:" ",type:"string",default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"color",name:"Color",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"colorType",name:" ",type:"string",default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){return{$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A Gantt chart built by Candela.",data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"rect",encoding:{x:{field:this.options.start||"",type:this.options.type||"quantitative",axis:{grid:!1,tickCount:this.options.tickCount||5,title:this.options.axisTitle||""}},x2:{field:this.options.end||"",type:this.options.type||"quantitative"},y:{field:this.options.label||"",type:"nominal",axis:{grid:!0,title:""},sort:{field:"_id"},scale:{reverse:!0}},color:{field:this.options.level||"",legend:null,type:"nominal",scale:{range:["#1f77b4","#aec7e8"]}}}}}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"label",name:"Label",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"level",name:"Level",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"start",name:"Start",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"end",name:"End",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"type",name:" ",type:"string",default:"quantitative",domain:["nominal","quantitative","temporal","ordinal"]},{id:"tickCount",name:"Tick count",type:"number",default:5},{id:"axisTitle",name:"Axis title",type:"string",default:""}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A histogram built by Candela.",data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"bar",encoding:{}};return this.options.x&&(e.selection={grid:{type:"interval",bind:"scales",encodings:["x"]}}),this.options.x&&(e.encoding.x={field:this.options.x,type:this.options.xType||"quantitative",bin:{maxbins:this.options.maxBins||10}}),e.encoding.y={aggregate:this.options.aggregate||"count"},this.options.y&&(e.encoding.y.field=this.options.y,e.encoding.y.type=this.options.yType||"quantitative"),this.options.color&&(e.encoding.color={field:this.options.color,type:this.options.colorType||"nominal"}),e}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"x",name:"X",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"xType",name:" ",type:"string",default:"quantitative",domain:["quantitative","temporal","nominal","ordinal"]},{id:"maxBins",name:"Maximum number of bins",type:"number",default:10},{id:"y",name:"Y",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"yType",name:" ",type:"string",default:"quantitative",domain:["quantitative","temporal","nominal","ordinal"]},{id:"aggregate",name:"Aggregate",type:"string",optional:!0,domain:["count","mean","sum","median","min","max"]},{id:"color",name:"Color",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"colorType",name:" ",type:"string",default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A line chart built by Candela.",data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"line",encoding:{}};if(this.options.x&&this.options.y&&(e.selection={grid:{type:"interval",bind:"scales"}}),this.options.x&&(e.encoding.x={field:this.options.x,type:this.options.xType||"quantitative"}),this.options.y&&(e.encoding.y={field:this.options.y,type:this.options.yType||"quantitative"}),this.options.series){var t={field:this.options.series,type:this.options.seriesType||"nominal"};void 0===this.options.colorSeries||this.options.colorSeries?e.encoding.color=t:e.encoding.detail=t}return this.options.showPoints&&(e.config={overlay:{line:!0}}),e}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"x",name:"X",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"xType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["quantitative","nominal","temporal","ordinal"]},{id:"y",name:"Y",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"yType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["quantitative","nominal","temporal","ordinal"]},{id:"series",name:"Series",type:"string",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean","string"]}},{id:"seriesType",name:" ",type:"string",optional:!0,default:"nominal",domain:["quantitative","nominal","temporal","ordinal"]},{id:"colorSeries",name:"Color series",type:"boolean",optional:!0,default:!0},{id:"showPoints",name:"Show points",type:"boolean",optional:!0,default:!1}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A generic Vega-lite chart built by Candela.",data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"point",config:{mark:{filled:void 0===this.options.filled||this.options.filled}},encoding:{}};this.options.x&&this.options.y&&(e.selection={grid:{type:"interval",bind:"scales"}});for(var t=["x","y","size","color","shape"],n=0;n<t.length;n++){var r=t[n];if(this.options[r]){var i=["x","y","size"].indexOf(r)>=0?"quantitative":"nominal";e.encoding[r]={field:this.options[r],type:this.options[r+"Type"]||i}}}return e}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"x",name:"X",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"xType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["nominal","quantitative","temporal","ordinal"]},{id:"y",name:"Y",type:"string",domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"yType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["nominal","quantitative","temporal","ordinal"]},{id:"color",name:"Color",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"colorType",name:" ",type:"string",optional:!0,default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"size",name:"Size",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{id:"sizeType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["nominal","quantitative","temporal","ordinal"]},{id:"shape",name:"Shape",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"shapeType",name:" ",type:"string",optional:!0,default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"filled",name:"Fill shapes",type:"boolean",optional:!0,default:!0}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),c=n(46),f=r(c),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"generateSpec",value:function(){var e={$schema:"https://vega.github.io/schema/vega-lite/v2.0.json",description:"A generic Vega-lite chart built by Candela.",repeat:{row:this.options.fields||[],column:this.options.fields||[]},spec:{data:{values:this.options.data||[]},width:this.getWidth(200),height:this.getHeight(200),mark:"point",encoding:{x:{field:{repeat:"column"},type:"quantitative"},y:{field:{repeat:"row"},type:"quantitative"}}},config:{mark:{filled:void 0===this.options.filled||this.options.filled}}};e.spec.selection={grid:{type:"interval",bind:"scales"}};for(var t=["size","color","shape"],n=0;n<t.length;n++){var r=t[n];if(this.options[r]){var i="size"===r?"quantitative":"nominal";e.spec.encoding[r]={field:this.options[r],type:this.options[r+"Type"]||i}}}return e}}],[{key:"options",get:function(){return[{id:"data",name:"Data table",type:"table"},{id:"fields",name:"Fields",type:"string_list",domain:{mode:"field",from:"data",fieldTypes:["date","number","integer","boolean"]}},{id:"color",name:"Color",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"colorType",name:" ",type:"string",optional:!0,default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"size",name:"Size",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["number","integer","boolean"]}},{id:"sizeType",name:" ",type:"string",optional:!0,default:"quantitative",domain:["nominal","quantitative","temporal","ordinal"]},{id:"shape",name:"Shape",type:"string",optional:!0,domain:{mode:"field",from:"data",fieldTypes:["string","date","number","integer","boolean"]}},{id:"shapeType",name:" ",type:"string",optional:!0,default:"nominal",domain:["nominal","quantitative","temporal","ordinal"]},{id:"filled",name:"Fill shapes",type:"boolean",optional:!0,default:!0}]}}]),t}((0,f.default)(l.default));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterPlotMatrix=t.ScatterPlot=t.LineChart=t.Histogram=t.GanttChart=t.BoxPlot=t.BarChart=void 0;var i=n(434),a=r(i),o=n(435),u=r(o),s=n(436),l=r(s),c=n(437),f=r(c),d=n(438),h=r(d),p=n(439),v=r(p),m=n(440),g=r(m);t.BarChart=a.default,t.BoxPlot=u.default,t.GanttChart=l.default,t.Histogram=f.default,t.LineChart=h.default,t.ScatterPlot=v.default,t.ScatterPlotMatrix=g.default},function(e,t,n){"use strict";var r=n(149),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(441),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);Object.entries(o).forEach(function(e){return i.default.register(e[1],e[0])})},function(e,t,n){"use strict";function r(e){var t="";return t+='<div class="g-candela-vis-setup"><div class="g-candela-panel-group"><div class="g-candela-inputs-container"></div></div><div class="g-candela-update-vis-container"><div class="g-candela-validation-failed-message"></div><button class="g-candela-update-vis btn btn-sm btn-success"><i class="icon-play"></i>Update</button></div></div><div class="g-candela-vis"></div>'}n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e){n+='<div class="g-item-candela"><div class="g-item-candela-header"><i class="icon-chart-bar"></i> Candela visualization<select class="form-control g-item-candela-component">',function(){var r=e;if("number"==typeof r.length)for(var a=0,o=r.length;a<o;a++){var u=r[a];n=n+"<option"+i.attr("value",u,!0,!0)+">"+i.escape(null==(t=u)?"":t)+"</option>"}else{var o=0;for(var a in r){o++;var u=r[a];n=n+"<option"+i.attr("value",u,!0,!0)+">"+i.escape(null==(t=u)?"":t)+"</option>"}}}.call(this),n+='</select></div><div class="g-item-candela-container"><div class="g-item-candela-parameters"></div></div></div>'}.call(this,"components"in r?r.components:"undefined"!=typeof components?components:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e,r,a,o,u){n=n+'<div class="form-group g-control-item"'+i.attr("data-type",o,!0,!0)+i.attr("data-control-id",r,!0,!0)+">",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),n=n+'<div class="checkbox"><label class="control-label"'+i.attr("for",r,!0,!0)+"><input"+i.attr("name",a,!0,!0)+' type="checkbox"'+i.attr("id",r,!0,!0)+i.attr("checked",!!u,!0,!0)+">"+i.escape(null==(t=a)?"":t)+"</label></div></div>"}.call(this,"description"in r?r.description:"undefined"!=typeof description?description:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r={},a=e||{};return function(e,a,o,u,s){r.input=t=function(e,t,r,a){var o=(this&&this.block,this&&this.attributes||{}),u="text";"number"!==t&&"integer"!==t||(u="number"),(t.match(/-vector$/)||"region"===t)&&(a=a.join(",")),n=n+"<input"+i.attrs(i.merge([{class:"form-control",name:i.escape(e),type:i.escape(u),id:i.escape(r),value:i.escape(a)},o]),!0)+">"},n=n+'<div class="form-group g-control-item"'+i.attr("data-type",u,!0,!0)+i.attr("data-control-id",a,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",a,!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</label>",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),n+='<div class="input-group">',r.input(o,u,a,s),n+='<div class="input-group-addon"><i></i></div></div></div>'}.call(this,"description"in a?a.description:"undefined"!=typeof description?description:void 0,"id"in a?a.id:"undefined"!=typeof id?id:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0,"type"in a?a.type:"undefined"!=typeof type?type:void 0,"value"in a?a.value:"undefined"!=typeof value?value:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e,r,a,o){n=n+'<div class="g-panel-title-container"><span class="g-panel-title">'+i.escape(null==(t=o)?"":t)+'</span><span class="g-panel-controls">',n+=e?'<i class="icon-down-open"></i>':'<i class="icon-up-open"></i>',a&&(n=n+'<i class="icon-cancel g-remove-panel"'+i.attr("data-target","#"+r,!0,!0)+"></i>"),n+="</span></div>";var u={};e||(u.class="in"),n=n+"<div"+i.attrs(i.merge([{class:"g-panel-content collapse"},u]),!0)+"><form></form></div>"}.call(this,"collapsed"in r?r.collapsed:"undefined"!=typeof collapsed?collapsed:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"removeButton"in r?r.removeButton:"undefined"!=typeof removeButton?removeButton:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e,r,a,o,u,s,l){n=n+'<div class="form-group g-control-item"'+i.attr("data-type",u,!0,!0)+i.attr("data-control-id",a,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",a,!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</label>",r&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=r)?"":t)+"</div>"),n=n+'<select class="form-control"'+i.attr("id",a,!0,!0)+i.attr("name",o,!0,!0)+' multiple="multiple"'+i.attr("size",e.min(l.length,10),!0,!0)+">",function(){var e=l;if("number"==typeof e.length)for(var r=0,a=e.length;r<a;r++){var o=e[r];n=n+"<option"+i.attr("selected",s.includes(o),!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</option>"}else{var a=0;for(var r in e){a++;var o=e[r];n=n+"<option"+i.attr("selected",s.includes(o),!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</option>"}}}.call(this),n+="</select></div>"}.call(this,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"description"in r?r.description:"undefined"!=typeof description?description:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0,"values"in r?r.values:"undefined"!=typeof values?values:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e,r,a,o,u,s){n=n+'<div class="form-group g-control-item"'+i.attr("data-type",o,!0,!0)+i.attr("data-control-id",r,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",r,!0,!0)+">"+i.escape(null==(t=a)?"":t)+"</label>",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),n=n+'<select class="form-control"'+i.attr("id",r,!0,!0)+i.attr("name",a,!0,!0)+">",function(){var e=s;if("number"==typeof e.length)for(var r=0,a=e.length;r<a;r++){var o=e[r];n=n+"<option"+i.attr("selected",o===u,!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</option>"}else{var a=0;for(var r in e){a++;var o=e[r];n=n+"<option"+i.attr("selected",o===u,!0,!0)+">"+i.escape(null==(t=o)?"":t)+"</option>"}}}.call(this),n+="</select></div>"}.call(this,"description"in r?r.description:"undefined"!=typeof description?description:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0,"values"in r?r.values:"undefined"!=typeof values?values:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r={},a=e||{};return function(e,a,o,u,s,l){r.input=t=function(e,t,r,a){var o=(this&&this.block,this&&this.attributes||{}),u="text";"number"!==t&&"integer"!==t||(u="number"),(t.match(/-vector$/)||"region"===t)&&(a=a.join(",")),n=n+"<input"+i.attrs(i.merge([{class:"form-control",name:i.escape(e),type:i.escape(u),id:i.escape(r),value:i.escape(a)},o]),!0)+">"},n=n+'<div class="form-group g-control-item"'+i.attr("data-type",s,!0,!0)+i.attr("data-control-id",o,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",o,!0,!0)+">"+i.escape(null==(t=u)?"":t)+"</label>",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),n+='<div class="input-group">\x3c!-- ignore invalid values, let the validation handle it--\x3e';var c;l&&l.name?c=l.name():l=null,n+="\x3c!-- different behavior for different types of inputs--\x3e","file"===s||"image"===s?r.input.call({attributes:{placeholder:"Choose an item...",readonly:!0}},u,s,o,c):"directory"===s?r.input.call({attributes:{placeholder:"Choose a folder...",readonly:!0}},u,s,o,c):"new-file"===s?r.input.call({attributes:{placeholder:"Choose an item...",readonly:!0}},u,s,o,a):"new-folder"===s&&r.input.call({attributes:{placeholder:"Choose a folder...",readonly:!0}},u,s,o,a),n+='<span class="input-group-btn"><button class="btn btn-default g-select-file-button" type="button"><i class="icon-folder-open"></i></button></span></div></div>'}.call(this,"description"in a?a.description:"undefined"!=typeof description?description:void 0,"fileName"in a?a.fileName:"undefined"!=typeof fileName?fileName:void 0,"id"in a?a.id:"undefined"!=typeof id?id:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0,"type"in a?a.type:"undefined"!=typeof type?type:void 0,"value"in a?a.value:"undefined"!=typeof value?value:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r=e||{};return function(e,r,a,o){n=n+'<div class="g-panel-title-container"><span class="g-panel-title">'+i.escape(null==(t=o)?"":t)+'</span><span class="g-panel-controls">',n+=e?'<i class="icon-down-open"></i>':'<i class="icon-up-open"></i>',a&&(n=n+'<i class="icon-cancel g-remove-panel"'+i.attr("data-target","#"+r,!0,!0)+"></i>"),n+="</span></div>";var u={};e||(u.class="in"),n=n+"<div"+i.attrs(i.merge([{class:"g-panel-content collapse"},u]),!0)+"></div>"}.call(this,"collapsed"in r?r.collapsed:"undefined"!=typeof collapsed?collapsed:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"removeButton"in r?r.removeButton:"undefined"!=typeof removeButton?removeButton:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r={},a=e||{};return function(e,a,o,u,s,l,c,f){r.input=t=function(e,t,r,a){var o=(this&&this.block,this&&this.attributes||{}),u="text";"number"!==t&&"integer"!==t||(u="number"),(t.match(/-vector$/)||"region"===t)&&(a=a.join(",")),n=n+"<input"+i.attrs(i.merge([{class:"form-control",name:i.escape(e),type:i.escape(u),id:i.escape(r),value:i.escape(a)},o]),!0)+">"},n=n+'<div class="form-group g-control-item"'+i.attr("data-type",c,!0,!0)+i.attr("data-control-id",a,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",a,!0,!0)+">"+i.escape(null==(t=l)?"":t)+"</label>",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),r.input.call({attributes:{"data-slider-min":i.escape(u||0),"data-slider-max":i.escape(o||1),"data-slider-step":i.escape(s||1),"data-slider-value":i.escape(f||u||0)}},l,c,a,f),n+="</div>"}.call(this,"description"in a?a.description:"undefined"!=typeof description?description:void 0,"id"in a?a.id:"undefined"!=typeof id?id:void 0,"max"in a?a.max:"undefined"!=typeof max?max:void 0,"min"in a?a.min:"undefined"!=typeof min?min:void 0,"step"in a?a.step:"undefined"!=typeof step?step:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0,"type"in a?a.type:"undefined"!=typeof type?type:void 0,"value"in a?a.value:"undefined"!=typeof value?value:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n="",r={},a=e||{};return function(e,a,o,u,s,l,c,f){r.input=t=function(e,t,r,a){var o=(this&&this.block,this&&this.attributes||{}),u="text";"number"!==t&&"integer"!==t||(u="number"),(t.match(/-vector$/)||"region"===t)&&(a=a.join(",")),n=n+"<input"+i.attrs(i.merge([{class:"form-control",name:i.escape(e),type:i.escape(u),id:i.escape(r),value:i.escape(a)},o]),!0)+">"},n=n+'<div class="form-group g-control-item"'+i.attr("data-type",c,!0,!0)+i.attr("data-control-id",a,!0,!0)+'><label class="g-control-widget-label control-label"'+i.attr("for",a,!0,!0)+">"+i.escape(null==(t=l)?"":t)+"</label>",e&&(n=n+'<div class="g-control-widget-description">'+i.escape(null==(t=e)?"":t)+"</div>"),r.input.call({attributes:{min:i.escape(u),max:i.escape(o),step:i.escape(s)}},l,c,a,f),n+="</div>"}.call(this,"description"in a?a.description:"undefined"!=typeof description?description:void 0,"id"in a?a.id:"undefined"!=typeof id?id:void 0,"max"in a?a.max:"undefined"!=typeof max?max:void 0,"min"in a?a.min:"undefined"!=typeof min?min:void 0,"step"in a?a.step:"undefined"!=typeof step?step:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0,"type"in a?a.type:"undefined"!=typeof type?type:void 0,"value"in a?a.value:"undefined"!=typeof value?value:void 0),n}var i=n(33);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(231);t.default=function(e,t,n){var i,a,o,u,s=e.length,l=t.length,c=new Array(s*l);for(null==n&&(n=r.pair),i=o=0;i<s;++i)for(u=e[i],a=0;a<l;++a,++o)c[o]=n(u,t[a]);return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(225),i=n(226),a=n(454),o=n(229),u=n(458),s=n(232),l=n(234),c=n(233);t.default=function(){function e(e){var r,a,o=e.length,u=new Array(o);for(r=0;r<o;++r)u[r]=t(e[r],r,e);var c=f(u),h=c[0],p=c[1],v=d(u,h,p);Array.isArray(v)||(v=n.i(l.tickStep)(h,p,v),v=n.i(s.default)(Math.ceil(h/v)*v,Math.floor(p/v)*v,v));for(var m=v.length;v[0]<=h;)v.shift(),--m;for(;v[m-1]>p;)v.pop(),--m;var g,y=new Array(m+1);for(r=0;r<=m;++r)g=y[r]=[],g.x0=r>0?v[r-1]:h,g.x1=r<m?v[r]:p;for(r=0;r<o;++r)a=u[r],h<=a&&a<=p&&y[n.i(i.default)(v,a,0,m)].push(e[r]);return y}var t=u.default,f=o.default,d=c.default;return e.value=function(r){return arguments.length?(t="function"==typeof r?r:n.i(a.default)(r),e):t},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:n.i(a.default)([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?n.i(a.default)(r.slice.call(t)):n.i(a.default)(t),e):d},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&n>r&&(r=n);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);t.default=function(e,t){var i,a=e.length,o=a,u=-1,s=0;if(null==t)for(;++u<a;)isNaN(i=n.i(r.default)(e[u]))?--o:s+=i;else for(;++u<a;)isNaN(i=n.i(r.default)(t(e[u],u,e)))?--o:s+=i;if(o)return s/o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=n(70),a=n(150);t.default=function(e,t){var o,u=e.length,s=-1,l=[];if(null==t)for(;++s<u;)isNaN(o=n.i(i.default)(e[s]))||l.push(o);else for(;++s<u;)isNaN(o=n.i(i.default)(t(e[s],s,e)))||l.push(o);return n.i(a.default)(l.sort(r.default),.5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.default=function(e,t){if(n=e.length){var n,i,a=0,o=0,u=e[o];for(null==t&&(t=r.default);++a<n;)(t(i=e[a],u)<0||0!==t(u,u))&&(u=i,o=a);return 0===t(u,u)?o:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r,i,a=(null==n?e.length:n)-(t=null==t?0:+t);a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r=e.length,i=-1,a=0;if(null==t)for(;++i<r;)(n=+e[i])&&(a+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(a+=n);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(225),i=n(65),a=n(70),o=n(150);t.default=function(e,t,u){return e=r.map.call(e,a.default).sort(i.default),Math.ceil((u-t)/(2*(n.i(o.default)(e,.75)-n.i(o.default)(e,.25))*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228);t.default=function(e,t,i){return Math.ceil((i-t)/(3.5*n.i(r.default)(e)*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(235);t.default=function(){return n.i(r.default)(arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)t.push(n);return t}},function(e,t,n){"use strict";function r(){return{}}function i(e,t,n){e[t]=n}function a(){return n.i(u.default)()}function o(e,t,n){e.set(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(151);t.default=function(){function e(t,r,i,a){if(r>=f.length)return null!=s&&t.sort(s),null!=l?l(t):t;for(var o,c,d,h=-1,p=t.length,v=f[r++],m=n.i(u.default)(),g=i();++h<p;)(d=m.get(o=v(c=t[h])+""))?d.push(c):m.set(o,[c]);return m.each(function(t,n){a(g,n,e(t,r,i,a))}),g}function t(e,n){if(++n>f.length)return e;var r,i=d[n-1];return null!=l&&n>=f.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=i?r.sort(function(e,t){return i(e.key,t.key)}):r}var s,l,c,f=[],d=[];return c={object:function(t){return e(t,0,r,i)},map:function(t){return e(t,0,a,o)},entries:function(n){return t(e(n,0,a,o),0)},key:function(e){return f.push(e),c},sortKeys:function(e){return d[f.length-1]=e,c},sortValues:function(e){return s=e,c},rollup:function(e){return l=e,c}}}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,a=e.length;if(null==t)for(;++i<a;)n.add(e[i]);else for(;++i<a;)n.add(t(e[i],i,e))}return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(151),o=a.default.prototype;r.prototype=i.prototype={constructor:r,has:o.has,add:function(e){return e+="",this[a.prefix+e]=e,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)t.push(e[n]);return t}},function(e,t,n){"use strict";function r(e){if(e instanceof a)return new a(e.h,e.s,e.l,e.opacity);e instanceof u.Rgb||(e=n.i(u.rgbConvert)(e));var t=e.r/255,r=e.g/255,i=e.b/255,o=(m*i+p*t-v*r)/(m+p-v),l=i-o,c=(h*(r-o)-f*l)/d,g=Math.sqrt(c*c+l*l)/(h*o*(1-o)),y=g?Math.atan2(c,l)*s.rad2deg-120:NaN;return new a(y<0?y+360:y,g,o,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new a(e,t,n,null==i?1:i)}function a(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.Cubehelix=a;var o=n(153),u=n(152),s=n(237),l=-.14861,c=1.78277,f=-.29227,d=-.90649,h=1.97294,p=h*d,v=h*c,m=c*f-d*l;n.i(o.default)(a,i,n.i(o.extend)(u.Color,{brighter:function(e){return e=null==e?u.brighter:Math.pow(u.brighter,e),new a(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?u.darker:Math.pow(u.darker,e),new a(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*s.deg2rad,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new u.Rgb(255*(t+n*(l*r+c*i)),255*(t+n*(f*r+d*i)),255*(t+n*(h*r)),this.opacity)}}))},function(e,t,n){"use strict";function r(e){if(e instanceof a)return new a(e.l,e.a,e.b,e.opacity);if(e instanceof d){var t=e.h*v.deg2rad;return new a(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof p.Rgb||(e=n.i(p.rgbConvert)(e));var r=l(e.r),i=l(e.g),u=l(e.b),s=o((.4124564*r+.3575761*i+.1804375*u)/m),c=o((.2126729*r+.7151522*i+.072175*u)/g);return new a(116*c-16,500*(s-c),200*(c-o((.0193339*r+.119192*i+.9503041*u)/y)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new a(e,t,n,null==i?1:i)}function a(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function o(e){return e>w?Math.pow(e,1/3):e/x+_}function u(e){return e>b?e*e*e:x*(e-_)}function s(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){if(e instanceof d)return new d(e.h,e.c,e.l,e.opacity);e instanceof a||(e=r(e));var t=Math.atan2(e.b,e.a)*v.rad2deg;return new d(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function f(e,t,n,r){return 1===arguments.length?c(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.Lab=a,t.hcl=f,t.Hcl=d;var h=n(153),p=n(152),v=n(237),m=.95047,g=1,y=1.08883,_=4/29,b=6/29,x=3*b*b,w=b*b*b;n.i(h.default)(a,i,n.i(h.extend)(p.Color,{brighter:function(e){return new a(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new a(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=g*u(e),t=m*u(t),n=y*u(n),new p.Rgb(s(3.2404542*t-1.5371385*e-.4985314*n),s(-.969266*t+1.8760108*e+.041556*n),s(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),n.i(h.default)(d,f,n.i(h.extend)(p.Color,{brighter:function(e){return new d(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new d(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240);n.d(t,"contours",function(){return r.default});var i=n(482);n.d(t,"contourDensity",function(){return i.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e-t}},function(e,t,n){"use strict";function r(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<i;++o)for(var u=0,s=0;u<r+n;++u)u<r&&(s+=e.data[u+o*r]),u>=n&&(u>=a&&(s-=e.data[u-a+o*r]),t.data[u-n+o*r]=s/Math.min(u+1,r-1+a-u,a))}function i(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<r;++o)for(var u=0,s=0;u<i+n;++u)u<i&&(s+=e.data[o+u*r]),u>=n&&(u>=a&&(s-=e.data[o+(u-a)*r]),t.data[o+(u-n)*r]=s/Math.min(u+1,i-1+a-u,a))}Object.defineProperty(t,"__esModule",{value:!0}),t.blurX=r,t.blurY=i},function(e,t,n){"use strict";function r(e,t){for(var n=t[0],r=t[1],a=-1,o=0,u=e.length,s=u-1;o<u;s=o++){var l=e[o],c=l[0],f=l[1],d=e[s],h=d[0],p=d[1];if(i(l,d,t))return 0;f>r!=p>r&&n<(h-c)*(r-f)/(p-f)+c&&(a=-a)}return a}function i(e,t,n){var r;return a(e,t,n)&&o(e[r=+(e[0]===t[0])],n[r],t[r])}function a(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}function o(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n,i=-1,a=t.length;++i<a;)if(n=r(e,t[i]))return n;return 0}},function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=n(238),u=n(480),s=n(239),l=n(240);t.default=function(){function e(e){var r=new Float32Array(x*w),i=new Float32Array(x*w);e.forEach(function(e,t,n){var i=p(e,t,n)+b>>_,a=v(e,t,n)+b>>_;i>=0&&i<x&&a>=0&&a<w&&++r[i+a*x]}),n.i(u.blurX)({width:x,height:w,data:r},{width:x,height:w,data:i},y>>_),n.i(u.blurY)({width:x,height:w,data:i},{width:x,height:w,data:r},y>>_),n.i(u.blurX)({width:x,height:w,data:r},{width:x,height:w,data:i},y>>_),n.i(u.blurY)({width:x,height:w,data:i},{width:x,height:w,data:r},y>>_),n.i(u.blurX)({width:x,height:w,data:r},{width:x,height:w,data:i},y>>_),n.i(u.blurY)({width:x,height:w,data:i},{width:x,height:w,data:r},y>>_);var o=M(r);if(!Array.isArray(o)){var s=n.i(a.max)(r);o=n.i(a.tickStep)(0,s,o),o=n.i(a.range)(0,Math.floor(s/o)*o,o),o.shift()}return n.i(l.default)().thresholds(o).size([x,w])(r).map(t)}function t(e){return e.value*=Math.pow(2,-2*_),e.coordinates.forEach(c),e}function c(e){e.forEach(f)}function f(e){e.forEach(d)}function d(e){e[0]=e[0]*Math.pow(2,_)-b,e[1]=e[1]*Math.pow(2,_)-b}function h(){return b=3*y,x=m+2*b>>_,w=g+2*b>>_,e}var p=r,v=i,m=960,g=500,y=20,_=2,b=3*y,x=m+2*b>>_,w=g+2*b>>_,M=n.i(s.default)(20);return e.x=function(t){return arguments.length?(p="function"==typeof t?t:n.i(s.default)(+t),e):p},e.y=function(t){return arguments.length?(v="function"==typeof t?t:n.i(s.default)(+t),e):v},e.size=function(e){if(!arguments.length)return[m,g];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return m=t,g=n,h()},e.cellSize=function(e){if(!arguments.length)return 1<<_;if(!((e=+e)>=1))throw new Error("invalid cell size");return _=Math.floor(Math.log(e)/Math.LN2),h()},e.thresholds=function(t){return arguments.length?(M="function"==typeof t?t:Array.isArray(t)?n.i(s.default)(o.slice.call(t)):n.i(s.default)(t),e):M},e.bandwidth=function(e){if(!arguments.length)return Math.sqrt(y*(y+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return y=Math.round((Math.sqrt(4*e*e+1)-1)/2),h()},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function o(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function u(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=s,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Object.defineProperty(t,"__esModule",{value:!0});var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=a(e+"",r),s=-1,l=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<l;)if(n=(e=i[s]).type)r[n]=u(r[n],e.name,t);else if(null==t)for(n in r)r[n]=u(r[n],e.name,null);return this}for(;++s<l;)if((n=(e=i[s]).type)&&(n=o(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(492);n.d(t,"easeLinear",function(){return r.linear});var i=n(494);n.d(t,"easeQuad",function(){return i.quadInOut}),n.d(t,"easeQuadIn",function(){return i.quadIn}),n.d(t,"easeQuadOut",function(){return i.quadOut}),n.d(t,"easeQuadInOut",function(){return i.quadInOut});var a=n(489);n.d(t,"easeCubic",function(){return a.cubicInOut}),n.d(t,"easeCubicIn",function(){return a.cubicIn}),n.d(t,"easeCubicOut",function(){return a.cubicOut}),n.d(t,"easeCubicInOut",function(){return a.cubicInOut});var o=n(493);n.d(t,"easePoly",function(){return o.polyInOut}),n.d(t,"easePolyIn",function(){return o.polyIn}),n.d(t,"easePolyOut",function(){return o.polyOut}),n.d(t,"easePolyInOut",function(){return o.polyInOut});var u=n(495);n.d(t,"easeSin",function(){return u.sinInOut}),n.d(t,"easeSinIn",function(){return u.sinIn}),n.d(t,"easeSinOut",function(){return u.sinOut}),n.d(t,"easeSinInOut",function(){return u.sinInOut});var s=n(491);n.d(t,"easeExp",function(){return s.expInOut}),n.d(t,"easeExpIn",function(){return s.expIn}),n.d(t,"easeExpOut",function(){return s.expOut}),n.d(t,"easeExpInOut",function(){return s.expInOut});var l=n(488);n.d(t,"easeCircle",function(){return l.circleInOut}),n.d(t,"easeCircleIn",function(){return l.circleIn}),n.d(t,"easeCircleOut",function(){return l.circleOut}),n.d(t,"easeCircleInOut",function(){return l.circleInOut});var c=n(487);n.d(t,"easeBounce",function(){return c.bounceOut}),n.d(t,"easeBounceIn",function(){return c.bounceIn}),n.d(t,"easeBounceOut",function(){return c.bounceOut}),n.d(t,"easeBounceInOut",function(){return c.bounceInOut});var f=n(486);n.d(t,"easeBack",function(){return f.backInOut}),n.d(t,"easeBackIn",function(){return f.backIn}),n.d(t,"easeBackOut",function(){return f.backOut}),n.d(t,"easeBackInOut",function(){return f.backInOut});var d=n(490);n.d(t,"easeElastic",function(){return d.elasticOut}),n.d(t,"easeElasticIn",function(){return d.elasticIn}),n.d(t,"easeElasticOut",function(){return d.elasticOut}),n.d(t,"easeElasticInOut",function(){return d.elasticInOut})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"backIn",function(){return r}),n.d(t,"backOut",function(){return i}),n.d(t,"backInOut",function(){return a});var r=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),i=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),a=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict";function r(e){return 1-i(1-e)}function i(e){return(e=+e)<o?v*e*e:e<s?v*(e-=u)*e+l:e<f?v*(e-=c)*e+d:v*(e-=h)*e+p}function a(e){return((e*=2)<=1?1-i(1-e):i(e-1)+1)/2}Object.defineProperty(t,"__esModule",{value:!0}),t.bounceIn=r,t.bounceOut=i,t.bounceInOut=a;var o=4/11,u=6/11,s=8/11,l=.75,c=9/11,f=10/11,d=.9375,h=21/22,p=63/64,v=1/o/o},function(e,t,n){"use strict";function r(e){return 1-Math.sqrt(1-e*e)}function i(e){return Math.sqrt(1- --e*e)}function a(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}Object.defineProperty(t,"__esModule",{value:!0}),t.circleIn=r,t.circleOut=i,t.circleInOut=a},function(e,t,n){"use strict";function r(e){return e*e*e}function i(e){return--e*e*e+1}function a(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Object.defineProperty(t,"__esModule",{value:!0}),t.cubicIn=r,t.cubicOut=i,t.cubicInOut=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"elasticIn",function(){return i}),n.d(t,"elasticOut",function(){return a}),n.d(t,"elasticInOut",function(){return o});var r=2*Math.PI,i=function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((a-e)/n)}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3),a=function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+a)/n)}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3),o=function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((a-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((a+e)/n))/2}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3)},function(e,t,n){"use strict";function r(e){return Math.pow(2,10*e-10)}function i(e){return 1-Math.pow(2,-10*e)}function a(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}Object.defineProperty(t,"__esModule",{value:!0}),t.expIn=r,t.expOut=i,t.expInOut=a},function(e,t,n){"use strict";function r(e){return+e}Object.defineProperty(t,"__esModule",{value:!0}),t.linear=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyIn",function(){return r}),n.d(t,"polyOut",function(){return i}),n.d(t,"polyInOut",function(){return a});var r=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),i=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),a=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict";function r(e){return e*e}function i(e){return e*(2-e)}function a(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}Object.defineProperty(t,"__esModule",{value:!0}),t.quadIn=r,t.quadOut=i,t.quadInOut=a},function(e,t,n){"use strict";function r(e){return 1-Math.cos(e*u)}function i(e){return Math.sin(e*u)}function a(e){return(1-Math.cos(o*e))/2}Object.defineProperty(t,"__esModule",{value:!0}),t.sinIn=r,t.sinOut=i,t.sinInOut=a;var o=Math.PI,u=o/2},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(497);n.d(t,"forceCenter",function(){return r.default});var i=n(498);n.d(t,"forceCollide",function(){return i.default});var a=n(499);n.d(t,"forceLink",function(){return a.default});var o=n(500);n.d(t,"forceManyBody",function(){return o.default});var u=n(501);n.d(t,"forceRadial",function(){return u.default});var s=n(241);n.d(t,"forceSimulation",function(){return s.default});var l=n(502);n.d(t,"forceX",function(){return l.default});var c=n(503);n.d(t,"forceY",function(){return c.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(){var n,i,a=r.length,o=0,u=0;for(n=0;n<a;++n)i=r[n],o+=i.x,u+=i.y;for(o=o/a-e,u=u/a-t,n=0;n<a;++n)i=r[n],i.x-=o,i.y-=u}var r;return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){r=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n}},function(e,t,n){"use strict";function r(e){return e.x+e.vx}function i(e){return e.y+e.vy}Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),o=n(155),u=n(273);t.default=function(e){function t(){function e(e,t,r,i,a){var u=e.data,s=e.r,c=m+s;{if(!u)return t>p+c||i<p-c||r>v+c||a<v-c;if(u.index>l.index){var f=p-u.x-u.vx,h=v-u.y-u.vy,y=f*f+h*h;y<c*c&&(0===f&&(f=n.i(o.default)(),y+=f*f),0===h&&(h=n.i(o.default)(),y+=h*h),y=(c-(y=Math.sqrt(y)))/y*d,l.vx+=(f*=y)*(c=(s*=s)/(g+s)),l.vy+=(h*=y)*c,u.vx-=f*(c=1-c),u.vy-=h*c)}}}for(var t,a,l,p,v,m,g,y=c.length,_=0;_<h;++_)for(a=n.i(u.quadtree)(c,r,i).visitAfter(s),t=0;t<y;++t)l=c[t],m=f[l.index],g=m*m,p=l.x+l.vx,v=l.y+l.vy,a.visit(e)}function s(e){if(e.data)return e.r=f[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(c){var t,n,r=c.length;for(f=new Array(r),t=0;t<r;++t)n=c[t],f[n.index]=+e(n,t,c)}}var c,f,d=1,h=1;return"function"!=typeof e&&(e=n.i(a.default)(null==e?1:+e)),t.initialize=function(e){c=e,l()},t.iterations=function(e){return arguments.length?(h=+e,t):h},t.strength=function(e){return arguments.length?(d=+e,t):d},t.radius=function(r){return arguments.length?(e="function"==typeof r?r:n.i(a.default)(+r),l(),t):e},t}},function(e,t,n){"use strict";function r(e){return e.index}function i(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),o=n(155),u=n(71);t.default=function(e){function t(e){return 1/Math.min(v[e.source.index],v[e.target.index])}function s(t){for(var r=0,i=e.length;r<b;++r)for(var a,u,s,l,c,f,p,v=0;v<i;++v)a=e[v],u=a.source,s=a.target,l=s.x+s.vx-u.x-u.vx||n.i(o.default)(),c=s.y+s.vy-u.y-u.vy||n.i(o.default)(),f=Math.sqrt(l*l+c*c),f=(f-h[v])/f*t*d[v],l*=f,c*=f,s.vx-=l*(p=m[v]),s.vy-=c*p,u.vx+=l*(p=1-p),u.vy+=c*p}function l(){if(p){var t,r,a=p.length,o=e.length,s=n.i(u.map)(p,g);for(t=0,v=new Array(a);t<o;++t)r=e[t],r.index=t,"object"!=typeof r.source&&(r.source=i(s,r.source)),"object"!=typeof r.target&&(r.target=i(s,r.target)),v[r.source.index]=(v[r.source.index]||0)+1,v[r.target.index]=(v[r.target.index]||0)+1;for(t=0,m=new Array(o);t<o;++t)r=e[t],m[t]=v[r.source.index]/(v[r.source.index]+v[r.target.index]);d=new Array(o),c(),h=new Array(o),f()}}function c(){if(p)for(var t=0,n=e.length;t<n;++t)d[t]=+y(e[t],t,e)}function f(){if(p)for(var t=0,n=e.length;t<n;++t)h[t]=+_(e[t],t,e)}var d,h,p,v,m,g=r,y=t,_=n.i(a.default)(30),b=1;return null==e&&(e=[]),s.initialize=function(e){p=e,l()},s.links=function(t){return arguments.length?(e=t,l(),s):e},s.id=function(e){return arguments.length?(g=e,s):g},s.iterations=function(e){return arguments.length?(b=+e,s):b},s.strength=function(e){return arguments.length?(y="function"==typeof e?e:n.i(a.default)(+e),c(),s):y},s.distance=function(e){return arguments.length?(_="function"==typeof e?e:n.i(a.default)(+e),f(),s):_},s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(155),a=n(273),o=n(241);t.default=function(){function e(e){var t,r=l.length,i=n.i(a.quadtree)(l,o.x,o.y).visitAfter(u);for(f=e,t=0;t<r;++t)c=l[t],i.visit(s)}function t(){if(l){var e,t,n=l.length;for(d=new Array(n),e=0;e<n;++e)t=l[e],d[t.index]=+h(t,e,l)}}function u(e){var t,n,r,i,a,o=0,u=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(o+=t.value,u+=n,r+=n*t.x,i+=n*t.y);e.x=r/u,e.y=i/u}else{t=e,t.x=t.data.x,t.y=t.data.y;do{o+=d[t.data.index]}while(t=t.next)}e.value=o}function s(e,t,r,a){if(!e.value)return!0;var o=e.x-c.x,u=e.y-c.y,s=a-t,l=o*o+u*u;if(s*s/m<l)return l<v&&(0===o&&(o=n.i(i.default)(),l+=o*o),0===u&&(u=n.i(i.default)(),l+=u*u),l<p&&(l=Math.sqrt(p*l)),c.vx+=o*e.value*f/l,c.vy+=u*e.value*f/l),!0;if(!(e.length||l>=v)){(e.data!==c||e.next)&&(0===o&&(o=n.i(i.default)(),l+=o*o),0===u&&(u=n.i(i.default)(),l+=u*u),l<p&&(l=Math.sqrt(p*l)));do{e.data!==c&&(s=d[e.data.index]*f/l,c.vx+=o*s,c.vy+=u*s)}while(e=e.next)}}var l,c,f,d,h=n.i(r.default)(-30),p=1,v=1/0,m=.81;return e.initialize=function(e){l=e,t()},e.strength=function(i){return arguments.length?(h="function"==typeof i?i:n.i(r.default)(+i),t(),e):h},e.distanceMin=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e.distanceMax=function(t){return arguments.length?(v=t*t,e):Math.sqrt(v)},e.theta=function(t){return arguments.length?(m=t*t,e):Math.sqrt(m)},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.default=function(e,t,i){function a(e){for(var n=0,r=u.length;n<r;++n){var a=u[n],o=a.x-t||1e-6,c=a.y-i||1e-6,f=Math.sqrt(o*o+c*c),d=(l[n]-f)*s[n]*e/f;a.vx+=o*d,a.vy+=c*d}}function o(){if(u){var t,n=u.length;for(s=new Array(n),l=new Array(n),t=0;t<n;++t)l[t]=+e(u[t],t,u),s[t]=isNaN(l[t])?0:+c(u[t],t,u)}}var u,s,l,c=n.i(r.default)(.1);return"function"!=typeof e&&(e=n.i(r.default)(+e)),null==t&&(t=0),null==i&&(i=0),a.initialize=function(e){u=e,o()},a.strength=function(e){return arguments.length?(c="function"==typeof e?e:n.i(r.default)(+e),o(),a):c},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:n.i(r.default)(+t),o(),a):e},a.x=function(e){return arguments.length?(t=+e,a):t},a.y=function(e){return arguments.length?(i=+e,a):i},a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.default=function(e){function t(e){for(var t,n=0,r=a.length;n<r;++n)t=a[n],t.vx+=(u[n]-t.x)*o[n]*e}function i(){if(a){var t,n=a.length;for(o=new Array(n),u=new Array(n),t=0;t<n;++t)o[t]=isNaN(u[t]=+e(a[t],t,a))?0:+s(a[t],t,a)}}var a,o,u,s=n.i(r.default)(.1);return"function"!=typeof e&&(e=n.i(r.default)(null==e?0:+e)),t.initialize=function(e){a=e,i()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:n.i(r.default)(+e),i(),t):s},t.x=function(a){return arguments.length?(e="function"==typeof a?a:n.i(r.default)(+a),i(),t):e},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.default=function(e){function t(e){for(var t,n=0,r=a.length;n<r;++n)t=a[n],t.vy+=(u[n]-t.y)*o[n]*e}function i(){if(a){var t,n=a.length;for(o=new Array(n),u=new Array(n),t=0;t<n;++t)o[t]=isNaN(u[t]=+e(a[t],t,a))?0:+s(a[t],t,a)}}var a,o,u,s=n.i(r.default)(.1);return"function"!=typeof e&&(e=n.i(r.default)(null==e?0:+e)),t.initialize=function(e){a=e,i()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:n.i(r.default)(+e),i(),t):s},t.y=function(a){return arguments.length?(e="function"==typeof a?a:n.i(r.default)(+a),i(),t):e},t}},function(e,t,n){"use strict";function r(e){return i=n.i(u.default)(e),a=i.format,o=i.formatPrefix,i}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"format",function(){return a}),n.d(t,"formatPrefix",function(){return o}),t.default=r;var i,a,o,u=n(245);r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156);t.default=function(e,t){var i=n.i(r.default)(e,t);if(!i)return e+"";var a=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);t.default=function(e){return Math.max(0,-n.i(r.default)(Math.abs(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);t.default=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n.i(r.default)(t)/3)))-n.i(r.default)(Math.abs(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);t.default=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n.i(r.default)(t)-n.i(r.default)(e))+1}},function(e,t,n){"use strict";function r(e,t){x.push(w=[h=e,v=e]),t<p&&(p=t),t>m&&(m=t)}function i(e,t){var r=n.i(P.cartesian)([e*S.radians,t*S.radians]);if(b){var i=n.i(P.cartesianCross)(b,r),a=[i[1],-i[0],0],o=n.i(P.cartesianCross)(a,i);n.i(P.cartesianNormalizeInPlace)(o),o=n.i(P.spherical)(o);var u,s=e-g,l=s>0?1:-1,f=o[0]*S.degrees*l,d=n.i(S.abs)(s)>180;d^(l*g<f&&f<l*e)?(u=o[1]*S.degrees)>m&&(m=u):(f=(f+360)%360-180,d^(l*g<f&&f<l*e)?(u=-o[1]*S.degrees)<p&&(p=u):(t<p&&(p=t),t>m&&(m=t))),d?e<g?c(h,e)>c(h,v)&&(v=e):c(e,v)>c(h,v)&&(h=e):v>=h?(e<h&&(h=e),e>v&&(v=e)):e>g?c(h,e)>c(h,v)&&(v=e):c(e,v)>c(h,v)&&(h=e)}else x.push(w=[h=e,v=e]);t<p&&(p=t),t>m&&(m=t),b=r,g=e}function a(){j.point=i}function o(){w[0]=h,w[1]=v,j.point=r,b=null}function u(e,t){if(b){var r=e-g;E.add(n.i(S.abs)(r)>180?r+(r>0?360:-360):r)}else y=e,_=t;O.areaStream.point(e,t),i(e,t)}function s(){O.areaStream.lineStart()}function l(){u(y,_),O.areaStream.lineEnd(),n.i(S.abs)(E)>S.epsilon&&(h=-(v=180)),w[0]=h,w[1]=v,b=null}function c(e,t){return(t-=e)<0?t+360:t}function f(e,t){return e[0]-t[0]}function d(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}Object.defineProperty(t,"__esModule",{value:!0});var h,p,v,m,g,y,_,b,x,w,M=n(67),O=n(247),P=n(72),S=n(4),k=n(48),E=n.i(M.default)(),j={point:r,lineStart:a,lineEnd:o,polygonStart:function(){j.point=u,j.lineStart=s,j.lineEnd=l,E.reset(),O.areaStream.polygonStart()},polygonEnd:function(){O.areaStream.polygonEnd(),j.point=r,j.lineStart=a,j.lineEnd=o,O.areaRingSum<0?(h=-(v=180),p=-(m=90)):E>S.epsilon?m=90:E<-S.epsilon&&(p=-90),w[0]=h,w[1]=v}};t.default=function(e){var t,r,i,a,o,u,s;if(m=v=-(h=p=1/0),x=[],n.i(k.default)(e,j),r=x.length){for(x.sort(f),t=1,i=x[0],o=[i];t<r;++t)a=x[t],d(i,a[0])||d(i,a[1])?(c(i[0],a[1])>c(i[0],i[1])&&(i[1]=a[1]),c(a[0],i[1])>c(i[0],i[1])&&(i[0]=a[0])):o.push(i=a);for(u=-1/0,r=o.length-1,t=0,i=o[r];t<=r;i=a,++t)a=o[t],(s=c(i[1],a[0]))>u&&(u=s,h=a[0],v=i[1])}return x=w=null,h===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,p],[v,m]]}},function(e,t,n){"use strict";function r(e,t){e*=j.radians,t*=j.radians;var r=n.i(j.cos)(t);i(r*n.i(j.cos)(e),r*n.i(j.sin)(e),n.i(j.sin)(t))}function i(e,t,n){++h,v+=(e-v)/h,m+=(t-m)/h,g+=(n-g)/h}function a(){A.point=o}function o(e,t){e*=j.radians,t*=j.radians;var r=n.i(j.cos)(t);S=r*n.i(j.cos)(e),k=r*n.i(j.sin)(e),E=n.i(j.sin)(t),A.point=u,i(S,k,E)}function u(e,t){e*=j.radians,t*=j.radians;var r=n.i(j.cos)(t),a=r*n.i(j.cos)(e),o=r*n.i(j.sin)(e),u=n.i(j.sin)(t),s=n.i(j.atan2)(n.i(j.sqrt)((s=k*u-E*o)*s+(s=E*a-S*u)*s+(s=S*o-k*a)*s),S*a+k*o+E*u);p+=s,y+=s*(S+(S=a)),_+=s*(k+(k=o)),b+=s*(E+(E=u)),i(S,k,E)}function s(){A.point=r}function l(){A.point=f}function c(){d(O,P),A.point=r}function f(e,t){O=e,P=t,e*=j.radians,t*=j.radians,A.point=d;var r=n.i(j.cos)(t);S=r*n.i(j.cos)(e),k=r*n.i(j.sin)(e),E=n.i(j.sin)(t),i(S,k,E)}function d(e,t){e*=j.radians,t*=j.radians;var r=n.i(j.cos)(t),a=r*n.i(j.cos)(e),o=r*n.i(j.sin)(e),u=n.i(j.sin)(t),s=k*u-E*o,l=E*a-S*u,c=S*o-k*a,f=n.i(j.sqrt)(s*s+l*l+c*c),d=n.i(j.asin)(f),h=f&&-d/f;x+=h*s,w+=h*l,M+=h*c,p+=d,y+=d*(S+(S=a)),_+=d*(k+(k=o)),b+=d*(E+(E=u)),i(S,k,E)}Object.defineProperty(t,"__esModule",{value:!0});var h,p,v,m,g,y,_,b,x,w,M,O,P,S,k,E,j=n(4),T=n(42),C=n(48),A={sphere:T.default,point:r,lineStart:a,lineEnd:s,polygonStart:function(){A.lineStart=l,A.lineEnd=c},polygonEnd:function(){A.lineStart=a,A.lineEnd=s}};t.default=function(e){h=p=v=m=g=y=_=b=x=w=M=0,n.i(C.default)(e,A);var t=x,r=w,i=M,a=t*t+r*r+i*i;return a<j.epsilon2&&(t=y,r=_,i=b,p<j.epsilon&&(t=v,r=m,i=g),(a=t*t+r*r+i*i)<j.epsilon2)?[NaN,NaN]:[n.i(j.atan2)(r,t)*j.degrees,n.i(j.asin)(i/n.i(j.sqrt)(a))*j.degrees]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99);t.default=function(){var e,t,i,a=0,o=0,u=960,s=500;return i={stream:function(i){return e&&t===i?e:e=n.i(r.default)(a,o,u,s)(t=i)},extent:function(n){return arguments.length?(a=+n[0][0],o=+n[0][1],u=+n[1][0],s=+n[1][1],e=t=null,i):[[a,o],[u,s]]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i,a){var o,u=e[0],s=e[1],l=t[0],c=t[1],f=0,d=1,h=l-u,p=c-s;if(o=n-u,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>f&&(f=o)}if(o=i-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<d&&(d=o)}if(o=r-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=a-s,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}return f>0&&(e[0]=u+f*h,e[1]=s+f*p),d<1&&(t[0]=u+d*h,t[1]=s+d*p),!0}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t){return!(!e||!h.hasOwnProperty(e.type))&&h[e.type](e,t)}function i(e,t){return 0===n.i(c.default)(e,t)}function a(e,t){var r=n.i(c.default)(e[0],e[1]);return n.i(c.default)(e[0],t)+n.i(c.default)(t,e[1])<=r+f.epsilon}function o(e,t){return!!n.i(l.default)(e.map(u),s(t))}function u(e){return e=e.map(s),e.pop(),e}function s(e){return[e[0]*f.radians,e[1]*f.radians]}Object.defineProperty(t,"__esModule",{value:!0});var l=n(259),c=n(255),f=n(4),d={Feature:function(e,t){return r(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)if(r(n[i].geometry,t))return!0;return!1}},h={Sphere:function(){return!0},Point:function(e,t){return i(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)if(i(n[r],t))return!0;return!1},LineString:function(e,t){return a(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(a(n[r],t))return!0;return!1},Polygon:function(e,t){return o(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(o(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)if(r(n[i],t))return!0;return!1}};t.default=function(e,t){return(e&&d.hasOwnProperty(e.type)?d[e.type]:r)(e,t)}},function(e,t,n){"use strict";function r(e,t,r){var i=n.i(u.range)(e,t-s.epsilon,r).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function i(e,t,r){var i=n.i(u.range)(e,t-s.epsilon,r).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function a(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return n.i(u.range)(n.i(s.ceil)(c/x)*x,l,x).map(g).concat(n.i(u.range)(n.i(s.ceil)(p/w)*w,h,w).map(y)).concat(n.i(u.range)(n.i(s.ceil)(o/_)*_,a,_).filter(function(e){return n.i(s.abs)(e%x)>s.epsilon}).map(v)).concat(n.i(u.range)(n.i(s.ceil)(d/b)*b,f,b).filter(function(e){return n.i(s.abs)(e%w)>s.epsilon}).map(m))}var a,o,l,c,f,d,h,p,v,m,g,y,_=10,b=_,x=90,w=360,M=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[g(c).concat(y(h).slice(1),g(l).reverse().slice(1),y(p).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(c=+t[0][0],l=+t[1][0],p=+t[0][1],h=+t[1][1],c>l&&(t=c,c=l,l=t),p>h&&(t=p,p=h,h=t),e.precision(M)):[[c,p],[l,h]]},e.extentMinor=function(t){return arguments.length?(o=+t[0][0],a=+t[1][0],d=+t[0][1],f=+t[1][1],o>a&&(t=o,o=a,a=t),d>f&&(t=d,d=f,f=t),e.precision(M)):[[o,d],[a,f]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(x=+t[0],w=+t[1],e):[x,w]},e.stepMinor=function(t){return arguments.length?(_=+t[0],b=+t[1],e):[_,b]},e.precision=function(t){return arguments.length?(M=+t,v=r(d,f,90),m=i(o,a,M),g=r(p,h,90),y=i(c,l,M),e):M},e.extentMajor([[-180,-90+s.epsilon],[180,90-s.epsilon]]).extentMinor([[-180,-80-s.epsilon],[180,80+s.epsilon]])}function o(){return a()()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.graticule10=o;var u=n(8),s=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e,t){var i=e[0]*r.radians,a=e[1]*r.radians,o=t[0]*r.radians,u=t[1]*r.radians,s=n.i(r.cos)(a),l=n.i(r.sin)(a),c=n.i(r.cos)(u),f=n.i(r.sin)(u),d=s*n.i(r.cos)(i),h=s*n.i(r.sin)(i),p=c*n.i(r.cos)(o),v=c*n.i(r.sin)(o),m=2*n.i(r.asin)(n.i(r.sqrt)(n.i(r.haversin)(u-a)+s*c*n.i(r.haversin)(o-i))),g=n.i(r.sin)(m),y=m?function(e){var t=n.i(r.sin)(e*=m)/g,i=n.i(r.sin)(m-e)/g,a=i*d+t*p,o=i*h+t*v,u=i*l+t*f;return[n.i(r.atan2)(o,a)*r.degrees,n.i(r.atan2)(u,n.i(r.sqrt)(a*a+o*o))*r.degrees]}:function(){return[i*r.degrees,a*r.degrees]};return y.distance=m,y}},function(e,t,n){"use strict";function r(){m.point=i}function i(e,t){m.point=a,u=l=e,s=c=t}function a(e,t){v.add(c*e-l*t),l=e,c=t}function o(){a(u,s)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,l,c,f=n(67),d=n(4),h=n(42),p=n.i(f.default)(),v=n.i(f.default)(),m={point:h.default,lineStart:h.default,lineEnd:h.default,polygonStart:function(){m.lineStart=r,m.lineEnd=o},polygonEnd:function(){m.lineStart=m.lineEnd=m.point=h.default,p.add(n.i(d.abs)(v)),v.reset()},result:function(){var e=p/2;return p.reset(),e}};t.default=m},function(e,t,n){"use strict";function r(e,t){g+=e,y+=t,++_}function i(){S.point=a}function a(e,t){S.point=o,r(p=e,v=t)}function o(e,t){var i=e-p,a=t-v,o=n.i(m.sqrt)(i*i+a*a);b+=o*(p+e)/2,x+=o*(v+t)/2,w+=o,r(p=e,v=t)}function u(){S.point=r}function s(){S.point=c}function l(){f(d,h)}function c(e,t){S.point=f,r(d=p=e,h=v=t)}function f(e,t){var i=e-p,a=t-v,o=n.i(m.sqrt)(i*i+a*a);b+=o*(p+e)/2,x+=o*(v+t)/2,w+=o,o=v*e-p*t,M+=o*(p+e),O+=o*(v+t),P+=3*o,r(p=e,v=t)}Object.defineProperty(t,"__esModule",{value:!0});var d,h,p,v,m=n(4),g=0,y=0,_=0,b=0,x=0,w=0,M=0,O=0,P=0,S={point:r,lineStart:i,lineEnd:u,polygonStart:function(){S.lineStart=s,S.lineEnd=l},polygonEnd:function(){S.point=r,S.lineStart=i,S.lineEnd=u},result:function(){var e=P?[M/P,O/P]:w?[b/w,x/w]:_?[g/_,y/_]:[NaN,NaN];return g=y=_=b=x=w=M=O=P=0,e}};t.default=S},function(e,t,n){"use strict";function r(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4),a=n(42);r.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,i.tau)}},result:a.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),i=n(48),a=n(521),o=n(257),u=n(522),s=n(523),l=n(525),c=n(526);t.default=function(e,t){function f(e){return e&&("function"==typeof p&&h.pointRadius(+p.apply(this,arguments)),n.i(i.default)(e,d(h))),h.result()}var d,h,p=4.5;return f.area=function(e){return n.i(i.default)(e,d(a.default)),a.default.result()},f.measure=function(e){return n.i(i.default)(e,d(l.default)),l.default.result()},f.bounds=function(e){return n.i(i.default)(e,d(o.default)),o.default.result()},f.centroid=function(e){return n.i(i.default)(e,d(u.default)),u.default.result()},f.projection=function(t){return arguments.length?(d=null==t?(e=null,r.default):(e=t).stream,f):e},f.context=function(e){return arguments.length?(h=null==e?(t=null,new c.default):new s.default(t=e),"function"!=typeof p&&h.pointRadius(p),f):t},f.pointRadius=function(e){return arguments.length?(p="function"==typeof e?e:(h.pointRadius(+e),+e),f):p},f.projection(e).context(t)}},function(e,t,n){"use strict";function r(e,t){p.point=i,o=s=e,u=l=t}function i(e,t){s-=e,l-=t,h.add(n.i(f.sqrt)(s*s+l*l)),s=e,l=t}Object.defineProperty(t,"__esModule",{value:!0});var a,o,u,s,l,c=n(67),f=n(4),d=n(42),h=n.i(c.default)(),p={point:d.default,lineStart:function(){p.point=r},lineEnd:function(){a&&i(o,u),p.point=d.default},polygonStart:function(){a=!0},polygonEnd:function(){a=null},result:function(){var e=+h;return h.reset(),e}};t.default=p},function(e,t,n){"use strict";function r(){this._string=[]}function i(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}}},function(e,t,n){"use strict";function r(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(260),o=n(159),u=n(160);t.default=function(){function e(e){var t=e[0],n=e[1];return h=null,c.point(t,n),h||(f.point(t,n),h)||(d.point(t,n),h)}function t(){return s=l=null,e}var s,l,c,f,d,h,p=n.i(a.default)(),v=n.i(o.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),m=n.i(o.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(e,t){h=[e,t]}};return e.invert=function(e){var t=p.scale(),n=p.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?v:i>=.166&&i<.234&&r>=-.214&&r<-.115?m:p).invert(e)},e.stream=function(e){return s&&l===e?s:s=r([p.stream(l=e),v.stream(e),m.stream(e)])},e.precision=function(e){return arguments.length?(p.precision(e),v.precision(e),m.precision(e),t()):p.precision()},e.scale=function(t){return arguments.length?(p.scale(t),v.scale(.35*t),m.scale(t),e.translate(p.translate())):p.scale()},e.translate=function(e){if(!arguments.length)return p.translate();var n=p.scale(),r=+e[0],a=+e[1];return c=p.translate(e).clipExtent([[r-.455*n,a-.238*n],[r+.455*n,a+.238*n]]).stream(g),f=v.translate([r-.307*n,a+.201*n]).clipExtent([[r-.425*n+i.epsilon,a+.12*n+i.epsilon],[r-.214*n-i.epsilon,a+.234*n-i.epsilon]]).stream(g),d=m.translate([r-.205*n,a+.212*n]).clipExtent([[r-.214*n+i.epsilon,a+.166*n+i.epsilon],[r-.115*n-i.epsilon,a+.234*n-i.epsilon]]).stream(g),t()},e.fitExtent=function(t,r){return n.i(u.fitExtent)(e,t,r)},e.fitSize=function(t,r){return n.i(u.fitSize)(e,t,r)},e.fitWidth=function(t,r){return n.i(u.fitWidth)(e,t,r)},e.fitHeight=function(t,r){return n.i(u.fitHeight)(e,t,r)},e.scale(1070)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"azimuthalEqualAreaRaw",function(){return o});var r=n(4),i=n(73),a=n(35),o=n.i(i.azimuthalRaw)(function(e){return n.i(r.sqrt)(2/(1+e))});o.invert=n.i(i.azimuthalInvert)(function(e){return 2*n.i(r.asin)(e/2)}),t.default=function(){return n.i(a.default)(o).scale(124.75).clipAngle(179.999)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"azimuthalEquidistantRaw",function(){return o});var r=n(4),i=n(73),a=n(35),o=n.i(i.azimuthalRaw)(function(e){return(e=n.i(r.acos)(e))&&e/n.i(r.sin)(e)});o.invert=n.i(i.azimuthalInvert)(function(e){return e}),t.default=function(){return n.i(a.default)(o).scale(79.4188).clipAngle(179.999)}},function(e,t,n){"use strict";function r(e){return n.i(a.tan)((a.halfPi+e)/2)}function i(e,t){function i(e,t){l>0?t<-a.halfPi+a.epsilon&&(t=-a.halfPi+a.epsilon):t>a.halfPi-a.epsilon&&(t=a.halfPi-a.epsilon);var i=l/n.i(a.pow)(r(t),s);return[i*n.i(a.sin)(s*e),l-i*n.i(a.cos)(s*e)]}var o=n.i(a.cos)(e),s=e===t?n.i(a.sin)(e):n.i(a.log)(o/n.i(a.cos)(t))/n.i(a.log)(r(t)/r(e)),l=o*n.i(a.pow)(r(e),s)/s;return s?(i.invert=function(e,t){var r=l-t,i=n.i(a.sign)(s)*n.i(a.sqrt)(e*e+r*r);return[n.i(a.atan2)(e,n.i(a.abs)(r))/s*n.i(a.sign)(r),2*n.i(a.atan)(n.i(a.pow)(l/i,1/s))-a.halfPi]},i):u.mercatorRaw}Object.defineProperty(t,"__esModule",{value:!0}),t.conicConformalRaw=i;var a=n(4),o=n(158),u=n(161);t.default=function(){return n.i(o.conicProjection)(i).scale(109.5).parallels([30,30])}},function(e,t,n){"use strict";function r(e,t){function r(e,t){var r=s-t,a=u*e;return[r*n.i(i.sin)(a),s-r*n.i(i.cos)(a)]}var a=n.i(i.cos)(e),u=e===t?n.i(i.sin)(e):(a-n.i(i.cos)(t))/(t-e),s=a/u+e;return n.i(i.abs)(u)<i.epsilon?o.equirectangularRaw:(r.invert=function(e,t){var r=s-t;return[n.i(i.atan2)(e,n.i(i.abs)(r))/u*n.i(i.sign)(r),s-n.i(i.sign)(u)*n.i(i.sqrt)(e*e+r*r)]},r)}Object.defineProperty(t,"__esModule",{value:!0}),t.conicEquidistantRaw=r;var i=n(4),a=n(158),o=n(261);t.default=function(){return n.i(a.conicProjection)(r).scale(131.154).center([0,13.9389])}},function(e,t,n){"use strict";function r(e){function t(e,t){return[e*r,n.i(i.sin)(t)/r]}var r=n.i(i.cos)(e);return t.invert=function(e,t){return[e/r,n.i(i.asin)(t*r)]},t}Object.defineProperty(t,"__esModule",{value:!0}),t.cylindricalEqualAreaRaw=r;var i=n(4)},function(e,t,n){"use strict";function r(e,t){var r=n.i(i.cos)(t),a=n.i(i.cos)(e)*r;return[r*n.i(i.sin)(e)/a,n.i(i.sin)(t)/a]}Object.defineProperty(t,"__esModule",{value:!0}),t.gnomonicRaw=r;var i=n(4),a=n(73),o=n(35);r.invert=n.i(a.azimuthalInvert)(i.atan),t.default=function(){return n.i(o.default)(r).scale(144.049).clipAngle(60)}},function(e,t,n){"use strict";function r(e,t,r,i){return 1===e&&1===t&&0===r&&0===i?a.default:n.i(o.transformer)({point:function(n,a){this.stream.point(n*e+r,a*t+i)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),a=n(157),o=n(101),u=n(160);t.default=function(){function e(){return l=c=null,f}var t,o,s,l,c,f,d=1,h=0,p=0,v=1,m=1,g=a.default,y=null,_=a.default;return f={stream:function(e){return l&&c===e?l:l=g(_(c=e))},postclip:function(n){return arguments.length?(_=n,y=t=o=s=null,e()):_},clipExtent:function(r){return arguments.length?(_=null==r?(y=t=o=s=null,a.default):n.i(i.default)(y=+r[0][0],t=+r[0][1],o=+r[1][0],s=+r[1][1]),e()):null==y?null:[[y,t],[o,s]]},scale:function(t){return arguments.length?(g=r((d=+t)*v,d*m,h,p),e()):d},translate:function(t){return arguments.length?(g=r(d*v,d*m,h=+t[0],p=+t[1]),e()):[h,p]},reflectX:function(t){return arguments.length?(g=r(d*(v=t?-1:1),d*m,h,p),e()):v<0},reflectY:function(t){return arguments.length?(g=r(d*v,d*(m=t?-1:1),h,p),e()):m<0},fitExtent:function(e,t){return n.i(u.fitExtent)(f,e,t)},fitSize:function(e,t){return n.i(u.fitSize)(f,e,t)},fitWidth:function(e,t){return n.i(u.fitWidth)(f,e,t)},fitHeight:function(e,t){return n.i(u.fitHeight)(f,e,t)}}}},function(e,t,n){"use strict";function r(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Object.defineProperty(t,"__esModule",{value:!0}),t.naturalEarth1Raw=r;var i=n(35),a=n(4);r.invert=function(e,t){var r,i=t,o=25;do{var u=i*i,s=u*u;i-=r=(i*(1.007226+u*(.015085+s*(.028874*u-.044475-.005916*s)))-t)/(1.007226+u*(.045255+s*(.259866*u-.311325-.005916*11*s)))}while(n.i(a.abs)(r)>a.epsilon&&--o>0);return[e/(.8707+(u=i*i)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),i]},t.default=function(){return n.i(i.default)(r).scale(175.295)}},function(e,t,n){"use strict";function r(e,t){return[n.i(i.cos)(t)*n.i(i.sin)(e),n.i(i.sin)(t)]}Object.defineProperty(t,"__esModule",{value:!0}),t.orthographicRaw=r;var i=n(4),a=n(73),o=n(35);r.invert=n.i(a.azimuthalInvert)(i.asin),t.default=function(){return n.i(o.default)(r).scale(249.5).clipAngle(90+i.epsilon)}},function(e,t,n){"use strict";function r(e){return n.i(u.transformer)({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function i(e,t){function r(i,a,u,s,c,f,d,h,p,v,m,g,y,_){var b=d-i,x=h-a,w=b*b+x*x;if(w>4*t&&y--){var M=s+v,O=c+m,P=f+g,S=n.i(o.sqrt)(M*M+O*O+P*P),k=n.i(o.asin)(P/=S),E=n.i(o.abs)(n.i(o.abs)(P)-1)<o.epsilon||n.i(o.abs)(u-p)<o.epsilon?(u+p)/2:n.i(o.atan2)(O,M),j=e(E,k),T=j[0],C=j[1],A=T-i,N=C-a,R=x*A-b*N;(R*R/w>t||n.i(o.abs)((b*A+x*N)/w-.5)>.3||s*v+c*m+f*g<l)&&(r(i,a,u,s,c,f,T,C,E,M/=S,O/=S,P,y,_),_.point(T,C),r(T,C,E,M,O,P,d,h,p,v,m,g,y,_))}}return function(t){function i(n,r){n=e(n,r),t.point(n[0],n[1])}function o(){b=NaN,P.point=u,t.lineStart()}function u(i,o){var u=n.i(a.cartesian)([i,o]),l=e(i,o);r(b,x,_,w,M,O,b=l[0],x=l[1],_=i,w=u[0],M=u[1],O=u[2],s,t),t.point(b,x)}function l(){P.point=i,t.lineEnd()}function c(){o(),P.point=f,P.lineEnd=d}function f(e,t){u(h=e,t),p=b,v=x,m=w,g=M,y=O,P.point=u}function d(){r(b,x,_,w,M,O,p,v,h,m,g,y,s,t),P.lineEnd=l,l()}var h,p,v,m,g,y,_,b,x,w,M,O,P={point:i,lineStart:o,lineEnd:l,polygonStart:function(){t.polygonStart(),P.lineStart=c},polygonEnd:function(){t.polygonEnd(),P.lineStart=o}};return P}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(72),o=n(4),u=n(101),s=16,l=n.i(o.cos)(30*o.radians);t.default=function(e,t){return+t?i(e,t):r(e)}},function(e,t,n){"use strict";function r(e,t){var r=n.i(i.cos)(t),a=1+n.i(i.cos)(e)*r;return[r*n.i(i.sin)(e)/a,n.i(i.sin)(t)/a]}Object.defineProperty(t,"__esModule",{value:!0}),t.stereographicRaw=r;var i=n(4),a=n(73),o=n(35);r.invert=n.i(a.azimuthalInvert)(function(e){return 2*n.i(i.atan)(e)}),t.default=function(){return n.i(o.default)(r).scale(250).clipAngle(142)}},function(e,t,n){"use strict";function r(e,t){return[n.i(i.log)(n.i(i.tan)((i.halfPi+t)/2)),-e]}Object.defineProperty(t,"__esModule",{value:!0}),t.transverseMercatorRaw=r;var i=n(4),a=n(161);r.invert=function(e,t){return[-t,2*n.i(i.atan)(n.i(i.exp)(e))-i.halfPi]},t.default=function(){var e=n.i(a.mercatorProjection)(r),t=e.center,i=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?i([e[0],e[1],e.length>2?e[2]+90:90]):(e=i(),[e[0],e[1],e[2]-90])},i([0,0,90]).scale(159.155)}},function(e,t,n){"use strict";function r(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"slice",function(){return i}),t.shuffle=r;var i=Array.prototype.slice},function(e,t,n){"use strict";function r(e,t){return e.parent===t.parent?1:2}function i(e){return e.reduce(a,0)/e.length}function a(e,t){return e+t.x}function o(e){return 1+e.reduce(u,0)}function u(e,t){return Math.max(e,t.y)}function s(e){for(var t;t=e.children;)e=t[0];return e}function l(e){for(var t;t=e.children;)e=t[t.length-1];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var r,c=0;e.eachAfter(function(e){var n=e.children;n?(e.x=i(n),e.y=o(n)):(e.x=r?c+=t(e,r):0,e.y=0,r=e)});var f=s(e),d=l(e),h=f.x-t(f,d)/2,p=d.x+t(d,f)/2;return e.eachAfter(u?function(t){t.x=(t.x-e.x)*n,t.y=(e.y-t.y)*a}:function(t){t.x=(t.x-h)/(p-h)*n,t.y=(1-(e.y?t.y/e.y:1))*a})}var t=r,n=1,a=1,u=!1;return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(u=!1,n=+t[0],a=+t[1],e):u?null:[n,a]},e.nodeSize=function(t){return arguments.length?(u=!0,n=+t[0],a=+t[1],e):u?[n,a]:null},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}},function(e,t,n){"use strict";function r(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.eachAfter(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[];return this.each(function(t){e.push(t)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r,i,a=this,o=[a];do{for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}},function(e,t,n){"use strict";function r(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=this,n=r(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var a=i.length;e!==n;)i.splice(a,0,e),e=e.parent;return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}},function(e,t,n){"use strict";function r(e){return Math.sqrt(e.value)}function i(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function a(e,t){return function(r){if(i=r.children){var i,a,o,s=i.length,l=e(r)*t||0;if(l)for(a=0;a<s;++a)i[a].r+=l;if(o=n.i(u.packEnclose)(i),l)for(a=0;a<s;++a)i[a].r-=l;r.r=o+l}}}function o(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(264),s=n(162),l=n(262);t.default=function(){function e(e){return e.x=u/2,e.y=c/2,t?e.eachBefore(i(t)).eachAfter(a(f,.5)).eachBefore(o(1)):e.eachBefore(i(r)).eachAfter(a(l.constantZero,1)).eachAfter(a(f,e.r/Math.min(u,c))).eachBefore(o(Math.min(u,c)/(2*e.r))),e}var t=null,u=1,c=1,f=l.constantZero;return e.radius=function(r){return arguments.length?(t=n.i(s.optional)(r),e):t},e.size=function(t){return arguments.length?(u=+t[0],c=+t[1],e):[u,c]},e.padding=function(t){return arguments.length?(f="function"==typeof t?t:n.i(l.default)(+t),e):f},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(265),i=n(74);t.default=function(){function e(e){var n=e.height+1;return e.x0=e.y0=u,e.x1=a,e.y1=o/n,e.eachBefore(t(o,n)),s&&e.eachBefore(r.default),e}function t(e,t){return function(r){r.children&&n.i(i.default)(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var a=r.x0,o=r.y0,s=r.x1-u,l=r.y1-u;s<a&&(a=s=(a+s)/2),l<o&&(o=l=(o+l)/2),r.x0=a,r.y0=o,r.x1=s,r.y1=l}}var a=1,o=1,u=0,s=!1;return e.round=function(t){return arguments.length?(s=!!t,e):s},e.size=function(t){return arguments.length?(a=+t[0],o=+t[1],e):[a,o]},e.padding=function(t){return arguments.length?(u=+t,e):u},e}},function(e,t,n){"use strict";function r(e){return e.id}function i(e){return e.parentId}Object.defineProperty(t,"__esModule",{value:!0});var a=n(162),o=n(163),u="$",s={depth:-1},l={};t.default=function(){function e(e){var n,r,i,a,f,d,h,p=e.length,v=new Array(p),m={};for(r=0;r<p;++r)n=e[r],f=v[r]=new o.Node(n),null!=(d=t(n,r,e))&&(d+="")&&(h=u+(f.id=d),m[h]=h in m?l:f);for(r=0;r<p;++r)if(f=v[r],null!=(d=c(e[r],r,e))&&(d+="")){if(!(a=m[u+d]))throw new Error("missing: "+d);if(a===l)throw new Error("ambiguous: "+d);a.children?a.children.push(f):a.children=[f],f.parent=a}else{if(i)throw new Error("multiple roots");i=f}if(!i)throw new Error("no root");if(i.parent=s,i.eachBefore(function(e){e.depth=e.parent.depth+1,--p}).eachBefore(o.computeHeight),i.parent=null,p>0)throw new Error("cycle");return i}var t=r,c=i;return e.id=function(r){return arguments.length?(t=n.i(a.required)(r),e):t},e.parentId=function(t){return arguments.length?(c=n.i(a.required)(t),e):c},e}},function(e,t,n){"use strict";function r(e,t){return e.parent===t.parent?1:2}function i(e){var t=e.children;return t?t[0]:e.t}function a(e){var t=e.children;return t?t[t.length-1]:e.t}function o(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function u(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function s(e,t,n){return e.a.parent===t.parent?e.a:n}function l(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function c(e){for(var t,n,r,i,a,o=new l(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(n=t.children[i]=new l(r[i],i)),n.parent=t;return(o.parent=new l(null,0)).children=[o],o}Object.defineProperty(t,"__esModule",{value:!0});var f=n(163);l.prototype=Object.create(f.Node.prototype),t.default=function(){function e(e){var r=c(e);if(r.eachAfter(t),r.parent.m=-r.z,r.eachBefore(n),v)e.eachBefore(f);else{var i=e,a=e,o=e;e.eachBefore(function(e){e.x<i.x&&(i=e),e.x>a.x&&(a=e),e.depth>o.depth&&(o=e)});var u=i===a?1:d(i,a)/2,s=u-i.x,l=h/(a.x+u+s),m=p/(o.depth||1);e.eachBefore(function(e){e.x=(e.x+s)*l,e.y=e.depth*m})}return e}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t){u(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+d(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+d(e._,r._));e.parent.A=l(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e,t,n){if(t){for(var r,u=e,l=e,c=t,f=u.parent.children[0],h=u.m,p=l.m,v=c.m,m=f.m;c=a(c),u=i(u),c&&u;)f=i(f),l=a(l),l.a=e,r=c.z+v-u.z-h+d(c._,u._),r>0&&(o(s(c,e,n),e,r),h+=r,p+=r),v+=c.m,h+=u.m,m+=f.m,p+=l.m;c&&!a(l)&&(l.t=c,l.m+=v-p),u&&!i(f)&&(f.t=u,f.m+=h-m,n=e)}return n}function f(e){e.x*=h,e.y=e.depth*p}var d=r,h=1,p=1,v=null;return e.separation=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(v=!1,h=+t[0],p=+t[1],e):v?null:[h,p]},e.nodeSize=function(t){return arguments.length?(v=!0,h=+t[0],p=+t[1],e):v?[h,p]:null},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){function a(e,t,n,r,i,o,u){if(e>=t-1){var l=s[e];return l.x0=r,l.y0=i,l.x1=o,l.y1=u,void 0}for(var f=c[e],d=n/2+f,h=e+1,p=t-1;h<p;){var v=h+p>>>1;c[v]<d?h=v+1:p=v}d-c[h-1]<c[h]-d&&e+1<h&&--h;var m=c[h]-f,g=n-m;if(o-r>u-i){var y=(r*g+o*m)/n;a(e,h,m,r,i,y,u),a(h,t,g,y,i,o,u)}else{var _=(i*g+u*m)/n;a(e,h,m,r,i,o,_),a(h,t,g,r,_,o,u)}}var o,u,s=e.children,l=s.length,c=new Array(l+1);for(c[0]=u=o=0;o<l;++o)c[o+1]=u+=s[o].value;a(0,l,e.value,t,n,r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(265),i=n(164),a=n(162),o=n(262);t.default=function(){function e(e){return e.x0=e.y0=0,e.x1=l,e.y1=c,e.eachBefore(t),f=[0],s&&e.eachBefore(r.default),e}function t(e){var t=f[e.depth],n=e.x0+t,r=e.y0+t,i=e.x1-t,a=e.y1-t;i<n&&(n=i=(n+i)/2),a<r&&(r=a=(r+a)/2),e.x0=n,e.y0=r,e.x1=i,e.y1=a,e.children&&(t=f[e.depth+1]=d(e)/2,n+=m(e)-t,r+=h(e)-t,i-=p(e)-t,a-=v(e)-t,i<n&&(n=i=(n+i)/2),a<r&&(r=a=(r+a)/2),u(e,n,r,i,a))}var u=i.default,s=!1,l=1,c=1,f=[0],d=o.constantZero,h=o.constantZero,p=o.constantZero,v=o.constantZero,m=o.constantZero;return e.round=function(t){return arguments.length?(s=!!t,e):s},e.size=function(t){return arguments.length?(l=+t[0],c=+t[1],e):[l,c]},e.tile=function(t){return arguments.length?(u=n.i(a.required)(t),e):u},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(d="function"==typeof t?t:n.i(o.default)(+t),e):d},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(h="function"==typeof t?t:n.i(o.default)(+t),e):h},e.paddingRight=function(t){return arguments.length?(p="function"==typeof t?t:n.i(o.default)(+t),e):p},e.paddingBottom=function(t){return arguments.length?(v="function"==typeof t?t:n.i(o.default)(+t),e):v},e.paddingLeft=function(t){return arguments.length?(m="function"==typeof t?t:n.i(o.default)(+t),e):m},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74),i=n(102),a=n(164);t.default=function e(t){function o(e,o,u,s,l){if((c=e._squarify)&&c.ratio===t)for(var c,f,d,h,p,v=-1,m=c.length,g=e.value;++v<m;){for(f=c[v],d=f.children,h=f.value=0,p=d.length;h<p;++h)f.value+=d[h].value;f.dice?n.i(r.default)(f,o,u,s,u+=(l-u)*f.value/g):n.i(i.default)(f,o,u,o+=(s-o)*f.value/g,l),g-=f.value}else e._squarify=c=n.i(a.squarifyRatio)(t,e,o,u,s,l),c.ratio=t}return o.ratio=function(t){return e((t=+t)>1?t:1)},o}(a.phi)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74),i=n(102);t.default=function(e,t,n,a,o){(1&e.depth?i.default:r.default)(e,t,n,a,o)}},function(e,t,n){"use strict";function r(e){return function t(r){function o(t,o){var u=e((t=n.i(i.cubehelix)(t)).h,(o=n.i(i.cubehelix)(o)).h),s=n.i(a.default)(t.s,o.s),l=n.i(a.default)(t.l,o.l),c=n.i(a.default)(t.opacity,o.opacity);return function(e){return t.h=u(e),t.s=s(e),t.l=l(Math.pow(e,r)),t.opacity=c(e),t+""}}return r=+r,o.gamma=t,o}(1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"cubehelixLong",function(){return o});var i=n(34),a=n(75);t.default=r(a.hue);var o=r(a.default)},function(e,t,n){"use strict";function r(e){return function(t,r){var o=e((t=n.i(i.hcl)(t)).h,(r=n.i(i.hcl)(r)).h),u=n.i(a.default)(t.c,r.c),s=n.i(a.default)(t.l,r.l),l=n.i(a.default)(t.opacity,r.opacity);return function(e){return t.h=o(e),t.c=u(e),t.l=s(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"hclLong",function(){return o});var i=n(34),a=n(75);t.default=r(a.hue);var o=r(a.default)},function(e,t,n){"use strict";function r(e){return function(t,r){var o=e((t=n.i(i.hsl)(t)).h,(r=n.i(i.hsl)(r)).h),u=n.i(a.default)(t.s,r.s),s=n.i(a.default)(t.l,r.l),l=n.i(a.default)(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=u(e),t.l=s(e),t.opacity=l(e),t+""}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"hslLong",function(){return o});var i=n(34),a=n(75);t.default=r(a.hue);var o=r(a.default)},function(e,t,n){"use strict";function r(e,t){var r=n.i(a.default)((e=n.i(i.lab)(e)).l,(t=n.i(i.lab)(t)).l),o=n.i(a.default)(e.a,t.a),u=n.i(a.default)(e.b,t.b),s=n.i(a.default)(e.opacity,t.opacity);return function(t){return e.l=r(t),e.a=o(t),e.b=u(t),e.opacity=s(t),e+""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(34),a=n(75)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"identity",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.default=function(e,t,n,i,a,o){var u,s,l;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,u=-u),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*r,skewX:Math.atan(l)*r,scaleX:u,scaleY:s}}},function(e,t,n){"use strict";function r(e,t,r,a){function o(e){return e.length?e.pop()+" ":""}function u(e,a,o,u,s,l){if(e!==o||a!==u){var c=s.push("translate(",null,t,null,r);l.push({i:c-4,x:n.i(i.default)(e,o)},{i:c-2,x:n.i(i.default)(a,u)})}else(o||u)&&s.push("translate("+o+t+u+r)}function s(e,t,r,u){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),u.push({i:r.push(o(r)+"rotate(",null,a)-2,x:n.i(i.default)(e,t)})):t&&r.push(o(r)+"rotate("+t+a)}function l(e,t,r,u){e!==t?u.push({i:r.push(o(r)+"skewX(",null,a)-2,x:n.i(i.default)(e,t)}):t&&r.push(o(r)+"skewX("+t+a)}function c(e,t,r,a,u,s){if(e!==r||t!==a){var l=u.push(o(u)+"scale(",null,",",null,")");s.push({i:l-4,x:n.i(i.default)(e,r)},{i:l-2,x:n.i(i.default)(t,a)})}else 1===r&&1===a||u.push(o(u)+"scale("+r+","+a+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),u(t.translateX,t.translateY,n.translateX,n.translateY,r,i),s(t.rotate,n.rotate,r,i),l(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"interpolateTransformCss",function(){return o}),n.d(t,"interpolateTransformSvg",function(){return u});var i=n(103),a=n(569),o=r(a.parseCss,"px, ","px)","deg)"),u=r(a.parseSvg,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?l.identity:(a||(a=document.createElement("DIV"),o=document.documentElement,u=document.defaultView),a.style.transform=e,e=u.getComputedStyle(o.appendChild(a),null).getPropertyValue("transform"),o.removeChild(a),e=e.slice(7,-1).split(","),n.i(l.default)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?l.identity:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",e),(e=s.transform.baseVal.consolidate())?(e=e.matrix,n.i(l.default)(e.a,e.b,e.c,e.d,e.e,e.f)):l.identity)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=r,t.parseSvg=i;var a,o,u,s,l=n(567)},function(e,t,n){"use strict";function r(e){return((e=Math.exp(e))+1/e)/2}function i(e){return((e=Math.exp(e))-1/e)/2}function a(e){return((e=Math.exp(2*e))-1)/(e+1)}Object.defineProperty(t,"__esModule",{value:!0});var o=Math.SQRT2;t.default=function(e,t){var n,u,s=e[0],l=e[1],c=e[2],f=t[0],d=t[1],h=t[2],p=f-s,v=d-l,m=p*p+v*v;if(m<1e-12)u=Math.log(h/c)/o,n=function(e){return[s+e*p,l+e*v,c*Math.exp(o*e*u)]};else{var g=Math.sqrt(m),y=(h*h-c*c+4*m)/(2*c*2*g),_=(h*h-c*c-4*m)/(2*h*2*g),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(_*_+1)-_);u=(x-b)/o,n=function(e){var t=e*u,n=r(b),f=c/(2*g)*(n*a(o*t+b)-i(b));return[s+f*p,l+f*v,c*n/r(o*t+b)]}}return n.duration=1e3*u,n}},function(e,t,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}Object.defineProperty(t,"__esModule",{value:!0});var a=Math.PI,o=2*a,u=o-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,u=this._y1,s=n-e,l=r-t,c=o-e,f=u-t,d=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(f*s-l*c)>1e-6&&i){var h=n-o,p=r-u,v=s*s+l*l,m=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(d),_=i*Math.tan((a-Math.acos((v+d-m)/(2*g*y)))/2),b=_/y,x=_/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*c)+","+(t+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*p)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,s){e=+e,t=+t,n=+n;var l=n*Math.cos(r),c=n*Math.sin(r),f=e+l,d=t+c,h=1^s,p=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+d:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+f+","+d),n&&(p<0&&(p=p%o+o),p>u?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-c)+"A"+n+","+n+",0,1,"+h+","+(this._x1=f)+","+(this._y1=d):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=a)+","+h+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,s,l,c,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((f=c<<1|l)==(d=(s>=o)<<1|u>=a));return i[d]=h,i[f]=p,e}function i(e){var t,n,i,a,o=e.length,u=new Array(o),s=new Array(o),l=1/0,c=1/0,f=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(u[n]=i,s[n]=a,i<l&&(l=i),i>f&&(f=i),a<c&&(c=a),a>d&&(d=a));for(f<l&&(l=this._x0,f=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(f,d),n=0;n<o;++n)r(this,u[n],s[n],e[n]);return this}Object.defineProperty(t,"__esModule",{value:!0}),t.addAll=i,t.default=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return r(this.cover(t,n),t,n,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>a))return this;var o,u,s=i-n,l=this._root;switch(u=(t<(r+a)/2)<<1|e<(n+i)/2){case 0:do{o=new Array(4),o[u]=l,l=o}while(s*=2,i=n+s,a=r+s,e>i||t>a);break;case 1:do{o=new Array(4),o[u]=l,l=o}while(s*=2,n=i-s,a=r+s,n>e||t>a);break;case 2:do{o=new Array(4),o[u]=l,l=o}while(s*=2,i=n+s,r=a-s,e>i||r>t);break;case 3:do{o=new Array(4),o[u]=l,l=o}while(s*=2,n=i-s,r=a-s,n>e||r>t)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167);t.default=function(e,t,n){var i,a,o,u,s,l,c,f=this._x0,d=this._y0,h=this._x1,p=this._y1,v=[],m=this._root;for(m&&v.push(new r.default(m,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=v.pop();)if(!(!(m=l.node)||(a=l.x0)>h||(o=l.y0)>p||(u=l.x1)<f||(s=l.y1)<d))if(m.length){var g=(a+u)/2,y=(o+s)/2;v.push(new r.default(m[3],g,y,u,s),new r.default(m[2],a,y,g,s),new r.default(m[1],g,o,u,y),new r.default(m[0],a,o,g,y)),(c=(t>=y)<<1|e>=g)&&(l=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=l)}else{var _=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),x=_*_+b*b;if(x<n){var w=Math.sqrt(n=x);f=e-w,d=t-w,h=e+w,p=t+w,i=m.data}}return i}},function(e,t,n){"use strict";function r(e,t,n){var r=new i(null==t?m.defaultX:t,null==n?g.defaultY:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function i(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function a(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(572),u=n(573),s=n(574),l=n(575),c=n(576),f=n(578),d=n(579),h=n(580),p=n(581),v=n(582),m=n(583),g=n(584),y=r.prototype=i.prototype;y.copy=function(){var e,t,n=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=a(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=a(t));return n},y.add=o.default,y.addAll=o.addAll,y.cover=u.default,y.data=s.default,y.extent=l.default,y.find=c.default,y.remove=f.default,y.removeAll=f.removeAll,y.root=d.default,y.size=h.default,y.visit=p.default,y.visitAfter=v.default,y.x=m.default,y.y=g.default},function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}Object.defineProperty(t,"__esModule",{value:!0}),t.removeAll=r,t.default=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,s,l,c,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((l=a>=(u=(p+m)/2))?p=u:m=u,(c=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this._root}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167);t.default=function(e){var t,n,i,a,o,u,s=[],l=this._root;for(l&&s.push(new r.default(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,i=t.x0,a=t.y0,o=t.x1,u=t.y1)&&l.length){var c=(i+o)/2,f=(a+u)/2;(n=l[3])&&s.push(new r.default(n,c,f,o,u)),(n=l[2])&&s.push(new r.default(n,i,f,c,u)),(n=l[1])&&s.push(new r.default(n,c,a,o,f)),(n=l[0])&&s.push(new r.default(n,i,a,c,f))}return this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167);t.default=function(e){var t,n=[],i=[];for(this._root&&n.push(new r.default(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var o,u=t.x0,s=t.y0,l=t.x1,c=t.y1,f=(u+l)/2,d=(s+c)/2;(o=a[0])&&n.push(new r.default(o,u,s,f,d)),(o=a[1])&&n.push(new r.default(o,f,s,l,d)),(o=a[2])&&n.push(new r.default(o,u,d,f,c)),(o=a[3])&&n.push(new r.default(o,f,d,l,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}},function(e,t,n){"use strict";function r(e){return e[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultX=r,t.default=function(e){return arguments.length?(this._x=e,this):this._x}},function(e,t,n){"use strict";function r(e){return e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultY=r,t.default=function(e){return arguments.length?(this._y=e,this):this._y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(168);n.d(t,"request",function(){return r.default});var i=n(587);n.d(t,"html",function(){return i.default});var a=n(588);n.d(t,"json",function(){return a.default});var o=n(589);n.d(t,"text",function(){return o.default});var u=n(591);n.d(t,"xml",function(){return u.default});var s=n(586);n.d(t,"csv",function(){return s.default});var l=n(590);n.d(t,"tsv",function(){return l.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),i=(n.n(r),n(274));t.default=n.i(i.default)("text/csv",r.csvParse)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104);t.default=n.i(r.default)("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104);t.default=n.i(r.default)("application/json",function(e){return JSON.parse(e.responseText)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104);t.default=n.i(r.default)("text/plain",function(e){return e.responseText})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97),i=(n.n(r),n(274));t.default=n.i(i.default)("text/tab-separated-values",r.tsvParse)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104);t.default=n.i(r.default)("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(593);n.d(t,"schemeAccent",function(){return r.default});var i=n(594);n.d(t,"schemeDark2",function(){return i.default});var a=n(595);n.d(t,"schemePaired",function(){return a.default});var o=n(596);n.d(t,"schemePastel1",function(){return o.default});var u=n(597);n.d(t,"schemePastel2",function(){return u.default});var s=n(598);n.d(t,"schemeSet1",function(){return s.default});var l=n(599);n.d(t,"schemeSet2",function(){return l.default});var c=n(600);n.d(t,"schemeSet3",function(){return c.default});var f=n(601);n.d(t,"interpolateBrBG",function(){return f.default}),n.d(t,"schemeBrBG",function(){return f.scheme});var d=n(602);n.d(t,"interpolatePRGn",function(){return d.default}),n.d(t,"schemePRGn",function(){return d.scheme});var h=n(603);n.d(t,"interpolatePiYG",function(){return h.default}),n.d(t,"schemePiYG",function(){return h.scheme});var p=n(604);n.d(t,"interpolatePuOr",function(){return p.default}),n.d(t,"schemePuOr",function(){return p.scheme});var v=n(605);n.d(t,"interpolateRdBu",function(){return v.default}),n.d(t,"schemeRdBu",function(){return v.scheme});var m=n(606);n.d(t,"interpolateRdGy",function(){return m.default}),n.d(t,"schemeRdGy",function(){return m.scheme});var g=n(607);n.d(t,"interpolateRdYlBu",function(){return g.default}),n.d(t,"schemeRdYlBu",function(){return g.scheme});var y=n(608);n.d(t,"interpolateRdYlGn",function(){return y.default}),n.d(t,"schemeRdYlGn",function(){return y.scheme});var _=n(609);n.d(t,"interpolateSpectral",function(){return _.default}),n.d(t,"schemeSpectral",function(){return _.scheme});var b=n(610);n.d(t,"interpolateBuGn",function(){return b.default}),n.d(t,"schemeBuGn",function(){return b.scheme});var x=n(611);n.d(t,"interpolateBuPu",function(){return x.default}),n.d(t,"schemeBuPu",function(){return x.scheme});var w=n(612);n.d(t,"interpolateGnBu",function(){return w.default}),n.d(t,"schemeGnBu",function(){return w.scheme});var M=n(613);n.d(t,"interpolateOrRd",function(){return M.default}),n.d(t,"schemeOrRd",function(){return M.scheme});var O=n(615);n.d(t,"interpolatePuBuGn",function(){return O.default}),n.d(t,"schemePuBuGn",function(){return O.scheme});var P=n(614);n.d(t,"interpolatePuBu",function(){return P.default}),n.d(t,"schemePuBu",function(){return P.scheme});var S=n(616);n.d(t,"interpolatePuRd",function(){return S.default}),n.d(t,"schemePuRd",function(){return S.scheme});var k=n(617);n.d(t,"interpolateRdPu",function(){return k.default}),n.d(t,"schemeRdPu",function(){return k.scheme});var E=n(619);n.d(t,"interpolateYlGnBu",function(){return E.default}),n.d(t,"schemeYlGnBu",function(){return E.scheme});var j=n(618);n.d(t,"interpolateYlGn",function(){return j.default}),n.d(t,"schemeYlGn",function(){return j.scheme});var T=n(620);n.d(t,"interpolateYlOrBr",function(){return T.default}),n.d(t,"schemeYlOrBr",function(){return T.scheme});var C=n(621);n.d(t,"interpolateYlOrRd",function(){return C.default}),n.d(t,"schemeYlOrRd",function(){return C.scheme});var A=n(622);n.d(t,"interpolateBlues",function(){return A.default}),n.d(t,"schemeBlues",function(){return A.scheme});var N=n(623);n.d(t,"interpolateGreens",function(){return N.default}),n.d(t,"schemeGreens",function(){return N.scheme});var R=n(624);n.d(t,"interpolateGreys",function(){return R.default}),n.d(t,"schemeGreys",function(){return R.scheme});var D=n(626);n.d(t,"interpolatePurples",function(){return D.default}),n.d(t,"schemePurples",function(){return D.scheme});var L=n(627);n.d(t,"interpolateReds",function(){return L.default}),n.d(t,"schemeReds",function(){return L.scheme});var I=n(625);n.d(t,"interpolateOranges",function(){return I.default}),n.d(t,"schemeOranges",function(){return I.scheme})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=n.i(r.default)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scheme",function(){return a});var r=n(5),i=n(9),a=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r.default);t.default=n.i(i.default)(a)},function(e,t,n){"use strict";function r(){function e(){var e=s().length,r=c[1]<c[0],a=c[r-0],u=c[1-r];t=(u-a)/Math.max(1,e-d+2*h),f&&(t=Math.floor(t)),a+=(u-a-t*(e-d))*p,i=t*(1-d),f&&(a=Math.round(a),i=Math.round(i));var v=n.i(o.range)(e).map(function(e){return a+t*e});return l(r?v.reverse():v)}var t,i,a=n.i(u.default)().unknown(void 0),s=a.domain,l=a.range,c=[0,1],f=!1,d=0,h=0,p=.5;return delete a.unknown,a.domain=function(t){return arguments.length?(s(t),e()):s()},a.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},a.rangeRound=function(t){return c=[+t[0],+t[1]],f=!0,e()},a.bandwidth=function(){return i},a.step=function(){return t},a.round=function(t){return arguments.length?(f=!!t,e()):f},a.padding=function(t){return arguments.length?(d=h=Math.max(0,Math.min(1,t)),e()):d},a.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},a.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},a.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},a.copy=function(){return r().domain(s()).range(c).round(f).paddingInner(d).paddingOuter(h).align(p)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function a(){return i(r().paddingInner(1))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.point=a;var o=n(8),u=n(277)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.default=n.i(r.default)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.default=n.i(r.default)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.default=n.i(r.default)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.default=n.i(r.default)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(27);t.default=n.i(i.interpolateCubehelixLong)(n.i(r.cubehelix)(300,.5,0),n.i(r.cubehelix)(-240,.5,1))},function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.map.call(n,o.default),e):t.slice()},e.copy=function(){return r().domain(t)},n.i(a.linearish)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(50),a=n(77),o=n(276)},function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:n.i(d.default)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function a(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o(e){return 10===e?a:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function u(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function s(e){return function(t){return-e(-t)}}function l(){function e(){return v=u(d),m=o(d),a()[0]<0&&(v=s(v),m=s(m)),t}var t=n.i(p.default)(r,i).domain([1,10]),a=t.domain,d=10,v=u(10),m=o(10);return t.base=function(t){return arguments.length?(d=+t,e()):d},t.domain=function(t){return arguments.length?(a(t),e()):a()},t.ticks=function(e){var t,r=a(),i=r[0],o=r[r.length-1];(t=o<i)&&(f=i,i=o,o=f);var u,s,l,f=v(i),h=v(o),p=null==e?10:+e,g=[];if(!(d%1)&&h-f<p){if(f=Math.round(f)-1,h=Math.round(h)+1,i>0){for(;f<h;++f)for(s=1,u=m(f);s<d;++s)if(!((l=u*s)<i)){if(l>o)break;g.push(l)}}else for(;f<h;++f)for(s=d-1,u=m(f);s>=1;--s)if(!((l=u*s)<i)){if(l>o)break;g.push(l)}}else g=n.i(c.ticks)(f,h,Math.min(h-f,p)).map(m);return t?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===d?".0e":","),"function"!=typeof r&&(r=n.i(f.format)(r)),e===1/0)return r;null==e&&(e=10);var i=Math.max(1,d*e/t.ticks().length);return function(e){var t=e/m(Math.round(v(e)));return t*d<d-.5&&(t*=d),t<=i?r(e):""}},t.nice=function(){return a(n.i(h.default)(a(),{floor:function(e){return m(Math.floor(v(e)))},ceil:function(e){return m(Math.ceil(v(e)))}}))},t.copy=function(){return n.i(p.copy)(t,l().base(d))},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=n(8),f=n(47),d=n(169),h=n(275),p=n(105)},function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,a)-(e=r(e,a)))?function(n){return(r(n,a)-e)/t}:n.i(o.default)(t)}function t(e,t){return t=r(t,a)-(e=r(e,a)),function(n){return r(e+t*n,1/a)}}var a=1,l=n.i(s.default)(e,t),c=l.domain;return l.exponent=function(e){return arguments.length?(a=+e,c(c())):a},l.copy=function(){return n.i(s.copy)(l,i().exponent(a))},n.i(u.linearish)(l)}function a(){return i().exponent(.5)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.sqrt=a;var o=n(169),u=n(77),s=n(105)},function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,u.length);for(s=new Array(r-1);++e<r;)s[e-1]=n.i(i.quantile)(o,e/r);return t}function t(e){if(!isNaN(e=+e))return u[n.i(i.bisect)(s,e)]}var o=[],u=[],s=[];return t.invertExtent=function(e){var t=u.indexOf(e);return t<0?[NaN,NaN]:[t>0?s[t-1]:o[0],t<s.length?s[t]:o[o.length-1]]},t.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||o.push(n);return o.sort(i.ascending),e()},t.range=function(t){return arguments.length?(u=a.slice.call(t),e()):u.slice()},t.quantiles=function(){return s.slice()},t.copy=function(){return r().domain(o).range(u)},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(8),a=n(50)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return f[n.i(i.bisect)(c,e,0,l)]}function t(){var t=-1;for(c=new Array(l);++t<l;)c[t]=((t+1)*s-(t-l)*u)/(l+1);return e}var u=0,s=1,l=1,c=[.5],f=[0,1];return e.domain=function(e){return arguments.length?(u=+e[0],s=+e[1],t()):[u,s]},e.range=function(e){return arguments.length?(l=(f=a.slice.call(e)).length-1,t()):f.slice()},e.invertExtent=function(e){var t=f.indexOf(e);return t<0?[NaN,NaN]:t<1?[u,c[0]]:t>=l?[c[l-1],s]:[c[t-1],c[t]]},e.copy=function(){return r().domain([u,s]).range(f)},n.i(o.linearish)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(8),a=n(50),o=n(77)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"warm",function(){return a}),n.d(t,"cool",function(){return o});var r=n(34),i=n(27),a=n.i(i.interpolateCubehelixLong)(n.i(r.cubehelix)(-100,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),o=n.i(i.interpolateCubehelixLong)(n.i(r.cubehelix)(260,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),u=n.i(r.cubehelix)();t.default=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return u.h=360*e-100,u.s=1.5-1.5*t,u.l=.8-.9*t,u+""}},function(e,t,n){"use strict";function r(e){function t(t){var n=(t-a)/(o-a);return e(u?Math.max(0,Math.min(1,n)):n)}var a=0,o=1,u=!1;return t.domain=function(e){return arguments.length?(a=+e[0],o=+e[1],t):[a,o]},t.clamp=function(e){return arguments.length?(u=!!e,t):u},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([a,o]).clamp(u)},n.i(i.linearish)(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(77)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return o[n.i(i.bisect)(t,e,0,u)]}var t=[.5],o=[0,1],u=1;return e.domain=function(n){return arguments.length?(t=a.slice.call(n),u=Math.min(t.length,o.length-1),e):t.slice()},e.range=function(n){return arguments.length?(o=a.slice.call(n),u=Math.min(t.length,o.length-1),e):o.slice()},e.invertExtent=function(e){var n=o.indexOf(e);return[t[n-1],t[n]]},e.copy=function(){return r().domain(t).range(o)},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(8),a=n(50)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(47);t.default=function(e,t,a){var o,u=e[0],s=e[e.length-1],l=n.i(r.tickStep)(u,s,null==t?10:t);switch(a=n.i(i.formatSpecifier)(null==a?",f":a),a.type){case"s":var c=Math.max(Math.abs(u),Math.abs(s));return null!=a.precision||isNaN(o=n.i(i.precisionPrefix)(l,c))||(a.precision=o),n.i(i.formatPrefix)(a,c);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(o=n.i(i.precisionRound)(l,Math.max(Math.abs(u),Math.abs(s))))||(a.precision=o-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(o=n.i(i.precisionFixed)(l))||(a.precision=o-2*("%"===a.type))}return n.i(i.format)(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(278),i=n(52),a=n(53);t.default=function(){return n.i(r.calendar)(a.utcYear,a.utcMonth,a.utcWeek,a.utcDay,a.utcHour,a.utcMinute,a.utcSecond,a.utcMillisecond,i.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"magma",function(){return a}),n.d(t,"inferno",function(){return o}),n.d(t,"plasma",function(){return u});var i=n(76);t.default=r(n.i(i.default)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var a=r(n.i(i.default)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),o=r(n.i(i.default)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),u=r(n.i(i.default)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++a).toString(36)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=n(106);t.default=function(e){var t=n.i(r.default)();return t.changedTouches&&(t=t.changedTouches[0]),n.i(i.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e){return"string"==typeof e?new r.Selection([[document.querySelector(e)]],[document.documentElement]):new r.Selection([[e]],r.root)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e){return"string"==typeof e?new r.Selection([document.querySelectorAll(e)],[document.documentElement]):new r.Selection([null==e?[]:e],r.root)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170);t.default=function(e){var t="function"==typeof e?e:n.i(r.default)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a(e,t){return function(){this.setAttribute(e,t)}}function o(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function s(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(171);t.default=function(e,t){var c=n.i(l.default)(e);if(arguments.length<2){var f=this.node();return c.local?f.getAttributeNS(c.space,c.local):f.getAttribute(c)}return this.each((null==t?c.local?i:r:"function"==typeof t?c.local?s:u:c.local?o:a)(c,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new a(e)}function a(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function o(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function u(e,t){for(var n=i(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function s(e){return function(){o(this,e)}}function l(e){return function(){u(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?o:u)(this,e)}}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.default=function(e,t){var n=r(e+"");if(arguments.length<2){for(var a=i(this.node()),o=-1,u=n.length;++o<u;)if(!a.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?c:t?s:l)(n,t))}},function(e,t,n){"use strict";function r(e,t,n,r,i,a){for(var u,s=0,l=t.length,c=a.length;s<c;++s)(u=t[s])?(u.__data__=a[s],r[s]=u):n[s]=new o.EnterNode(e,a[s]);for(;s<l;++s)(u=t[s])&&(i[s]=u)}function i(e,t,n,r,i,a,u){var l,c,f,d={},h=t.length,p=a.length,v=new Array(h);for(l=0;l<h;++l)(c=t[l])&&(v[l]=f=s+u.call(c,c.__data__,l,t),f in d?i[l]=c:d[f]=c);for(l=0;l<p;++l)f=s+u.call(e,a[l],l,a),(c=d[f])?(r[l]=c,c.__data__=a[l],d[f]=null):n[l]=new o.EnterNode(e,a[l]);for(l=0;l<h;++l)(c=t[l])&&d[v[l]]===c&&(i[l]=c)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),o=n(280),u=n(645),s="$";t.default=function(e,t){if(!e)return y=new Array(this.size()),p=-1,this.each(function(e){y[++p]=e}),y;var o=t?i:r,s=this._parents,l=this._groups;"function"!=typeof e&&(e=n.i(u.default)(e));for(var c=l.length,f=new Array(c),d=new Array(c),h=new Array(c),p=0;p<c;++p){var v=s[p],m=l[p],g=m.length,y=e.call(v,v&&v.__data__,p,s),_=y.length,b=d[p]=new Array(_),x=f[p]=new Array(_);o(v,m,b,x,h[p]=new Array(g),y,t);for(var w,M,O=0,P=0;O<_;++O)if(w=b[O]){for(O>=P&&(P=O+1);!(M=x[P])&&++P<_;);w._next=M||null}}return f=new a.Selection(f,s),f._enter=d,f._exit=h,f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function r(e,t,r){var i=n.i(o.default)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,r):(a=i.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function i(e,t){return function(){return r(this,e,t)}}function a(e,t){return function(){return r(this,e,t.apply(this,arguments))}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(176);t.default=function(e,t){return this.each(("function"==typeof t?a:i)(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,u=a.length;o<u;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!this.node()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(281),i=n(29);t.default=function(){return new i.Selection(this._exit||this._groups.map(r.default),this._parents)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(279);t.default=function(e){"function"!=typeof e&&(e=n.i(i.default)(e));for(var t=this._groups,a=t.length,o=new Array(a),u=0;u<a;++u)for(var s,l=t[u],c=l.length,f=o[u]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&f.push(s);return new r.Selection(o,this._parents)}},function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function a(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(170),a=n(174);t.default=function(e,t){var o="function"==typeof e?e:n.i(i.default)(e),u=null==t?r:"function"==typeof t?t:n.i(a.default)(t);return this.select(function(){return this.insertBefore(o.apply(this,arguments),u.apply(this,arguments)||null)})}},function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.each(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.default=function(e){for(var t=this._groups,n=e._groups,i=t.length,a=n.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=t[s],f=n[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<i;++s)u[s]=t[s];return new r.Selection(u,this._parents)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this}},function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function a(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?a:i)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.each(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(174);t.default=function(e){"function"!=typeof e&&(e=n.i(i.default)(e));for(var t=this._groups,a=t.length,o=new Array(a),u=0;u<a;++u)for(var s,l,c=t[u],f=c.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l);return new r.Selection(o,this._parents)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(283);t.default=function(e){"function"!=typeof e&&(e=n.i(i.default)(e));for(var t=this._groups,a=t.length,o=[],u=[],s=0;s<a;++s)for(var l,c=t[s],f=c.length,d=0;d<f;++d)(l=c[d])&&(o.push(e.call(l,l.__data__,d,c)),u.push(l));return new r.Selection(o,u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Object.defineProperty(t,"__esModule",{value:!0});var i=n(29);t.default=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,a=n.length,o=new Array(a),u=0;u<a;++u){for(var s,l=n[u],c=l.length,f=o[u]=new Array(c),d=0;d<c;++d)(s=l[d])&&(f[d]=s);f.sort(t)}return new i.Selection(o,this._parents).order()}},function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function a(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?a:i)(e)):this.node().textContent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=n(106);t.default=function(e,t,a){arguments.length<3&&(a=t,t=n.i(r.default)().changedTouches);for(var o,u=0,s=t?t.length:0;u<s;++u)if((o=t[u]).identifier===a)return n.i(i.default)(e,o);return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=n(106);t.default=function(e,t){null==t&&(t=n.i(r.default)().touches);for(var a=0,o=t?t.length:0,u=new Array(o);a<o;++a)u[a]=n.i(i.default)(e,t[a]);return u}},function(e,t,n){"use strict";function r(e){return e.innerRadius}function i(e){return e.outerRadius}function a(e){return e.startAngle}function o(e){return e.endAngle}function u(e){return e&&e.padAngle}function s(e,t,n,r,i,a,o,u){var s=n-e,l=r-t,c=o-i,f=u-a,d=(c*(t-a)-f*(e-i))/(f*s-c*l);return[e+d*s,t+d*l]}function l(e,t,r,i,a,o,u){var s=e-r,l=t-i,c=(u?o:-o)/n.i(d.sqrt)(s*s+l*l),f=c*l,h=-c*s,p=e+f,v=t+h,m=r+f,g=i+h,y=(p+m)/2,_=(v+g)/2,b=m-p,x=g-v,w=b*b+x*x,M=a-o,O=p*g-m*v,P=(x<0?-1:1)*n.i(d.sqrt)(n.i(d.max)(0,M*M*w-O*O)),S=(O*x-b*P)/w,k=(-O*b-x*P)/w,E=(O*x+b*P)/w,j=(-O*b+x*P)/w,T=S-y,C=k-_,A=E-y,N=j-_;return T*T+C*C>A*A+N*N&&(S=E,k=j),{cx:S,cy:k,x01:-f,y01:-h,x11:S*(a/M-1),y11:k*(a/M-1)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(49),f=n(51),d=n(78);t.default=function(){function e(){var e,r,i=+t.apply(this,arguments),a=+h.apply(this,arguments),o=m.apply(this,arguments)-d.halfPi,u=g.apply(this,arguments)-d.halfPi,f=n.i(d.abs)(u-o),b=u>o;if(_||(_=e=n.i(c.path)()),a<i&&(r=a,a=i,i=r),a>d.epsilon)if(f>d.tau-d.epsilon)_.moveTo(a*n.i(d.cos)(o),a*n.i(d.sin)(o)),_.arc(0,0,a,o,u,!b),i>d.epsilon&&(_.moveTo(i*n.i(d.cos)(u),i*n.i(d.sin)(u)),_.arc(0,0,i,u,o,b));else{var x,w,M=o,O=u,P=o,S=u,k=f,E=f,j=y.apply(this,arguments)/2,T=j>d.epsilon&&(v?+v.apply(this,arguments):n.i(d.sqrt)(i*i+a*a)),C=n.i(d.min)(n.i(d.abs)(a-i)/2,+p.apply(this,arguments)),A=C,N=C;if(T>d.epsilon){var R=n.i(d.asin)(T/i*n.i(d.sin)(j)),D=n.i(d.asin)(T/a*n.i(d.sin)(j));(k-=2*R)>d.epsilon?(R*=b?1:-1,P+=R,S-=R):(k=0,P=S=(o+u)/2),(E-=2*D)>d.epsilon?(D*=b?1:-1,M+=D,O-=D):(E=0,M=O=(o+u)/2)}var L=a*n.i(d.cos)(M),I=a*n.i(d.sin)(M),z=i*n.i(d.cos)(S),F=i*n.i(d.sin)(S);if(C>d.epsilon){var q=a*n.i(d.cos)(O),U=a*n.i(d.sin)(O),B=i*n.i(d.cos)(P),V=i*n.i(d.sin)(P);if(f<d.pi){var H=k>d.epsilon?s(L,I,B,V,q,U,z,F):[z,F],Y=L-H[0],W=I-H[1],$=q-H[0],G=U-H[1],X=1/n.i(d.sin)(n.i(d.acos)((Y*$+W*G)/(n.i(d.sqrt)(Y*Y+W*W)*n.i(d.sqrt)($*$+G*G)))/2),J=n.i(d.sqrt)(H[0]*H[0]+H[1]*H[1]);A=n.i(d.min)(C,(i-J)/(X-1)),N=n.i(d.min)(C,(a-J)/(X+1))}}E>d.epsilon?N>d.epsilon?(x=l(B,V,L,I,a,N,b),w=l(q,U,z,F,a,N,b),_.moveTo(x.cx+x.x01,x.cy+x.y01),N<C?_.arc(x.cx,x.cy,N,n.i(d.atan2)(x.y01,x.x01),n.i(d.atan2)(w.y01,w.x01),!b):(_.arc(x.cx,x.cy,N,n.i(d.atan2)(x.y01,x.x01),n.i(d.atan2)(x.y11,x.x11),!b),_.arc(0,0,a,n.i(d.atan2)(x.cy+x.y11,x.cx+x.x11),n.i(d.atan2)(w.cy+w.y11,w.cx+w.x11),!b),_.arc(w.cx,w.cy,N,n.i(d.atan2)(w.y11,w.x11),n.i(d.atan2)(w.y01,w.x01),!b))):(_.moveTo(L,I),_.arc(0,0,a,M,O,!b)):_.moveTo(L,I),i>d.epsilon&&k>d.epsilon?A>d.epsilon?(x=l(z,F,q,U,i,-A,b),w=l(L,I,B,V,i,-A,b),_.lineTo(x.cx+x.x01,x.cy+x.y01),A<C?_.arc(x.cx,x.cy,A,n.i(d.atan2)(x.y01,x.x01),n.i(d.atan2)(w.y01,w.x01),!b):(_.arc(x.cx,x.cy,A,n.i(d.atan2)(x.y01,x.x01),n.i(d.atan2)(x.y11,x.x11),!b),_.arc(0,0,i,n.i(d.atan2)(x.cy+x.y11,x.cx+x.x11),n.i(d.atan2)(w.cy+w.y11,w.cx+w.x11),b),_.arc(w.cx,w.cy,A,n.i(d.atan2)(w.y11,w.x11),n.i(d.atan2)(w.y01,w.x01),!b))):_.arc(0,0,i,S,P,b):_.lineTo(z,F)}else _.moveTo(0,0);if(_.closePath(),e)return _=null,e+""||null}var t=r,h=i,p=n.i(f.default)(0),v=null,m=a,g=o,y=u,_=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +h.apply(this,arguments))/2,r=(+m.apply(this,arguments)+ +g.apply(this,arguments))/2-d.pi/2;return[n.i(d.cos)(r)*e,n.i(d.sin)(r)*e]},e.innerRadius=function(r){return arguments.length?(t="function"==typeof r?r:n.i(f.default)(+r),e):t},e.outerRadius=function(t){return arguments.length?(h="function"==typeof t?t:n.i(f.default)(+t),e):h},e.cornerRadius=function(t){return arguments.length?(p="function"==typeof t?t:n.i(f.default)(+t),e):p},e.padRadius=function(t){return arguments.length?(v=null==t?null:"function"==typeof t?t:n.i(f.default)(+t),e):v},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:n.i(f.default)(+t),e):m},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:n.i(f.default)(+t),e):g},e.padAngle=function(t){return arguments.length?(y="function"==typeof t?t:n.i(f.default)(+t),e):y},e.context=function(t){return arguments.length?(_=null==t?null:t,e):_},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(288),i=n(284),a=n(289);t.default=function(){var e=n.i(i.default)().curve(r.curveRadialLinear),t=e.curve,o=e.lineX0,u=e.lineX1,s=e.lineY0,l=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return n.i(a.lineRadial)(o())},delete e.lineX0,e.lineEndAngle=function(){return n.i(a.lineRadial)(u())},delete e.lineX1,e.lineInnerRadius=function(){return n.i(a.lineRadial)(s())},delete e.lineY0,e.lineOuterRadius=function(){return n.i(a.lineRadial)(l())},delete e.lineY1,e.curve=function(e){return arguments.length?t(n.i(r.default)(e)):t()._curve},e}},function(e,t,n){"use strict";function r(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(110),a=n(107);r.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:n.i(a.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.default=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(107);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:n.i(i.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.default=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t){this._basis=new i.Basis(e),this._beta=t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(107);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,u=t[n]-a,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*o),this._beta*t[s]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.default=function e(t){function n(e){return 1===t?new i.Basis(e):new r(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._alpha=t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(286),a=n(110),o=n(178);r.prototype={areaStart:a.default,areaEnd:a.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:n.i(o.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return t?new r(e,t):new i.CardinalClosed(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._alpha=t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(287),a=n(178);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:n.i(a.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.default=function e(t){function n(e){return t?new r(e,t):new i.CardinalOpen(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";function r(e){this._context=e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(110);r.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},t.default=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),u=(n-e._y1)/(a||i<0&&-0),s=(o*a+u*i)/(i+a);return(r(o)+r(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(s))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function u(e){this._context=e}function s(e){this._context=new l(e)}function l(e){this._context=e}function c(e){return new u(e)}function f(e){return new s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.monotoneX=c,t.monotoneY=f,u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(s.prototype=Object.create(u.prototype)).point=function(e,t){u.prototype.point.call(this,t,e)},l.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}}},function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),a=i(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[u],t[u]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.default=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,0)}function a(e){return new r(e,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.stepBefore=i,t.stepAfter=a,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},t.default=function(e){return new r(e,.5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";function r(e){return e.source}function i(e){return e.target}function a(e){function t(){var t,r=h.slice.call(arguments),i=a.apply(this,r),c=o.apply(this,r);if(l||(l=t=n.i(d.path)()),e(l,+u.apply(this,(r[0]=i,r)),+s.apply(this,r),+u.apply(this,(r[0]=c,r)),+s.apply(this,r)),t)return l=null,t+""||null}var a=r,o=i,u=v.x,s=v.y,l=null;return t.source=function(e){return arguments.length?(a=e,t):a},t.target=function(e){return arguments.length?(o=e,t):o},t.x=function(e){return arguments.length?(u="function"==typeof e?e:n.i(p.default)(+e),t):u},t.y=function(e){return arguments.length?(s="function"==typeof e?e:n.i(p.default)(+e),t):s},t.context=function(e){return arguments.length?(l=null==e?null:e,t):l},t}function o(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function u(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function s(e,t,r,i,a){var o=n.i(m.default)(t,r),u=n.i(m.default)(t,r=(r+a)/2),s=n.i(m.default)(i,r),l=n.i(m.default)(i,a);e.moveTo(o[0],o[1]),e.bezierCurveTo(u[0],u[1],s[0],s[1],l[0],l[1])}function l(){return a(o)}function c(){return a(u)}function f(){var e=a(s);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}Object.defineProperty(t,"__esModule",{value:!0}),t.linkHorizontal=l,t.linkVertical=c,t.linkRadial=f;var d=n(49),h=n(285),p=n(51),v=n(181),m=n(290)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((u=e.length)>1)for(var n,r,i,a,o,u,s=0,l=e[t[0]].length;s<l;++s)for(a=o=0,n=0;n<u;++n)(i=(r=e[t[n]][s])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79);t.default=function(e,t){if((a=e.length)>0){for(var i,a,o,u=0,s=e[0].length;u<s;++u){for(o=i=0;i<a;++i)o+=e[i][u][1]||0;if(o)for(i=0;i<a;++i)e[i][u][1]/=o}n.i(r.default)(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79);t.default=function(e,t){if((i=e.length)>0){for(var i,a=0,o=e[t[0]],u=o.length;a<u;++a){for(var s=0,l=0;s<i;++s)l+=e[s][a][1]||0;o[a][1]+=o[a][0]=-l/2}n.i(r.default)(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79);t.default=function(e,t){if((o=e.length)>0&&(a=(i=e[t[0]]).length)>0){for(var i,a,o,u=0,s=1;s<a;++s){for(var l=0,c=0,f=0;l<o;++l){for(var d=e[t[l]],h=d[s][1]||0,p=d[s-1][1]||0,v=(h-p)/2,m=0;m<l;++m){var g=e[t[m]];v+=(g[s][1]||0)-(g[s-1][1]||0)}c+=h,f+=v*h}i[s-1][1]+=i[s-1][0]=u,c&&(u-=f/c)}i[s-1][1]+=i[s-1][0]=u,n.i(r.default)(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(180);t.default=function(e){return n.i(r.default)(e).reverse()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80),i=n(180);t.default=function(e){var t,a,o=e.length,u=e.map(i.sum),s=n.i(r.default)(e).sort(function(e,t){return u[t]-u[e]}),l=0,c=0,f=[],d=[];for(t=0;t<o;++t)a=s[t],l<c?(l+=u[a],f.push(a)):(c+=u[a],d.push(a));return d.reverse().concat(f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.default=function(e){return n.i(r.default)(e).reverse()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51),i=n(689),a=n(690),o=n(78);t.default=function(){function e(e){var n,r,i,a,d,h=e.length,p=0,v=new Array(h),m=new Array(h),g=+l.apply(this,arguments),y=Math.min(o.tau,Math.max(-o.tau,c.apply(this,arguments)-g)),_=Math.min(Math.abs(y)/h,f.apply(this,arguments)),b=_*(y<0?-1:1);for(n=0;n<h;++n)(d=m[v[n]=n]=+t(e[n],n,e))>0&&(p+=d);for(null!=u?v.sort(function(e,t){return u(m[e],m[t])}):null!=s&&v.sort(function(t,n){return s(e[t],e[n])}),n=0,i=p?(y-h*b)/p:0;n<h;++n,g=a)r=v[n],d=m[r],a=g+(d>0?d*i:0)+b,m[r]={data:e[r],index:n,value:d,startAngle:g,endAngle:a,padAngle:_};return m}var t=a.default,u=i.default,s=null,l=n.i(r.default)(0),c=n.i(r.default)(o.tau),f=n.i(r.default)(0);return e.value=function(i){return arguments.length?(t="function"==typeof i?i:n.i(r.default)(+i),e):t},e.sortValues=function(t){return arguments.length?(u=t,s=null,e):u},e.sort=function(t){return arguments.length?(s=t,u=null,e):s},e.startAngle=function(t){return arguments.length?(l="function"==typeof t?t:n.i(r.default)(+t),e):l},e.endAngle=function(t){return arguments.length?(c="function"==typeof t?t:n.i(r.default)(+t),e):c},e.padAngle=function(t){return arguments.length?(f="function"==typeof t?t:n.i(r.default)(+t),e):f},e}},function(e,t,n){"use strict";function r(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(285),a=n(51),o=n(79),u=n(80);t.default=function(){function e(e){var n,r,i=t.apply(this,arguments),a=e.length,o=i.length,u=new Array(o);for(n=0;n<o;++n){for(var f,d=i[n],h=u[n]=new Array(a),p=0;p<a;++p)h[p]=f=[0,+c(e[p],d,p,e)],f.data=e[p];h.key=d}for(n=0,r=s(u);n<o;++n)u[r[n]].index=n;return l(u,r),u}var t=n.i(a.default)([]),s=u.default,l=o.default,c=r;return e.keys=function(r){return arguments.length?(t="function"==typeof r?r:n.i(a.default)(i.slice.call(r)),e):t},e.value=function(t){return arguments.length?(c="function"==typeof t?t:n.i(a.default)(+t),e):c},e.order=function(t){return arguments.length?(s=null==t?u.default:"function"==typeof t?t:n.i(a.default)(i.slice.call(t)),e):s},e.offset=function(t){return arguments.length?(l=null==t?o.default:t,e):l},e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"symbols",function(){return d});var r=n(49),i=n(291),a=n(292),o=n(293),u=n(295),s=n(294),l=n(296),c=n(297),f=n(51),d=[i.default,a.default,o.default,s.default,u.default,l.default,c.default];t.default=function(){function e(){var e;if(o||(o=e=n.i(r.path)()),t.apply(this,arguments).draw(o,+a.apply(this,arguments)),e)return o=null,e+""||null}var t=n.i(f.default)(i.default),a=n.i(f.default)(64),o=null;return e.type=function(r){return arguments.length?(t="function"==typeof r?r:n.i(f.default)(r),e):t},e.size=function(t){return arguments.length?(a="function"==typeof t?t:n.i(f.default)(+t),e):a},e.context=function(t){return arguments.length?(o=null==t?null:t,e):o},e}},function(e,t,n){"use strict";function r(e){var t=new Date(e);return isNaN(t)?null:t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(298),a=n(182),o=+new Date("2000-01-01T00:00:00.000Z")?r:n.i(a.utcParse)(i.isoSpecifier);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"days",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.durationMinute)/i.durationDay},function(e){return e.getDate()-1});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"hours",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){var t=e.getTimezoneOffset()*i.durationMinute%i.durationHour;t<0&&(t+=i.durationHour),e.setTime(Math.floor((+e-t)/i.durationHour)*i.durationHour+t)},function(e,t){e.setTime(+e+t*i.durationHour)},function(e,t){return(t-e)/i.durationHour},function(e){return e.getHours()});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"milliseconds",function(){return a});var r=n(17),i=n.i(r.default)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.i(r.default)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.default=i;var a=i.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"minutes",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setTime(Math.floor(e/i.durationMinute)*i.durationMinute)},function(e,t){e.setTime(+e+t*i.durationMinute)},function(e,t){return(t-e)/i.durationMinute},function(e){return e.getMinutes()});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"months",function(){return a});var r=n(17),i=n.i(r.default)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.default=i;var a=i.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"seconds",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setTime(Math.floor(e/i.durationSecond)*i.durationSecond)},function(e,t){e.setTime(+e+t*i.durationSecond)},function(e,t){return(t-e)/i.durationSecond},function(e){return e.getUTCSeconds()});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcDays",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.durationDay},function(e){return e.getUTCDate()-1});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcHours",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.durationHour)},function(e,t){return(t-e)/i.durationHour},function(e){return e.getUTCHours()});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcMinutes",function(){return o});var r=n(17),i=n(38),a=n.i(r.default)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.durationMinute)},function(e,t){return(t-e)/i.durationMinute},function(e){return e.getUTCMinutes()});t.default=a;var o=a.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcMonths",function(){return a});var r=n(17),i=n.i(r.default)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.default=i;var a=i.range},function(e,t,n){"use strict";function r(e){return n.i(i.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/a.durationWeek})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcSunday",function(){return o}),n.d(t,"utcMonday",function(){return u}),n.d(t,"utcTuesday",function(){return s}),n.d(t,"utcWednesday",function(){return l}),n.d(t,"utcThursday",function(){return c}),n.d(t,"utcFriday",function(){return f}),n.d(t,"utcSaturday",function(){return d}),n.d(t,"utcSundays",function(){return h}),n.d(t,"utcMondays",function(){return p}),n.d(t,"utcTuesdays",function(){return v}),n.d(t,"utcWednesdays",function(){return m}),n.d(t,"utcThursdays",function(){return g}),n.d(t,"utcFridays",function(){return y}),n.d(t,"utcSaturdays",function(){return _});var i=n(17),a=n(38),o=r(0),u=r(1),s=r(2),l=r(3),c=r(4),f=r(5),d=r(6),h=o.range,p=u.range,v=s.range,m=l.range,g=c.range,y=f.range,_=d.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utcYears",function(){return a});var r=n(17),i=n.i(r.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.default)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.default=i;var a=i.range},function(e,t,n){"use strict";function r(e){return n.i(i.default)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationWeek})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"sunday",function(){return o}),n.d(t,"monday",function(){return u}),n.d(t,"tuesday",function(){return s}),n.d(t,"wednesday",function(){return l}),n.d(t,"thursday",function(){return c}),n.d(t,"friday",function(){return f}),n.d(t,"saturday",function(){return d}),n.d(t,"sundays",function(){return h}),n.d(t,"mondays",function(){return p}),n.d(t,"tuesdays",function(){return v}),n.d(t,"wednesdays",function(){return m}),n.d(t,"thursdays",function(){return g}),n.d(t,"fridays",function(){return y}),n.d(t,"saturdays",function(){return _});var i=n(17),a=n(38),o=r(0),u=r(1),s=r(2),l=r(3),c=r(4),f=r(5),d=r(6),h=o.range,p=u.range,v=s.range,m=l.range,g=c.range,y=f.range,_=d.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"years",function(){return a});var r=n(17),i=n.i(r.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.default)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.default=i;var a=i.range},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184);t.default=function(e,t,i){var a=new r.Timer,o=t;return null==t?(a.restart(e,t,i),a):(t=+t,i=null==i?n.i(r.now)():+i,a.restart(function n(r){r+=o,a.restart(n,o+=t,i),e(r)},t,i),a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184);t.default=function(e,t,n){var i=new r.Timer;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(721),n(43));n.d(t,"transition",function(){return r.default});var i=n(720);n.d(t,"active",function(){return i.default});var a=n(300);n.d(t,"interrupt",function(){return a.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(30),a=[null];t.default=function(e,t){var n,o,u=e.__transition;if(u){t=null==t?null:t+"";for(o in u)if((n=u[o]).state>i.SCHEDULED&&n.name===t)return new r.Transition([[e]],a,t,+o)}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(722),a=n(723);r.selection.prototype.interrupt=i.default,r.selection.prototype.transition=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(300);t.default=function(e){return this.each(function(){n.i(r.default)(this,e)})}},function(e,t,n){"use strict";function r(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return s.time=n.i(u.now)(),s;return r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),a=n(30),o=n(485),u=n(183),s={time:null,delay:0,duration:250,ease:o.easeCubicInOut};t.default=function(e){var t,o;e instanceof i.Transition?(t=e._id,e=e._name):(t=n.i(i.newId)(),(o=s).time=n.i(u.now)(),e=null==e?null:e+"");for(var l=this._groups,c=l.length,f=0;f<c;++f)for(var d,h=l[f],p=h.length,v=0;v<p;++v)(d=h[v])&&n.i(a.default)(d,e,t,v,h,o||r(d,t));return new i.Transition(l,this._parents,e,t)}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a(e,t,n){var r,i;return function(){var a=this.getAttribute(e);return a===n?null:a===r?i:i=t(r=a,n)}}function o(e,t,n){var r,i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===n?null:a===r?i:i=t(r=a,n)}}function u(e,t,n){var r,i,a;return function(){var o,u=n(this);return null==u?void this.removeAttribute(e):(o=this.getAttribute(e),o===u?null:o===r&&u===i?a:a=t(r=o,i=u))}}function s(e,t,n){var r,i,a;return function(){var o,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),o===u?null:o===r&&u===i?a:a=t(r=o,i=u))}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(27),c=n(21),f=n(111),d=n(301);t.default=function(e,t){var h=n.i(c.namespace)(e),p="transform"===h?l.interpolateTransformSvg:d.default;return this.attrTween(e,"function"==typeof t?(h.local?s:u)(h,p,n.i(f.tweenValue)(this,"attr."+e,t)):null==t?(h.local?i:r)(h):(h.local?o:a)(h,p,t+""))}},function(e,t,n){"use strict";function r(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function i(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(21);t.default=function(e,t){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;var u=n.i(a.namespace)(e);return this.tween(o,(u.local?r:i)(u,t))}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(a.init)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(a.init)(this,e).delay=t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30);t.default=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(a.get)(this.node(),t).delay}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(a.set)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(a.set)(this,e).duration=t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30);t.default=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(a.get)(this.node(),t).duration}},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error;return function(){n.i(i.set)(this,e).ease=t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(30);t.default=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):n.i(i.get)(this.node(),t).ease}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(43);t.default=function(e){"function"!=typeof e&&(e=n.i(r.matcher)(e));for(var t=this._groups,a=t.length,o=new Array(a),u=0;u<a;++u)for(var s,l=t[u],c=l.length,f=o[u]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&f.push(s);return new i.Transition(o,this._parents,this._name,this._id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.default=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=t[s],f=n[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<i;++s)u[s]=t[s];return new r.Transition(u,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,o,u=r(t)?a.init:a.set;return function(){var r=u(this,e),a=r.on;a!==i&&(o=(i=a).copy()).on(t,n),r.on=o}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30);t.default=function(e,t){var r=this._id;return arguments.length<2?n.i(a.get)(this.node(),r).on.on(e):this.each(i(r,e,t))}},function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return this.on("end.remove",r(this._id))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(43),a=n(30);t.default=function(e){var t=this._name,o=this._id;"function"!=typeof e&&(e=n.i(r.selector)(e));for(var u=this._groups,s=u.length,l=new Array(s),c=0;c<s;++c)for(var f,d,h=u[c],p=h.length,v=l[c]=new Array(p),m=0;m<p;++m)(f=h[m])&&(d=e.call(f,f.__data__,m,h))&&("__data__"in f&&(d.__data__=f.__data__),v[m]=d,n.i(a.default)(v[m],t,o,m,v,n.i(a.get)(f,o)));return new i.Transition(l,this._parents,t,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(43),a=n(30);t.default=function(e){var t=this._name,o=this._id;"function"!=typeof e&&(e=n.i(r.selectorAll)(e));for(var u=this._groups,s=u.length,l=[],c=[],f=0;f<s;++f)for(var d,h=u[f],p=h.length,v=0;v<p;++v)if(d=h[v]){for(var m,g=e.call(d,d.__data__,v,h),y=n.i(a.get)(d,o),_=0,b=g.length;_<b;++_)(m=g[_])&&n.i(a.default)(m,t,o,_,g,y);l.push(g),c.push(d)}return new i.Transition(l,c,t,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=r.selection.prototype.constructor;t.default=function(){return new i(this._groups,this._parents)}},function(e,t,n){"use strict";function r(e,t){var r,i,a;return function(){var o=n.i(s.style)(this,e),u=(this.style.removeProperty(e),n.i(s.style)(this,e));return o===u?null:o===r&&u===i?a:a=t(r=o,i=u)}}function i(e){return function(){this.style.removeProperty(e)}}function a(e,t,r){var i,a;return function(){var o=n.i(s.style)(this,e);return o===r?null:o===i?a:a=t(i=o,r)}}function o(e,t,r){var i,a,o;return function(){var u=n.i(s.style)(this,e),l=r(this);return null==l&&(this.style.removeProperty(e),l=n.i(s.style)(this,e)),u===l?null:u===i&&l===a?o:o=t(i=u,a=l)}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(27),s=n(21),l=n(111),c=n(301);t.default=function(e,t,s){var f="transform"==(e+="")?u.interpolateTransformCss:c.default;return null==t?this.styleTween(e,r(e,f)).on("end.style."+e,i(e)):this.styleTween(e,"function"==typeof t?o(e,f,n.i(l.tweenValue)(this,"style."+e,t)):a(e,f,t+""),s)}},function(e,t,n){"use strict";function r(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(111);t.default=function(e){return this.tween("text","function"==typeof e?i(n.i(a.tweenValue)(this,"text",e)):r(null==e?"":e+""))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(30);t.default=function(){for(var e=this._name,t=this._id,a=n.i(r.newId)(),o=this._groups,u=o.length,s=0;s<u;++s)for(var l,c=o[s],f=c.length,d=0;d<f;++d)if(l=c[d]){var h=n.i(i.get)(l,t);n.i(i.default)(l,e,a,d,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new r.Transition(o,this._parents,e,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(744);n.d(t,"voronoi",function(){return r.default})},function(e,t,n){"use strict";function r(){n.i(c.RedBlackNode)(this),this.edge=this.site=this.circle=null}function i(e){var t=v.pop()||new r;return t.site=e,t}function a(e){n.i(d.detachCircle)(e),p.beaches.remove(e),v.push(e),n.i(c.RedBlackNode)(e)}function o(e){var t=e.circle,r=t.x,i=t.cy,o=[r,i],u=e.P,s=e.N,l=[e];a(e);for(var c=u;c.circle&&Math.abs(r-c.circle.x)<p.epsilon&&Math.abs(i-c.circle.cy)<p.epsilon;)u=c.P,l.unshift(c),a(c),c=u;l.unshift(c),n.i(d.detachCircle)(c);for(var f=s;f.circle&&Math.abs(r-f.circle.x)<p.epsilon&&Math.abs(i-f.circle.cy)<p.epsilon;)s=f.N,l.push(f),a(f),f=s;l.push(f),n.i(d.detachCircle)(f);var v,m=l.length;for(v=1;v<m;++v)f=l[v],c=l[v-1],n.i(h.setEdgeEnd)(f.edge,c.site,f.site,o);c=l[0],f=l[m-1],f.edge=n.i(h.createEdge)(c.site,f.site,null,o),n.i(d.attachCircle)(c),n.i(d.attachCircle)(f)}function u(e){for(var t,r,a,o,u=e[0],c=e[1],v=p.beaches._;v;)if((a=s(v,c)-u)>p.epsilon)v=v.L;else{if(!((o=u-l(v,c))>p.epsilon)){a>-p.epsilon?(t=v.P,r=v):o>-p.epsilon?(t=v,r=v.N):t=r=v;break}if(!v.R){t=v;break}v=v.R}n.i(f.createCell)(e);var m=i(e);if(p.beaches.insert(t,m),t||r){if(t===r)return n.i(d.detachCircle)(t),r=i(t.site),p.beaches.insert(m,r),m.edge=r.edge=n.i(h.createEdge)(t.site,m.site),n.i(d.attachCircle)(t),void n.i(d.attachCircle)(r);if(!r)return void(m.edge=n.i(h.createEdge)(t.site,m.site));n.i(d.detachCircle)(t),n.i(d.detachCircle)(r);var g=t.site,y=g[0],_=g[1],b=e[0]-y,x=e[1]-_,w=r.site,M=w[0]-y,O=w[1]-_,P=2*(b*O-x*M),S=b*b+x*x,k=M*M+O*O,E=[(O*S-x*k)/P+y,(b*k-M*S)/P+_];n.i(h.setEdgeEnd)(r.edge,g,w,E),m.edge=n.i(h.createEdge)(g,e,null,E),r.edge=n.i(h.createEdge)(e,w,null,E),n.i(d.attachCircle)(t),n.i(d.attachCircle)(r)}}function s(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;n=o.site;var u=n[0],s=n[1],l=s-t;if(!l)return u;var c=u-r,f=1/a-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-s+l/2+i-a/2)))/f+r:(r+u)/2}function l(e,t){var n=e.N;if(n)return s(n,t);var r=e.site;return r[1]===t?r[0]:1/0}Object.defineProperty(t,"__esModule",{value:!0}),t.removeBeach=o,t.addBeach=u;var c=n(186),f=n(302),d=n(303),h=n(185),p=n(81),v=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.x=r,t.y=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(742),i=n(743),a=n(81);t.default=function(){function e(e){return new a.default(e.map(function(n,r){var i=[Math.round(t(n,r,e)/a.epsilon)*a.epsilon,Math.round(o(n,r,e)/a.epsilon)*a.epsilon];return i.index=r,i.data=n,i}),u)}var t=i.x,o=i.y,u=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(i){return arguments.length?(t="function"==typeof i?i:n.i(r.default)(+i),e):t},e.y=function(t){return arguments.length?(o="function"==typeof t?t:n.i(r.default)(+t),e):o},e.extent=function(t){return arguments.length?(u=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):u&&[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},e.size=function(t){return arguments.length?(u=null==t?null:[[0,0],[+t[0],+t[1]]],e):u&&[u[1][0]-u[0][0],u[1][1]-u[0][1]]},e}},function(e,t){e.exports={_args:[[{raw:"datalib@~1.7",scope:null,escapedName:"datalib",name:"datalib",rawSpec:"~1.7",spec:">=1.7.0 <1.8.0",type:"range"},"/home/centos/girder"]],_from:"datalib@>=1.7.0 <1.8.0",_id:"datalib@1.7.3",_inCache:!0,_location:"/datalib",_nodeVersion:"0.12.7",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/datalib-1.7.3.tgz_1476399375564_0.8775846140924841"},_npmUser:{name:"jheer",email:"jeffrey.heer@gmail.com"},_npmVersion:"2.12.1",_phantomChildren:{},_requested:{raw:"datalib@~1.7",scope:null,escapedName:"datalib",name:"datalib",rawSpec:"~1.7",spec:">=1.7.0 <1.8.0",type:"range"},_requiredBy:["#USER","/candela"],_resolved:"https://registry.npmjs.org/datalib/-/datalib-1.7.3.tgz",_shasum:"4722715bb91f5a2411cf42bf984932cc403eba48",_shrinkwrap:null,_spec:"datalib@~1.7",_where:"/home/centos/girder",author:{name:"Jeffrey Heer",url:"http://idl.cs.washington.edu"},browser:{buffer:!1,fs:!1,http:!1,request:!1,"sync-request":!1,url:!1},bugs:{url:"https://github.com/vega/datalib/issues"},contributors:[{name:"Michael Correll",url:"http://pages.cs.wisc.edu/~mcorrell/"},{name:"Ryan Russell",url:"https://github.com/RussellSprouts"}],dependencies:{"d3-dsv":"0.1","d3-format":"0.4","d3-time":"0.1","d3-time-format":"0.2",request:"^2.67.0","sync-request":"^2.1.0",topojson:"^1.6.19"},description:"JavaScript utilites for loading, summarizing and working with data.",devDependencies:{browserify:"^12.0.1",chai:"^3.4.1",istanbul:"latest",jshint:"^2.9.1-rc1",mocha:"^2.3.4","uglify-js":"^2.6.1"},directories:{},dist:{shasum:"4722715bb91f5a2411cf42bf984932cc403eba48",tarball:"https://registry.npmjs.org/datalib/-/datalib-1.7.3.tgz"},gitHead:"0087f0a1e9e9f819bffb309fa10b4ac3c9292486",homepage:"https://github.com/vega/datalib#readme",keywords:["data","table","statistics","parse","csv","tsv","json","utility"],license:"BSD-3-Clause",main:"src/index.js",maintainers:[{name:"jheer",email:"jeffrey.heer@gmail.com"}],name:"datalib",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/vega/datalib.git"},scripts:{build:"browserify src/index.js -d -s dl -o datalib.js",cover:"TZ=America/Los_Angeles istanbul cover _mocha -- --recursive test/",deploy:"npm run test && scripts/deploy.sh",lint:"jshint src/",postbuild:"uglifyjs datalib.js -c -m -o datalib.min.js",test:"npm run lint && TZ=America/Los_Angeles mocha --recursive test/"},version:"1.7.3"}},function(e,t,n){var r=n(11),i=n(190),a=i.utc,o=e.exports;o.$year=r.$func("year",i.year.unit),o.$month=r.$func("month",i.months.unit),o.$date=r.$func("date",i.dates.unit),o.$day=r.$func("day",i.weekdays.unit),o.$hour=r.$func("hour",i.hours.unit),o.$minute=r.$func("minute",i.minutes.unit),o.$second=r.$func("second",i.seconds.unit),o.$utcYear=r.$func("utcYear",a.year.unit),o.$utcMonth=r.$func("utcMonth",a.months.unit),o.$utcDate=r.$func("utcDate",a.dates.unit),o.$utcDay=r.$func("utcDay",a.weekdays.unit),o.$utcHour=r.$func("utcHour",a.hours.unit),o.$utcMinute=r.$func("utcMinute",a.minutes.unit),o.$utcSecond=r.$func("utcSecond",a.seconds.unit)},function(e,t,n){function r(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var i=n(11),a=n(83),o="__dl_rem__",u=r.prototype;u.add=function(e){this._add.push(e)},u.rem=function(e){this._rem.push(e)},u.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r,u=this._add,s=this._rem,l=this._key,c=Array(u.length-s.length);if(i.isObject(s[0]))if(l)for(r=i.toMap(s,l),e=0,t=0,n=u.length;e<n;++e)r.hasOwnProperty(l(u[e]))||(c[t++]=u[e]);else{for(e=0,n=s.length;e<n;++e)s[e][o]=1;for(e=0,t=0,n=u.length;e<n;++e)u[e][o]||(c[t++]=u[e]);for(e=0,n=s.length;e<n;++e)delete s[e][o]}else for(r=a.count.map(s),e=0,t=0,n=u.length;e<n;++e)r[u[e]]>0?r[u[e]]-=1:c[t++]=u[e];return this._rem=[],this._add=c},u.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=a.extent.index(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},u.argmin=function(e){return this.extent(e)[0]},u.argmax=function(e){return this.extent(e)[1]},u.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):1/0},u.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-1/0},u.quartile=function(e){return this._get===e&&this._q||(this._q=a.quartile(this.values(),e),this._get=e),this._q},u.q1=function(e){return this.quartile(e)[0]},u.q2=function(e){return this.quartile(e)[1]},u.q3=function(e){return this.quartile(e)[2]},e.exports=r},function(e,t,n){var r=n(11),i=n(304);e.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(r.array(t))},[]);return(new i).groupby(e).summarize({"*":"values"})}},function(e,t,n){function r(e){return function(t){var n=o.extend({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function i(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=u[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{}));return o.vals(r).sort(function(e,t){return e.idx-t.idx})}function a(e,t,r,a){var u=i(e,t),s="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return u.forEach(function(e){e.idx<0?(s=e.init+s,l=e.add+l,c=e.rem+c):(s+=e.init,l+=e.add,c+=e.rem)}),e.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){f+="this.assign(t,'"+e.out+"',"+e.set+");"}),f+="return t;",s=Function("cell","t",s),s.prototype.assign=a,s.prototype.add=Function("t","var v = this.get(t);"+l),s.prototype.rem=Function("t","var v = this.get(t);"+c),s.prototype.set=Function(f),s.prototype.get=r,s.prototype.distinct=n(83).count.distinct,s.prototype.isValid=o.isValid,s.fields=e.map(o.$("out")),s}var o=n(11),u={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:r({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","variance","median"],idx:5})};u.create=a,e.exports=u},function(e,t,n){function r(e,t){t=u.extend({separator:" ",minwidth:8,maxwidth:15},t);var n=t.fields||u.keys(e[0]),r=s.all(e);if(t.start||t.limit){var i=t.start||0,a=t.limit?i+t.limit:e.length;e=e.slice(i,a)}var o=n.map(function(n){var i=f[r[n]]||"",a=c("{{"+n+i+"}}"),o=l.max(e,function(e){return a(e).length});return o=Math.max(Math.min(n.length,t.minwidth),o),t.maxwidth>0?Math.min(o,t.maxwidth):o}),h=n.map(function(e,t){return u.truncate(u.pad(e,o[t],"center"),o[t])}).join(t.separator),p=c(n.map(function(e,t){return"{{"+e+(f[r[e]]||"")+"|pad:"+o[t]+","+(d[r[e]]||"right")+"|truncate:"+o[t]+"}}"}).join(t.separator));return h+"\n"+e.map(p).join("\n")}function i(e){e=e?e.__summary__?e:l.summary(e):this;var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push("-- "+e[t].field+" --"),"string"===e[t].type||e[t].distinct<10?r.push(o(e[t])):r.push(a(e[t])),r.push("");return r.join("\n")}function a(e){return["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"min:      "+e.min,"max:      "+e.max,"median:   "+e.median,"mean:     "+e.mean,"stdev:    "+e.stdev,"modeskew: "+e.modeskew].join("\n")}function o(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],n=e.unique,r=u.keys(n).sort(function(e,t){return n[t]-n[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+n[e]+")"});return t.concat(r).join("\n")}var u=n(11),s=n(82),l=n(83),c=n(309);e.exports={table:r,summary:i};var f={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},d={number:"left",integer:"left"}},function(e,t,n){function r(e,t){if(e){var n=t.header;e=(n?n.join(t.delimiter)+"\n":"")+e}return a.dsv(t.delimiter).parse(e)}var i=n(11),a=n(97);r.delimiter=function(e){var t={delimiter:e};return function(e,n){return r(e,n?i.extend(n,t):t)}},e.exports=r},function(e,t,n){var r=n(751);e.exports={json:n(189),topojson:n(753),treejson:n(754),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("\t")}},function(e,t,n){var r=n(189),i=function(e,t){var n=i.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var a,o=r(e,t);if(t&&t.feature){if(a=o.objects[t.feature])return n.feature(o,a).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(a=o.objects[t.mesh])return[n.mesh(o,o.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson=n(769),e.exports=i},function(e,t,n){function r(e,t){function n(e,t){e[i]=t,a.push(e);var o=e[r];if(o)for(var u=0;u<o.length;++u)n(o[u],e)}var r=t&&t.children||"children",i=t&&t.parent||"parent",a=[];return n(e,null),a.root=e,a}var i=n(189);e.exports=function(e,t){return r(i(e,t),t)}},function(e,t,n){var r=n(11),i=n(307),a=n(308);e.exports=r.keys(a.formats).reduce(function(e,t){return e[t]=function(e,n,o){r.isString(e)&&(e={url:e}),2===arguments.length&&r.isFunction(n)&&(o=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=t;var u=i(e,o?function(e,t){if(e)return void o(e,null);try{t=a(t,n),o(null,t)}catch(e){o(e,null)}}:void 0);if(!o)return a(u,n)},e},{})},function(e,t,n){var r=n(11),i={version:n(745).version,load:n(307),read:n(308),type:n(82),Aggregator:n(304),groupby:n(748),bins:n(305),$bin:n(306).$bin,histogram:n(306).histogram,format:n(187),template:n(309),time:n(190)};r.extend(i,r),r.extend(i,n(746)),r.extend(i,n(188)),r.extend(i,n(83)),r.extend(i,n(755)),r.extend(i.format,n(750)),i.print={table:i.format.table,summary:i.format.summary},e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){t.parse=n(760),t.stringify=n(761)},function(e,t){var n,r,i,a,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},s=function(e){return e&&e!==r&&u("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",s("-"));r>="0"&&r<="9";)t+=r,s();if("."===r)for(t+=".";s()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,s(),"-"!==r&&"+"!==r||(t+=r,s());r>="0"&&r<="9";)t+=r,s();if(e=+t,isFinite(e))return e;u("Bad number")},c=function(){var e,t,n,i="";if('"'===r)for(;s();){if('"'===r)return s(),i;if("\\"===r)if(s(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;i+=o[r]}else i+=r}u("Bad string")},f=function(){for(;r&&r<=" ";)s()},d=function(){switch(r){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}u("Unexpected '"+r+"'")},h=function(){var e=[];if("["===r){if(s("["),f(),"]"===r)return s("]"),e;for(;r;){if(e.push(a()),f(),"]"===r)return s("]"),e;s(","),f()}}u("Bad array")},p=function(){var e,t={};if("{"===r){if(s("{"),f(),"}"===r)return s("}"),t;for(;r;){if(e=c(),f(),s(":"),Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),t[e]=a(),f(),"}"===r)return s("}"),t;s(","),f()}}u("Bad object")};a=function(){switch(f(),r){case"{":return p();case"[":return h();case'"':return c();case"-":return l();default:return r>="0"&&r<="9"?l():d()}},e.exports=function(e,t){var o;return i=e,n=0,r=" ",o=a(),f(),r&&u("Syntax error"),"function"==typeof t?function e(n,r){var i,a,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=e(o,i),void 0!==a?o[i]=a:delete o[i]);return t.call(n,r,o)}({"":o},""):o}},function(e,t){function n(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var u,s,l,c,f,d=i,h=t[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof o&&(h=o.call(t,e,h)),typeof h){case"string":return n(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(i+=a,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,u=0;u<c;u+=1)f[u]=r(u,h)||"null";return l=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+d+"]":"["+f.join(",")+"]",i=d,l}if(o&&"object"==typeof o)for(c=o.length,u=0;u<c;u+=1)"string"==typeof(s=o[u])&&(l=r(s,h))&&f.push(n(s)+(i?": ":":")+l);else for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(l=r(s,h))&&f.push(n(s)+(i?": ":":")+l);return l=0===f.length?"{}":i?"{\n"+i+f.join(",\n"+i)+"\n"+d+"}":"{"+f.join(",")+"}",i=d,l}}var i,a,o,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,n){var u;if(i="",a="","number"==typeof n)for(u=0;u<n;u+=1)a+=" ";else"string"==typeof n&&(a=n);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(311);n.d(t,"bbox",function(){return r.default});var i=n(191);n.d(t,"feature",function(){return i.default});var a=n(765);n.d(t,"mesh",function(){return a.default}),n.d(t,"meshArcs",function(){return a.meshArcs});var o=n(764);n.d(t,"merge",function(){return o.default}),n.d(t,"mergeArcs",function(){return o.mergeArcs});var u=n(766);n.d(t,"neighbors",function(){return u.default});var s=n(767);n.d(t,"quantize",function(){return s.default});var l=n(192);n.d(t,"transform",function(){return l.default});var c=n(314);n.d(t,"untransform",function(){return c.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}},function(e,t,n){"use strict";function r(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function i(e,t){function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Polygon":u(e.arcs);break;case"MultiPolygon":e.arcs.forEach(u)}}function u(e){e.forEach(function(t){t.forEach(function(t){(l[t=t<0?~t:t]||(l[t]=[])).push(e)})}),c.push(e)}function s(t){return r(n.i(a.object)(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var l={},c=[],f=[];return t.forEach(i),c.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,f.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){l[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),c.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:f.map(function(t){var r,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){l[e<0?~e:e].length<2&&i.push(e)})})}),i=n.i(o.default)(e,i),(r=i.length)>1)for(var a,u,c=1,f=s(i[0]);c<r;++c)(a=s(i[c]))>f&&(u=i[0],i[0]=i[c],i[c]=u,f=a);return i})}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeArcs=i;var a=n(191),o=n(313);t.default=function(e){return n.i(a.object)(e,i.apply(this,arguments))}},function(e,t,n){"use strict";function r(e,t,r){var a,u,s;if(arguments.length>1)a=i(e,t,r);else for(u=0,a=new Array(s=e.arcs.length);u<s;++u)a[u]=u;return{type:"MultiLineString",arcs:n.i(o.default)(e,a)}}function i(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:s})}function i(e){e.forEach(r)}function a(e){e.forEach(i)}function o(e){e.forEach(a)}function u(e){switch(s=e,e.type){case"GeometryCollection":e.geometries.forEach(u);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":a(e.arcs);break;case"MultiPolygon":o(e.arcs)}}var s,l=[],c=[];return u(t),c.forEach(null==n?function(e){l.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&l.push(e[0].i)}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.meshArcs=r;var a=n(191),o=n(313);t.default=function(e){return n.i(a.object)(e,r.apply(this,arguments))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(763);t.default=function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=o[e];n?n.push(t):o[e]=[t]})}function i(e,n){e.forEach(function(e){t(e,n)})}function a(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){a(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var o={},u=e.map(function(){return[]}),s={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(e,t){e.forEach(function(e){i(e,t)})}};e.forEach(a);for(var l in o)for(var c=o[l],f=c.length,d=0;d<f;++d)for(var h=d+1;h<f;++h){var p,v=c[d],m=c[h];(p=u[v])[l=n.i(r.default)(p,m)]!==m&&p.splice(l,0,m),(p=u[m])[l=n.i(r.default)(p,v)]!==v&&p.splice(l,0,v)}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(311),i=n(314);t.default=function(e,t){function a(e){return v(e)}function o(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(o)};break;case"Point":t={type:"Point",coordinates:a(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(a)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function u(e){var t,n=0,r=1,i=e.length,a=new Array(i);for(a[0]=v(e[0],0);++n<i;)((t=v(e[n],n))[0]||t[1])&&(a[r++]=t);return 1===r&&(a[r++]=[0,0]),a.length=r,a}if(e.transform)throw new Error("already quantized");if(t&&t.scale)h=e.bbox;else{if(!((s=Math.floor(t))>=2))throw new Error("n must be ≥2");h=e.bbox||n.i(r.default)(e);var s,l=h[0],c=h[1],f=h[2],d=h[3];t={scale:[f-l?(f-l)/(s-1):1,d-c?(d-c)/(s-1):1],translate:[l,c]}}var h,p,v=n.i(i.default)(t),m=e.objects,g={};for(p in m)g[p]=o(m[p]);return{type:"Topology",bbox:h,transform:t,objects:g,arcs:e.arcs.map(u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,r,i=e.scale[0],a=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,t){t||(n=r=0),e[0]=(n+=e[0])*i+o,e[1]=(r+=e[1])*a+u}}function r(e){if(!e)return t;var n,r,i=e.scale[0],a=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,t){t||(n=r=0);var s=Math.round((e[0]-o)/i),l=Math.round((e[1]-u)/a);e[0]=s-n,e[1]=l-r,n=s,r=l}}function i(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function a(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}function o(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return u(e,t)})}:u(e,t)}function u(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:s(e,t)};return null==t.id&&delete n.id,n}function s(e,t){function r(e,t){t.length&&t.pop();for(var n,r=f[e<0?~e:e],a=0,o=r.length;a<o;++a)t.push(n=r[a].slice()),c(n,a);e<0&&i(t,o)}function a(e){return e=e.slice(),c(e,0),e}function o(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function u(e){for(var t=o(e);t.length<4;)t.push(t[0].slice());return t}function s(e){return e.map(u)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in d?{type:t,coordinates:d[t](e)}:null}var c=n(e.transform),f=e.arcs,d={Point:function(e){return a(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(a)},LineString:function(e){return o(e.arcs)},MultiLineString:function(e){return e.arcs.map(o)},Polygon:function(e){return s(e.arcs)},MultiPolygon:function(e){return e.arcs.map(s)}};return l(t)}function l(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),u.push(r)}}var i={},a={},o={},u=[],s=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++s],t[s]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),u=i[0],s=i[1];if(t=o[u])if(delete o[t.end],t.push(e),t.end=s,r=a[s]){delete a[r.start];var l=r===t?t:t.concat(r);a[l.start=t.start]=o[l.end=r.end]=l}else a[t.start]=o[t.end]=t;else if(t=a[s])if(delete a[t.start],t.unshift(e),t.start=u,r=o[u]){delete o[r.end];var c=r===t?t:r.concat(t);a[c.start=r.start]=o[c.end=t.end]=c}else a[t.start]=o[t.end]=t;else t=[e],a[t.start=u]=o[t.end=s]=t}),r(o,a),r(a,o),t.forEach(function(e){i[e<0?~e:e]||u.push([e])}),u}function c(e){return s(e,f.apply(this,arguments))}function f(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:s})}function i(e){e.forEach(r)}function a(e){e.forEach(i)}function o(e){"GeometryCollection"===e.type?e.geometries.forEach(o):e.type in f&&(s=e,f[e.type](e.arcs))}var u=[];if(arguments.length>1){var s,c=[],f={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(e){e.forEach(a)}};o(t),c.forEach(arguments.length<3?function(e){u.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&u.push(e[0].i)})}else for(var d=0,h=e.arcs.length;d<h;++d)u.push(d);return{type:"MultiLineString",arcs:l(e,u)}}function d(e){var t=e[0],n=e[1],r=e[2];return Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}function h(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[0]*i[1]-t[1]*i[0];return a/2}function p(e){return s(e,v.apply(this,arguments))}function v(e,t){function n(e){e.forEach(function(t){t.forEach(function(t){(i[t=t<0?~t:t]||(i[t]=[])).push(e)})}),a.push(e)}function r(t){return Math.abs(h(s(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}var i={},a=[],o=[];return t.forEach(function(e){"Polygon"===e.type?n(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(n)}),a.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,o.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),a.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:o.map(function(t){var n,a=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].length<2&&a.push(e)})})}),a=l(e,a),(n=a.length)>1)for(var o,u,s=1,c=r(a[0]);s<n;++s)(o=r(a[s]))>c&&(u=a[0],a[0]=a[s],a[s]=u,c=o);return a})}}function m(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=i[e];n?n.push(t):i[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function r(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,t)}):e.type in u&&u[e.type](e.arcs,t)}var i={},o=e.map(function(){return[]}),u={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(r);for(var s in i)for(var l=i[s],c=l.length,f=0;f<c;++f)for(var d=f+1;d<c;++d){var h,p=l[f],v=l[d];(h=o[p])[s=a(h,v)]!==v&&h.splice(s,0,v),(h=o[v])[s=a(h,p)]!==p&&h.splice(s,0,p)}return o}function g(e,t){return e[1][2]-t[1][2]}function y(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,i=r[n];if(g(e,i)>=0)break;r[i._=t]=i,r[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,a=n-1,o=t,u=r[o];if(a<i&&g(r[a],u)<0&&(u=r[o=a]),n<i&&g(r[n],u)<0&&(u=r[o=n]),o===t)break;r[u._=t]=u,r[e._=t=o]=e}}var n={},r=[],i=0;return n.push=function(t){return e(r[t._=i]=t,i++),i},n.pop=function(){if(!(i<=0)){var e,n=r[0];return--i>0&&(e=r[i],t(r[e._=0]=e,0)),n}},n.remove=function(n){var a,o=n._;if(r[o]===n)return o!==--i&&(a=r[i],(g(a,n)<0?e:t)(r[a._=o]=a,o)),o},n}function _(e,t){function i(e){u.remove(e),e[1][2]=t(e),u.push(e)}var a=n(e.transform),o=r(e.transform),u=y();return t||(t=d),e.arcs.forEach(function(e){var n,r,s,l,c=[],f=0;for(r=0,s=e.length;r<s;++r)l=e[r],a(e[r]=[l[0],l[1],1/0],r);for(r=1,s=e.length-1;r<s;++r)n=e.slice(r-1,r+2),n[1][2]=t(n),c.push(n),u.push(n);for(r=0,s=c.length;r<s;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];for(;n=u.pop();){var d=n.previous,h=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],d&&(d.next=h,d[2]=n[2],i(d)),h&&(h.previous=d,h[0]=n[0],i(h))}e.forEach(o)}),e}e.version="1.6.27",e.mesh=c,e.meshArcs=f,e.merge=p,e.mergeArcs=v,e.feature=o,e.neighbors=m,e.presimplify=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(772);n.d(t,"crossfilter",function(){return r.default});var i=n(774);n.d(t,"resolvefilter",function(){return i.default})},function(e,t,n){"use strict";function r(){var e=8,t=[],r=n.i(o.array32)(0),u=a(0,e),s=a(0,e);return{data:function(){return t},seen:function(){return r=i(r,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)n=e[r],n._index=i++,t.push(n)},remove:function(e,n){var r,i,a,o=t.length,l=Array(o-e),c=t;for(i=0;!n[i]&&i<o;++i)l[i]=t[i],c[i]=i;for(a=i;i<o;++i)r=t[i],n[i]?c[i]=-1:(c[i]=a,u[a]=u[i],s[a]=s[i],l[a]=r,r._index=a++),u[i]=0;return t=l,c},size:function(){return t.length},curr:function(){return u},prev:function(){return s},reset:function(e){s[e]=u[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){u[e]|=t},clear:function(e,t){u[e]&=~t},resize:function(t,n){(t>u.length||n>e)&&(e=Math.max(n,e),u=a(t,e,u),s=a(t,e))}}}function i(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function a(e,t,n){var r=(t<257?o.array8:t<65537?o.array16:o.array32)(e);return n&&r.set(n),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(315)},function(e,t,n){"use strict";function r(e){u.Transform.call(this,n.i(i.default)(),e),this._indices=null,this._dims=null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(771),a=n(773),o=n(775),u=n(1),s=n(0);r.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var l=n.i(s.inherits)(r,u.Transform);l.transform=function(e,t){if(this._dims){return e.modified("fields")||e.fields.some(function(e){return t.modified(e.fields)})?this.reinit(e,t):this.eval(e,t)}return this.init(e,t)},l.init=function(e,t){for(var r,i,u=e.fields,s=e.query,l=this._indices={},c=this._dims=[],f=s.length,d=0;d<f;++d)r=u[d].fname,i=l[r]||(l[r]=n.i(o.default)()),c.push(n.i(a.default)(i,d,s[d]));return this.eval(e,t)},l.reinit=function(e,t){var r,i,u,s,l,c,f,d,h,p=t.materialize().fork(),v=e.fields,m=e.query,g=this._indices,y=this._dims,_=this.value,b=_.curr(),x=_.prev(),w=_.all(),M=p.rem=p.add,O=p.mod,P=m.length,S={};if(x.set(b),t.rem.length&&(l=this.remove(e,t,p)),t.add.length&&_.add(t.add),t.mod.length)for(c={},s=t.mod,f=0,d=s.length;f<d;++f)c[s[f]._index]=1;for(f=0;f<P;++f)h=v[f],(!y[f]||e.modified("fields",f)||t.modified(h.fields))&&(u=h.fname,(r=S[u])||(g[u]=i=n.i(o.default)(),S[u]=r=i.insert(h,t.source,0)),y[f]=n.i(a.default)(i,f,m[f]).onAdd(r,b));for(f=0,d=_.data().length;f<d;++f)l[f]||(x[f]!==b[f]?M.push(f):c[f]&&b[f]!==w&&O.push(f));return _.mask=(1<<P)-1,p},l.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},l.insert=function(e,t,n){var r,i,a,o=t.add,u=this.value,s=this._dims,l=this._indices,c=e.fields,f={},d=n.add,h=u.size(),p=h+o.length,v=s.length;u.resize(p,v),u.add(o);var m=u.curr(),g=u.prev(),y=u.all();for(r=0;r<v;++r)i=c[r].fname,a=f[i]||(f[i]=l[i].insert(c[r],o,h)),s[r].onAdd(a,m);for(;h<p;++h)g[h]=y,m[h]!==y&&d.push(h)},l.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,u=o.curr(),s=o.all(),l=e.mod;for(n=0,r=l.length;n<r;++n)i=l[n]._index,u[i]!==s&&a.push(i)},l.remove=function(e,t,n){var r,i,a,o,u=this._indices,s=this.value,l=s.curr(),c=s.prev(),f=s.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)a=p[r]._index,d[a]=1,c[a]=o=l[a],l[a]=f,o!==f&&h.push(a);for(a in u)u[a].remove(i,d);return this.reindex(t,i,d),d},l.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter(function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)})},l.update=function(e,t,n){var r,i,a=this._dims,o=e.query,u=t.stamp,s=a.length,l=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++l);if(1===l)l=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,l=0;i<s;++i)e.modified("query",i)&&(l|=a[i].one,this.incrementAll(a[i],o[i],u,n.add),n.rem=n.add);return l},l.incrementAll=function(e,t,n,r){var i,a,o,u=this.value,s=u.seen(),l=u.curr(),c=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],m=d[0],g=d[1],y=e.one;if(p<m)for(i=p,a=Math.min(m,v);i<a;++i)o=f[i],s[o]!==n&&(c[o]=l[o],s[o]=n,r.push(o)),l[o]^=y;else if(p>m)for(i=m,a=Math.min(p,g);i<a;++i)o=f[i],s[o]!==n&&(c[o]=l[o],s[o]=n,r.push(o)),l[o]^=y;if(v>g)for(i=Math.max(p,g),a=v;i<a;++i)o=f[i],s[o]!==n&&(c[o]=l[o],s[o]=n,r.push(o)),l[o]^=y;else if(v<g)for(i=Math.max(m,v),a=g;i<a;++i)o=f[i],s[o]!==n&&(c[o]=l[o],s[o]=n,r.push(o)),l[o]^=y;e.range=t.slice()},l.incrementOne=function(e,t,n,r){var i,a,o,u=this.value,s=u.curr(),l=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],h=f[1],p=c[0],v=c[1],m=e.one;if(d<p)for(i=d,a=Math.min(p,h);i<a;++i)o=l[i],s[o]^=m,n.push(o);else if(d>p)for(i=p,a=Math.min(d,v);i<a;++i)o=l[i],s[o]^=m,r.push(o);if(h>v)for(i=Math.max(d,v),a=h;i<a;++i)o=l[i],s[o]^=m,n.push(o);else if(h<v)for(i=Math.max(p,h),a=v;i<a;++i)o=l[i],s[o]^=m,r.push(o);e.range=t.slice()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,u=a[0],s=a[1],l=o.length;for(n=0;n<u;++n)t[o[n]]|=r;for(n=s;n<l;++n)t[o[n]]|=r;return i}}}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),l=function(e){return u[e]&n?null:o[e]};return a.filter(a.MOD,l),i&i-1?(a.filter(a.ADD,function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null}),a.filter(a.REM,function(e){var t=u[e]&n;return!t||t^t^s[e]&n?null:o[e]})):(a.filter(a.ADD,l),a.filter(a.REM,function(e){return(u[e]&n)===i?o[e]:null})),a.filter(a.SOURCE,function(e){return l(e._index)})}},function(e,t,n){"use strict";function r(){function e(e,t,r){if(!t.length)return[];var u,s,d,h=f,p=t.length,v=Array(p),m=n.i(o.array32)(p);for(d=0;d<p;++d)v[d]=e(t[d]),m[d]=d;if(v=i(v,m),h)u=c,s=l,c=Array(h+p),l=n.i(o.array32)(h+p),a(r,u,s,h,v,m,p,c,l);else{if(r>0)for(d=0;d<p;++d)m[d]+=r;c=v,l=m}return f=h+p,{index:m,value:v}}function t(e,t){var n,r,i,a=f;for(r=0;!t[l[r]]&&r<a;++r);for(i=r;r<a;++r)t[n=l[r]]||(l[i]=n,c[i]=c[r],++i);f=a-e}function r(e){for(var t=0,n=f;t<n;++t)l[t]=e[l[t]]}function s(e,t){var r;return t?r=t.length:(t=c,r=f),[n.i(u.bisectLeft)(t,e[0],0,r),n.i(u.bisectRight)(t,e[1],0,r)]}var l=n.i(o.array32)(0),c=[],f=0;return{insert:e,remove:t,bisect:s,reindex:r,index:function(){return l},size:function(){return f}}}function i(e,t){return e.sort.call(t,function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0}),n.i(u.permute)(e,t)}function a(e,t,n,r,i,a,o,u,s){var l,c=0,f=0;for(l=0;c<r&&f<o;++l)t[c]<i[f]?(u[l]=t[c],s[l]=n[c++]):(u[l]=i[f],s[l]=a[f++]+e);for(;c<r;++c,++l)u[l]=t[c],s[l]=n[c];for(;f<o;++f,++l)u[l]=i[f],s[l]=a[f]+e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(315),u=n(8)},function(e,t,n){"use strict";function r(e,t){i.default.call(this,e,null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(113),a=n(0),o=n.i(a.inherits)(r,i.default);o.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t!==e.StopPropagation&&(this.pulse=t),this.stamp=e.stamp,t},o.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},o.transform=function(){}},function(e,t,n){"use strict";function r(){this._log=n.i(g.logger)(),this.logLevel(g.Error),this._clock=0,this._rank=0;try{this._loader=n.i(m.loader)()}catch(e){}this._touched=n.i(v.default)(g.id),this._pulses={},this._pulse=null,this._heap=new p.default(function(e,t){return e.qrank-t.qrank}),this._postrun=[]}function i(e){return function(){return this._log[e].apply(this,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(778),o=n(779),u=n(780),s=n(781),l=n(782),c=n(783),f=n(784),d=n(785),h=n(193),p=n(787),v=n(84),m=n(92),g=n(0),y=r.prototype;y.stamp=function(){return this._clock},y.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},y.cleanThreshold=1e4,y.add=a.default,y.connect=o.default,y.rank=c.rank,y.rerank=c.rerank,y.pulse=d.pulse,y.touch=d.touch,y.update=d.update,y.changeset=h.default,y.ingest=s.ingest,y.request=s.request,y.events=u.default,y.on=l.default,y.run=f.run,y.runAsync=f.runAsync,y.runAfter=f.runAfter,y._enqueue=f.enqueue,y._getPulse=f.getPulse,y.error=i("error"),y.warn=i("warn"),y.info=i("info"),y.debug=i("debug"),y.logLevel=i("level")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(113),i=n(0);t.default=function(e,t,a,o){var u,s=1;return e instanceof r.default?u=e:e&&e.prototype instanceof r.default?u=new e:n.i(i.isFunction)(e)?u=new r.default(null,e):(s=0,u=new r.default(e,t)),this.rank(u),s&&(o=a,a=t),a&&this.connect(u,u.parameters(a,o)),this.touch(u),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(316),i=n(0);t.default=function(e,t,a,o){var u,s=this,l=n.i(r.stream)(a,o),c=function(e){e.dataflow=s;try{l.receive(e)}catch(e){s.error(e)}finally{s.run()}};u="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):n.i(i.array)(e);for(var f=0,d=u.length;f<d;++f)u[f].addEventListener(t,c);return l}},function(e,t,n){"use strict";function r(e,t,r){return this.pulse(e,this.changeset().insert(n.i(o.read)(t,r)))}function i(e){var t,n,r=new Promise(function(e,r){t=e,n=r});return r.requests=0,r.done=function(){0==--r.requests&&e.runAfter(function(){e._pending=null;try{e.run(),t(e)}catch(e){n(e)}})},e._pending=r}function a(e,t,n){var r=this,a=r._pending||i(r);a.requests+=1,r.loader().load(t,{context:"dataflow"}).then(function(t){r.ingest(e,t,n)},function(e){r.error("Loading failed",t,e)}).catch(function(e){r.error("Data ingestion failed",t,e)}).then(a.done,a.done)}Object.defineProperty(t,"__esModule",{value:!0}),t.ingest=r,t.request=a;var o=n(92)},function(e,t,n){"use strict";function r(e,t,r,i,l,c){var f,d,h=n.i(u.extend)({},c,s);n.i(u.isFunction)(r)||(r=n.i(u.constant)(r)),void 0===i?f=function(t){e.touch(r(t))}:n.i(u.isFunction)(i)?(d=new a.default(null,i,l,!1),f=function(t){var i,a=r(t);d.evaluate(t),n.i(o.isChangeSet)(i=d.value)?e.pulse(a,i,c):e.update(a,i,h)}):f=function(t){e.update(r(t),i,h)},t.apply(f)}function i(e,t,r,i,o,s){var l,c;void 0===i?c=r:(l=n.i(u.isFunction)(i)?i:n.i(u.constant)(i),i=r?function(e,t){var n=l(e,t);return r.skip()?n:r.skip(!0).value=n}:l,c=new a.default(null,i,o,!1),c.modified(s&&s.force),c.rank=0,r&&(c.skip(!0),c.value=r.value,c.targets().add(r))),t.targets().add(c)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(113),o=n(193),u=n(0),s={skip:!0};t.default=function(e,t,n,o,u){return(e instanceof a.default?i:r)(this,e,t,n,o,u),this}},function(e,t,n){"use strict";function r(e){e.rank=++this._rank}function i(e){for(var t,r,i,o=[e];o.length;)if(this.rank(t=o.pop()),r=t._targets)for(i=r.length;--i>=0;)o.push(t=r[i]),t===e&&n.i(a.error)("Cycle detected in dataflow graph.")}Object.defineProperty(t,"__esModule",{value:!0}),t.rank=r,t.rerank=i;var a=n(0)},function(e,t,n){"use strict";function r(e){var t,r,i,a,o=this,u=0,l=o.logLevel();if(o._pending)return o.info("Awaiting requests, delaying dataflow run."),0;if(o._pulse)return o.error("Dataflow invoked recursively. Use the runAfter method to queue invocation."),0;if(!o._touched.length)return o.info("Dataflow invoked, but nothing to do."),0;o._pulse=new s.default(o,++o._clock,e),l>=f.Info&&(i=Date.now(),o.debug("-- START PROPAGATION ("+o._clock+") -----")),o._touched.forEach(function(e){o._enqueue(e,!0)}),o._touched=n.i(c.default)(f.id);try{for(;o._heap.size()>0;)t=o._heap.pop(),t.rank===t.qrank?(r=t.run(o._getPulse(t,e)),l>=f.Debug&&o.debug(t.id,r===s.StopPropagation?"STOP":r,t),r!==s.StopPropagation&&(o._pulse=r,t._targets&&t._targets.forEach(function(e){o._enqueue(e)})),++u):o._enqueue(t,!0)}catch(e){a=e}if(o._pulses={},o._pulse=null,l>=f.Info&&(i=Date.now()-i,o.info("> Pulse "+o._clock+": "+u+" operators; "+i+"ms")),a&&(o._postrun=[],o.error(a)),o._onrun)try{o._onrun(o,u,a)}catch(e){o.error(e)}if(o._postrun.length){var d=o._postrun;o._postrun=[],d.forEach(function(e){try{e(o)}catch(e){o.error(e)}})}return u}function i(){return this._pending||Promise.resolve(this.run())}function a(e,t){if(this._pulse||t)this._postrun.push(e);else try{e(this)}catch(e){this.error(e)}}function o(e,t){var n=!this._pulses[e.id];n&&(this._pulses[e.id]=this._pulse),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function u(e,t){var r,i=e.source,a=this._clock;return i&&n.i(f.isArray)(i)?(r=i.map(function(e){return e.pulse}),new l.default(this,a,r,t)):(i=i&&i.pulse,r=this._pulses[e.id],i&&i!==s.StopPropagation&&(i.stamp===a&&r.target!==e?r=i:r.source=i.source),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.run=r,t.runAsync=i,t.runAfter=a,t.enqueue=o,t.getPulse=u;var s=n(114),l=n(317),c=n(84),f=n(0)},function(e,t,n){"use strict";function r(e,t){var n=t||u;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function i(e,t,n){var r=n||u;return(e.set(t)||r.force)&&this.touch(e,r),this}function a(e,t,n){this.touch(e,n||u);var r=new o.default(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._pulses[e.id]=t.pulse(r,i),this}Object.defineProperty(t,"__esModule",{value:!0}),t.touch=r,t.update=i,t.pulse=a;var o=n(114),u={skip:!1,force:!1}},function(e,t,n){"use strict";function r(e){var t=i(e);return t&&t.Definition||null}function i(e){return e=e&&e.toLowerCase(),a.hasOwnProperty(e)?a[e]:null}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"transforms",function(){return a}),t.definition=r,t.transform=i;var a={}},function(e,t,n){"use strict";function r(e){this.cmp=e,this.nodes=[]}function i(e,t,n,r){var i,a,o;for(i=e[n];n>t&&(o=n-1>>1,a=e[o],r(i,a)<0);)e[n]=a,n=o;return e[n]=i}function a(e,t,n){for(var r,a=t,o=e.length,u=e[t],s=2*t+1;s<o;)r=s+1,r<o&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],t=s,s=2*t+1;return e[t]=u,i(e,a,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=r.prototype;o.size=function(){return this.nodes.length},o.clear=function(){return this.nodes=[],this},o.peek=function(){return this.nodes[0]},o.push=function(e){var t=this.nodes;return t.push(e),i(t,0,t.length-1,this.cmp)},o.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,a(t,0,this.cmp)):e=n,e},o.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,a(t,0,this.cmp),n},o.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,a(t,0,this.cmp)),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(789);n.d(t,"axisticks",function(){return r.default});var i=n(790);n.d(t,"datajoin",function(){return i.default});var a=n(791);n.d(t,"encode",function(){return a.default});var o=n(792);n.d(t,"legendentries",function(){return o.default});var u=n(793);n.d(t,"linkpath",function(){return u.default});var s=n(794);n.d(t,"pie",function(){return s.default});var l=n(795);n.d(t,"scale",function(){return l.default});var c=n(796);n.d(t,"sortitems",function(){return c.default});var f=n(797);n.d(t,"stack",function(){return f.default});var d=n(85);n.d(t,"validTicks",function(){return d.validTicks})},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(85),a=n(1),o=n(0);n.i(o.inherits)(r,a.Transform).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,u=e.scale,s=null==e.count?e.values?e.values.length:10:n.i(i.tickCount)(u,e.count),l=e.format||n.i(i.tickFormat)(u,s,e.formatSpecifier),c=e.values?n.i(i.validTicks)(u,e.values,s):n.i(i.tickValues)(u,s);return o&&(r.rem=o),o=c.map(function(e,t){return n.i(a.ingest)({index:t/(c.length-1),value:e,label:l(e)})}),e.extra&&o.push(n.i(a.ingest)({index:-1,extra:{value:o[0].value},label:""})),r.source=o,r.add=o,this.value=o,r}},function(e,t,n){"use strict";function r(e){o.Transform.call(this,null,e)}function i(){return n.i(o.ingest)({})}function a(e){return e.exit}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),u=n(0);n.i(u.inherits)(r,o.Transform).transform=function(e,t){var r=t.dataflow,s=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=e.item||i,c=e.key||o.tupleid,f=this.value;return n.i(u.isArray)(s.encode)&&(s.encode=null),f&&(e.modified("key")||t.modified(c))&&n.i(u.error)("DataJoin does not support modified key function or fields."),f||(t=t.addAll(),this.value=f=n.i(u.fastmap)().test(a),f.lookup=function(e){return f.get(c(e))}),t.visit(t.ADD,function(e){var t=c(e),n=f.get(t);n?n.exit?(f.empty--,s.add.push(n)):s.mod.push(n):(f.set(t,n=l(e)),s.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,function(e){var t=c(e),n=f.get(t);n&&(n.datum=e,s.mod.push(n))}),t.visit(t.REM,function(e){var t=c(e),n=f.get(t);e!==n.datum||n.exit||(s.rem.push(n),n.exit=!0,++f.empty)}),t.changed(t.ADD_MOD)&&s.modifies("datum"),e.clean&&f.empty>r.cleanThreshold&&r.runAfter(f.clean),s}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r=t.fork(t.ADD_REM),i=e.encoders,o=t.encode;if(n.i(a.isArray)(o)){if(!r.changed()&&!o.every(function(e){return i[e]}))return t.StopPropagation;o=o[0]}var u="enter"===o,s=i.update||a.falsy,l=i.enter||a.falsy,c=i.exit||a.falsy,f=(o&&!u?i[o]:s)||a.falsy;if(t.changed(t.ADD)&&(t.visit(t.ADD,function(t){l(t,e),s(t,e),f!==a.falsy&&f!==s&&f(t,e)}),r.modifies(l.output),r.modifies(s.output),f!==a.falsy&&f!==s&&r.modifies(f.output)),t.changed(t.REM)&&c!==a.falsy&&(t.visit(t.REM,function(t){c(t,e)}),r.modifies(c.output)),u||f!==a.falsy){var d=t.MOD|(e.modified()?t.REFLOW:0);u?(t.visit(d,function(t){var n=l(t,e);(f(t,e)||n)&&r.mod.push(t)}),r.mod.length&&r.modifies(l.output)):t.visit(d,function(t){f(t,e)&&r.mod.push(t)}),r.mod.length&&r.modifies(f.output)}return r.changed()?r:t.StopPropagation}},function(e,t,n){"use strict";function r(e){o.Transform.call(this,[],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(798),a=n(85),o=n(1),u=n(58),s=n(0);n.i(s.inherits)(r,o.Transform).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=0,c=this.value,f="gradient"===e.type,d=e.scale,h=null==e.count?5:n.i(a.tickCount)(d,e.count),p=e.format||n.i(a.tickFormat)(d,h,e.formatSpecifier),v=e.values||n.i(i.labelValues)(d,h,f);if(p=n.i(i.labelFormat)(d,p),c&&(r.rem=c),f)var m=e.values?d.domain():v,g=n.i(u.scaleFraction)(d,m[0],n.i(s.peek)(m));else{var y,_=e.size;n.i(s.isFunction)(_)?(e.values||0!==d(v[0])||(v=v.slice(1)),y=v.reduce(function(t,n){return Math.max(t,_(n,e))},0)):_=n.i(s.constant)(y=_||8)}return c=v.map(function(t,r){var i=n.i(o.ingest)({index:r,label:p(t,r,v),value:t});return f?i.perc=g(t):(i.offset=y,i.size=_(t,e),i.total=Math.round(l),l+=i.size),i}),r.source=c,r.add=c,this.value=c,r}},function(e,t,n){"use strict";function r(e){return e.source.x}function i(e){return e.source.y}function a(e){return e.target.x}function o(e){return e.target.y}function u(e){b.Transform.call(this,{},e)}function s(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function l(e,t,n,r){return s(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function c(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function f(e,t,n,r){return c(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function d(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r}function h(e,t,n,r){return d(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function p(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n}function v(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r}function m(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n);return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u}function g(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r}function y(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r}function _(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*o+","+s*u+" "+r*o+","+r*u}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var b=n(1),x=n(0),w=n.i(x.fastmap)({line:s,"line-radial":l,arc:c,"arc-radial":f,curve:d,"curve-radial":h,"orthogonal-horizontal":p,"orthogonal-vertical":v,"orthogonal-radial":m,"diagonal-horizontal":g,"diagonal-vertical":y,"diagonal-radial":_});u.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"as",type:"string",default:"path"}]},n.i(x.inherits)(u,b.Transform).transform=function(e,t){var u=e.sourceX||r,s=e.sourceY||i,l=e.targetX||a,c=e.targetY||o,f=e.as||"path",d=e.orient||"vertical",h=e.shape||"line",p=w.get(h+"-"+d)||w.get(h);return p||n.i(x.error)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,function(e){e[f]=p(u(e),s(e),l(e),c(e))}),t.reflow(e.modified()).modifies(f)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n(8);r.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,i,u,s=e.as||["startAngle","endAngle"],l=s[0],c=s[1],f=e.field||a.one,d=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,p=t.source,v=p.map(f),m=v.length,g=d,y=(h-d)/n.i(o.sum)(v),_=n.i(o.range)(m);for(e.sort&&_.sort(function(e,t){return v[e]-v[t]}),r=0;r<m;++r)u=v[_[r]],i=p[_[r]],i[l]=g,i[c]=g+=u*y;return this.value=v,t.reflow(e.modified()).modifies(s)}},function(e,t,n){"use strict";function r(e){p.Transform.call(this,null,e),this.modified(!0)}function i(e,t,r){var i=a(e,t.domainRaw);if(i>-1)return i;var u,s,l=t.domain,c=e.type,f=t.zero||void 0===t.zero&&b[c];return l?(x[c]&&t.padding&&l[0]!==n.i(v.peek)(l)&&(l=o(c,l,t.range,t.padding,t.exponent)),(f||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(u=(l=l.slice()).length-1||1,f&&(l[0]>0&&(l[0]=0),l[u]<0&&(l[u]=0)),null!=t.domainMin&&(l[0]=t.domainMin),null!=t.domainMax&&(l[u]=t.domainMax),null!=t.domainMid&&(s=t.domainMid,(s<l[0]||s>l[u])&&r.warn("Scale domainMid exceeds domain min or max.",s),l.splice(u,0,s))),e.domain(l),t.nice&&e.nice&&e.nice(!0!==t.nice&&n.i(h.tickCount)(e,t.nice)||null),l.length):0}function a(e,t){return t?(e.domain(t),t.length):-1}function o(e,t,r,i,a){var o=Math.abs(n.i(v.peek)(r)-r[0]),u=o/(o-2*i),s=e===m.Log?n.i(v.zoomLog)(t,null,u):e===m.Sqrt?n.i(v.zoomPow)(t,null,u,.5):e===m.Pow?n.i(v.zoomPow)(t,null,u,a):n.i(v.zoomLinear)(t,null,u);return t=t.slice(),t[0]=s[0],t[t.length-1]=s[1],t}function u(e,t,r){var i=t.round||!1,a=t.range;if(null!=t.rangeStep)a=s(e.type,t,r);else if(t.scheme){if(a=l(e.type,t,r),n.i(v.isFunction)(a))return e.interpolator(a)}else if(a&&e.type===m.Sequential)return e.interpolator(n.i(y.interpolateRgbBasis)(f(a,t.reverse)));a&&t.interpolate&&e.interpolate?e.interpolate(n.i(g.interpolate)(t.interpolate,t.interpolateGamma)):n.i(v.isFunction)(e.round)?e.round(i):n.i(v.isFunction)(e.rangeRound)&&e.interpolate(i?y.interpolateRound:y.interpolate),a&&e.range(f(a,t.reverse))}function s(e,t,r){e!==m.Band&&e!==m.Point&&n.i(v.error)("Only band and point scales support rangeStep.");var i=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,a=e===m.Point?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*n.i(g.bandSpace)(r,a,i)]}function l(e,t,r){var i,a=t.scheme.toLowerCase(),o=n.i(g.scheme)(a),u=t.schemeExtent;return o||n.i(v.error)("Unrecognized scheme name: "+t.scheme),r=e===m.Threshold?r+1:e===m.BinOrdinal?r-1:e===m.Quantile||e===m.Quantize?+t.schemeCount||_:r,e===m.Sequential?c(o,u,t.reverse):!u&&(i=n.i(g.scheme)(a+"-"+r))?i:n.i(v.isFunction)(o)?d(c(o,u),r):e===m.Ordinal?o:o.slice(0,r)}function c(e,t,r){return n.i(v.isFunction)(e)&&(t||r)?n.i(g.interpolateRange)(e,f(t||[0,1],r)):e}function f(e,t){return t?e.slice().reverse():e}function d(e,t){for(var n=new Array(t),r=t-1||1,i=0;i<t;++i)n[i]=e(i/r);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var h=n(85),p=n(1),v=n(0),m=n(195),g=n(58),y=n(27),_=5,b=n.i(v.toSet)([m.Linear,m.Pow,m.Sqrt]),x=n.i(v.toSet)([m.Linear,m.Log,m.Pow,m.Sqrt,m.Time,m.Utc]),w=n.i(v.toSet)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","nice","zero","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);n.i(v.inherits)(r,p.Transform).transform=function(e,t){var r,a=t.dataflow,o=this.value;o&&!e.modified("type")||(this.value=o=n.i(g.scale)((e.type||m.Linear).toLowerCase())());for(r in e)if(!w[r]){if("padding"===r&&x[o.type])continue;n.i(v.isFunction)(o[r])?o[r](e[r]):a.warn("Unsupported scale property: "+r)}return u(o,e,i(o,e,a)),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(e.sort),this.modified(n),t}},function(e,t,n){"use strict";function r(e){s.Transform.call(this,null,e)}function i(e,t,n,r,i){for(var a,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)a=e[s],a[r]=o,a[i]=o+=Math.abs(n(a))}function a(e,t,n,r,i){for(var a,o=1/e.sum,u=0,s=e.length,l=0,c=0;l<s;++l)a=e[l],a[r]=u,a[i]=u=o*(c+=Math.abs(n(a)))}function o(e,t,n,r,i){for(var a,o,u=0,s=0,l=e.length,c=0;c<l;++c)o=e[c],a=n(o),a<0?(o[r]=s,o[i]=s+=a):(o[r]=u,o[i]=u+=a)}function u(e,t,n,r){var i,a,o,u,s,l,c,f,d,h=[],p=function(e){return e(s)};if(null==t)h.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(p),c=i[l],c||(i[l]=c=[],h.push(c)),c.push(s);for(l=0,d=0,u=h.length;l<u;++l){for(c=h[l],a=0,f=0,o=c.length;a<o;++a)f+=Math.abs(r(c[a]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return h.max=d,h}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(1),l=n(0);r.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:["y0","y1"]}]},n.i(l.inherits)(r,s.Transform).transform=function(e,t){var n,r,s,c,f=e.as||["y0","y1"],d=f[0],h=f[1],p=e.field||l.one,v="center"===e.offset?i:"normalize"===e.offset?a:o;for(n=u(t.source,e.groupby,e.sort,p),r=0,s=n.length,c=n.max;r<s;++r)v(n[r],c,p,d,h);return t.reflow(e.modified()).modifies(f)}},function(e,t,n){"use strict";function r(e,t,r){if(r)return e.domain();var i=v[e.type];return i?i(e):n.i(h.tickValues)(e,t)}function i(e){var t=e.domain(),r=t[0],i=n.i(p.peek)(t),a=e.range().length,o=new Array(a),u=0;for(o[0]=-1/0;++u<a;)o[u]=(u*i-(u-a)*r)/a;return o.max=1/0,o}function a(e){var t=[-1/0].concat(e.quantiles());return t.max=1/0,t}function o(e){var t=[-1/0].concat(e.domain());return t.max=1/0,t}function u(e){var t=e.domain();return t.max=t.pop(),t}function s(e,t){return v[e.type]?l(t):f(t)}function l(e){return function(t,n,r){var i=r[n+1]||r.max||1/0,a=c(t,e),o=c(i,e);return a&&o?a+"–"+o:o?"< "+o:"≥ "+a}}function c(e,t){return isFinite(e)?t(e):null}function f(e){return function(t){return e(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.labelValues=r,t.labelFormat=s;var d=n(195),h=n(85),p=n(0),v={};v[d.Quantile]=a,v[d.Quantize]=i,v[d.Threshold]=o,v[d.BinLinear]=u,v[d.BinOrdinal]=u},function(e,t,n){"use strict";function r(e){return f.hasOwnProperty(e)}function i(e,t,n,r,i){for(var a,o=0,u=e.length;t<u;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function a(e){for(var t=[],n=0,r=e.length,a=0;a<r;)a=i(e,a,y,h+v,p+m),t.push(e.substring(n,a).trim()),n=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function o(e){return"["===e[0]?u(e):s(e)}function u(e){var t,n,r=e.length,u=1;if((u=i(e,u,p,h,p))===r)throw"Empty between selector: "+e;if(t=a(e.substring(1,u)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(u+1).trim(),e[0]!==b)throw"Expected '>' after between selector: "+e;return t=t.map(o),n=o(e.slice(1).trim()),n.between?{between:t,stream:n}:(n.between=t,n)}function s(e){var t,n,a={source:c},o=[],u=[0,0],s=0,f=0,d=e.length,y=0;if(e[d-1]===m){if(!((y=e.lastIndexOf(v))>=0))throw"Unmatched right brace: "+e;try{u=l(e.substring(y+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,y).trim(),d=e.length,y=0}if(!d)throw e;if(e[0]===_&&(s=++y),t=i(e,y,g),t<d&&(o.push(e.substring(f,t).trim()),f=y=++t),(y=i(e,y,h))===d)o.push(e.substring(f,d).trim());else if(o.push(e.substring(f,y).trim()),n=[],(f=++y)===d)throw"Unmatched left bracket: "+e;for(;y<d;){if((y=i(e,y,p))===d)throw"Unmatched left bracket: "+e;if(n.push(e.substring(f,y).trim()),y<d-1&&e[++y]!==h)throw"Expected left bracket: "+e;f=++y}if(!(d=o.length)||x.test(o[d-1]))throw"Invalid event selector: "+e;return d>1?(a.type=o[1],s?a.markname=o[0].slice(1):r(o[0])?a.marktype=o[0]:a.source=o[0]):a.type=o[0],"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1)),null!=n&&(a.filter=n),u[0]&&(a.throttle=u[0]),u[1]&&(a.debounce=u[1]),a}function l(e){var t=e.split(y);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return c=t||d,f=n||w,a(e.trim()).map(o)};var c,f,d="view",h="[",p="]",v="{",m="}",g=":",y=",",_="@",b=">",x=/[[\]{}]/,w={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(321),i=n(322),a=n(0);t.default=function(e){function t(e){if(n.i(a.isString)(e))return e;var t=g[e.type];return null==t&&n.i(a.error)("Unsupported type: "+e.type),t(e)}function o(e){var n={code:t(e),globals:Object.keys(h),fields:Object.keys(p)};return h={},p={},n}e=e||{};var u=e.whitelist?n.i(a.toSet)(e.whitelist):{},s=e.blacklist?n.i(a.toSet)(e.blacklist):{},l=e.constants||r.default,c=(e.functions||i.default)(t),f=e.globalvar,d=e.fieldvar,h={},p={},v=0,m=n.i(a.isFunction)(f)?f:function(e){return f+'["'+e+'"]'},g={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;return v>0?t:s.hasOwnProperty(t)?n.i(a.error)("Illegal identifier: "+t):l.hasOwnProperty(t)?l[t]:u.hasOwnProperty(t)?t:(h[t]=1,m(t))},MemberExpression:function(e){var n=!e.computed,r=t(e.object);n&&(v+=1);var i=t(e.property);return r===d&&(p[i]=1),n&&(v-=1),r+(n?"."+i:"["+i+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&n.i(a.error)("Illegal callee type: "+e.callee.type);var r=e.callee.name,i=e.arguments,o=c.hasOwnProperty(r)&&c[r];return o||n.i(a.error)("Unrecognized function: "+r),n.i(a.isFunction)(o)?o(i):o+"("+i.map(t).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(t).join(",")+"]"},BinaryExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+t(e.argument)+")"},ConditionalExpression:function(e){return"("+t(e.test)+"?"+t(e.consequent)+":"+t(e.alternate)+")"},LogicalExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(t).join(",")+"}"},Property:function(e){v+=1;var n=t(e.key);return v-=1,n+":"+t(e.value)}};return o.functions=c,o.constants=l,o}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("ASSERT: "+t)}function i(e){return e>=48&&e<=57}function a(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function o(e){return"01234567".indexOf(e)>=0}function u(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function s(e){return 10===e||13===e||8232===e||8233===e}function l(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Ye.test(String.fromCharCode(e))}function c(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&We.test(String.fromCharCode(e))}function f(){for(var e;ce<fe&&(e=le.charCodeAt(ce),u(e)||s(e));)++ce}function d(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)ce<fe&&a(le[ce])?(r=le[ce++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):q({},Ne,Ve);return String.fromCharCode(i)}function h(){var e,t,n,r;for(e=le[ce],t=0,"}"===e&&q({},Ne,Ve);ce<fe&&(e=le[ce++],a(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&q({},Ne,Ve),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function p(){var e,t;for(e=le.charCodeAt(ce++),t=String.fromCharCode(e),92===e&&(117!==le.charCodeAt(ce)&&q({},Ne,Ve),++ce,e=d("u"),e&&"\\"!==e&&l(e.charCodeAt(0))||q({},Ne,Ve),t=e);ce<fe&&(e=le.charCodeAt(ce),c(e));)++ce,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==le.charCodeAt(ce)&&q({},Ne,Ve),++ce,e=d("u"),e&&"\\"!==e&&c(e.charCodeAt(0))||q({},Ne,Ve),t+=e);return t}function v(){var e,t;for(e=ce++;ce<fe;){if(92===(t=le.charCodeAt(ce)))return ce=e,p();if(!c(t))break;++ce}return le.slice(e,ce)}function m(){var e,t,n;return e=ce,t=92===le.charCodeAt(ce)?p():v(),n=1===t.length?me:$e.hasOwnProperty(t)?ge:"null"===t?ye:"true"===t||"false"===t?pe:me,{type:n,value:t,start:e,end:ce}}function g(){var e,t,n,r,i=ce,a=le.charCodeAt(ce),o=le[ce];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,{type:be,value:String.fromCharCode(a),start:i,end:ce};default:if(61===(e=le.charCodeAt(ce+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:be,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:ce};case 33:case 61:return ce+=2,61===le.charCodeAt(ce)&&++ce,{type:be,value:le.slice(i,ce),start:i,end:ce}}}return">>>="===(r=le.substr(ce,4))?(ce+=4,{type:be,value:r,start:i,end:ce}):">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?(ce+=3,{type:be,value:n,start:i,end:ce}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(ce+=2,{type:be,value:t,start:i,end:ce}):"<>=!+-*%&|^/".indexOf(o)>=0?(++ce,{type:be,value:o,start:i,end:ce}):void q({},Ne,Ve))}function y(e){for(var t="";ce<fe&&a(le[ce]);)t+=le[ce++];return 0===t.length&&q({},Ne,Ve),l(le.charCodeAt(ce))&&q({},Ne,Ve),{type:_e,value:parseInt("0x"+t,16),start:e,end:ce}}function _(e){for(var t="0"+le[ce++];ce<fe&&o(le[ce]);)t+=le[ce++];return(l(le.charCodeAt(ce))||i(le.charCodeAt(ce)))&&q({},Ne,Ve),{type:_e,value:parseInt(t,8),octal:!0,start:e,end:ce}}function b(){var e,t,n;if(n=le[ce],r(i(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=ce,e="","."!==n){if(e=le[ce++],n=le[ce],"0"===e){if("x"===n||"X"===n)return++ce,y(t);if(o(n))return _(t);n&&i(n.charCodeAt(0))&&q({},Ne,Ve)}for(;i(le.charCodeAt(ce));)e+=le[ce++];n=le[ce]}if("."===n){for(e+=le[ce++];i(le.charCodeAt(ce));)e+=le[ce++];n=le[ce]}if("e"===n||"E"===n)if(e+=le[ce++],n=le[ce],"+"!==n&&"-"!==n||(e+=le[ce++]),i(le.charCodeAt(ce)))for(;i(le.charCodeAt(ce));)e+=le[ce++];else q({},Ne,Ve);return l(le.charCodeAt(ce))&&q({},Ne,Ve),{type:_e,value:parseFloat(e),start:t,end:ce}}function x(){var e,t,n,i,a="",u=!1;for(e=le[ce],r("'"===e||'"'===e,"String literal must starts with a quote"),t=ce,++ce;ce<fe;){if((n=le[ce++])===e){e="";break}if("\\"===n)if((n=le[ce++])&&s(n.charCodeAt(0)))"\r"===n&&"\n"===le[ce]&&++ce;else switch(n){case"u":case"x":"{"===le[ce]?(++ce,a+=h()):a+=d(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:o(n)?(i="01234567".indexOf(n),0!==i&&(u=!0),ce<fe&&o(le[ce])&&(u=!0,i=8*i+"01234567".indexOf(le[ce++]),"0123".indexOf(n)>=0&&ce<fe&&o(le[ce])&&(i=8*i+"01234567".indexOf(le[ce++]))),a+=String.fromCharCode(i)):a+=n}else{if(s(n.charCodeAt(0)))break;a+=n}}return""!==e&&q({},Ne,Ve),{type:xe,value:a,octal:u,start:t,end:ce}}function w(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){if(parseInt(t,16)<=1114111)return"x";q({},Fe)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){q({},Fe)}try{return new RegExp(e,t)}catch(e){return null}}function M(){var e,t,n,i,a;for(e=le[ce],r("/"===e,"Regular expression literal must start with a slash"),t=le[ce++],n=!1,i=!1;ce<fe;)if(e=le[ce++],t+=e,"\\"===e)e=le[ce++],s(e.charCodeAt(0))&&q({},qe),t+=e;else if(s(e.charCodeAt(0)))q({},qe);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||q({},qe),a=t.substr(1,t.length-2),{value:a,literal:t}}function O(){var e,t,n;for(t="",n="";ce<fe&&(e=le[ce],c(e.charCodeAt(0)));)++ce,"\\"===e&&ce<fe?q({},Ne,Ve):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&q({},Fe,n),{value:n,literal:t}}function P(){var e,t,n,r;return de=null,f(),e=ce,t=M(),n=O(),r=w(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ce}}function S(e){return e.type===me||e.type===ge||e.type===pe||e.type===ye}function k(){var e;return f(),ce>=fe?{type:ve,start:ce,end:ce}:(e=le.charCodeAt(ce),l(e)?m():40===e||41===e||59===e?g():39===e||34===e?x():46===e?i(le.charCodeAt(ce+1))?b():g():i(e)?b():g())}function E(){var e;return e=de,ce=e.end,de=k(),ce=e.end,e}function j(){var e;e=ce,de=k(),ce=e}function T(e){var t=new he.default(we);return t.elements=e,t}function C(e,t,n){var r=new he.default("||"===e||"&&"===e?Ee:Me);return r.operator=e,r.left=t,r.right=n,r}function A(e,t){var n=new he.default(Oe);return n.callee=e,n.arguments=t,n}function N(e,t,n){var r=new he.default(Pe);return r.test=e,r.consequent=t,r.alternate=n,r}function R(e){var t=new he.default(Se);return t.name=e,t}function D(e){var t=new he.default(ke);return t.value=e.value,t.raw=le.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function L(e,t,n){var r=new he.default(je);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function I(e){var t=new he.default(Te);return t.properties=e,t}function z(e,t,n){var r=new he.default(Ce);return r.key=t,r.value=n,r.kind=e,r}function F(e,t){var n=new he.default(Ae);return n.operator=e,n.argument=t,n.prefix=!0,n}function q(e,t){var n,i=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,function(e,t){return r(t<i.length,"Message reference must be in range"),i[t]});throw n=new Error(a),n.index=ce,n.description=a,n}function U(e){e.type===ve&&q(e,ze),e.type===_e&&q(e,Re),e.type===xe&&q(e,De),e.type===me&&q(e,Le),e.type===ge&&q(e,Ie),q(e,Ne,e.value)}function B(e){var t=E();t.type===be&&t.value===e||U(t)}function V(e){return de.type===be&&de.value===e}function H(e){return de.type===ge&&de.value===e}function Y(){var e=[];for(ce=de.start,B("[");!V("]");)V(",")?(E(),e.push(null)):(e.push(oe()),V("]")||B(","));return E(),T(e)}function W(){var e;return ce=de.start,e=E(),e.type===xe||e.type===_e?(e.octal&&q(e,Ue),D(e)):R(e.value)}function $(){var e,t,n,r;return ce=de.start,e=de,e.type===me?(n=W(),B(":"),r=oe(),z("init",n,r)):e.type!==ve&&e.type!==be?(t=W(),B(":"),r=oe(),z("init",t,r)):void U(e)}function G(){var e,t,n,r=[],i={},a=String;for(ce=de.start,B("{");!V("}");)e=$(),t=e.key.type===Se?e.key.name:a(e.key.value),n="$"+t,Object.prototype.hasOwnProperty.call(i,n)?q({},Be):i[n]=!0,r.push(e),V("}")||B(",");return B("}"),I(r)}function X(){var e;return B("("),e=ue(),B(")"),e}function J(){var e,t,n;if(V("("))return X();if(V("["))return Y();if(V("{"))return G();if(e=de.type,ce=de.start,e===me||Ge[de.value])n=R(E().value);else if(e===xe||e===_e)de.octal&&q(de,Ue),n=D(E());else{if(e===ge)throw new Error(He);e===pe?(t=E(),t.value="true"===t.value,n=D(t)):e===ye?(t=E(),t.value=null,n=D(t)):V("/")||V("/=")?(n=D(P()),j()):U(E())}return n}function Q(){var e=[];if(B("("),!V(")"))for(;ce<fe&&(e.push(oe()),!V(")"));)B(",");return B(")"),e}function K(){var e;return ce=de.start,e=E(),S(e)||U(e),R(e.value)}function Z(){return B("."),K()}function ee(){var e;return B("["),e=ue(),B("]"),e}function te(){var e,t,n;for(e=J();;)if(V("."))n=Z(),e=L(".",e,n);else if(V("("))t=Q(),e=A(e,t);else{if(!V("["))break;n=ee(),e=L("[",e,n)}return e}function ne(){var e=te();if(de.type===be&&(V("++")||V("--")))throw new Error(He);return e}function re(){var e,t;if(de.type!==be&&de.type!==ge)t=ne();else{if(V("++")||V("--"))throw new Error(He);if(V("+")||V("-")||V("~")||V("!"))e=E(),t=re(),t=F(e.value,t);else{if(H("delete")||H("void")||H("typeof"))throw new Error(He);t=ne()}}return t}function ie(e){var t=0;if(e.type!==be&&e.type!==ge)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ae(){var e,t,n,r,i,a,o,u,s,l;if(e=de,s=re(),r=de,0===(i=ie(r)))return s;for(r.prec=i,E(),t=[e,de],o=re(),a=[s,r,o];(i=ie(de))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,s=a.pop(),t.pop(),n=C(u,s,o),a.push(n);r=E(),r.prec=i,a.push(r),t.push(de),n=re(),a.push(n)}for(l=a.length-1,n=a[l],t.pop();l>1;)t.pop(),n=C(a[l-1].value,a[l-2],n),l-=2;return n}function oe(){var e,t,n;return e=ae(),V("?")&&(E(),t=oe(),B(":"),n=oe(),e=N(e,t,n)),e}function ue(){var e=oe();if(V(","))throw new Error(He);return e}Object.defineProperty(t,"__esModule",{value:!0});var se,le,ce,fe,de,he=n(320),pe=1,ve=2,me=3,ge=4,ye=5,_e=6,be=7,xe=8;se={},se[pe]="Boolean",se[ve]="<end>",se[me]="Identifier",se[ge]="Keyword",se[ye]="Null",se[_e]="Numeric",se[be]="Punctuator",se[xe]="String",se[9]="RegularExpression";var we="ArrayExpression",Me="BinaryExpression",Oe="CallExpression",Pe="ConditionalExpression",Se="Identifier",ke="Literal",Ee="LogicalExpression",je="MemberExpression",Te="ObjectExpression",Ce="Property",Ae="UnaryExpression",Ne="Unexpected token %0",Re="Unexpected number",De="Unexpected string",Le="Unexpected identifier",Ie="Unexpected reserved word",ze="Unexpected end of input",Fe="Invalid regular expression",qe="Invalid regular expression: missing /",Ue="Octal literals are not allowed in strict mode.",Be="Duplicate data property in object literal not allowed in strict mode",Ve="ILLEGAL",He="Disabled.",Ye=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),We=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),$e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},Ge={if:1,this:1};t.default=function(e){le=e,ce=0,fe=le.length,de=null,j();var t=ue();if(de.type!==ve)throw new Error("Unexpect token after expression.");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(803);n.d(t,"force",function(){return r.default})},function(e,t,n){"use strict";function r(e){c.Transform.call(this,null,e)}function i(e,t){return function(){e.touch(t).run()}}function a(e,t){var r=n.i(d.forceSimulation)(e),i=!1,a=r.stop,u=r.restart;return r.stopped=function(){return i},r.restart=function(){return i=!1,u()},r.stop=function(){return i=!0,a()},o(r,t,!0).on("end",function(){i=!0})}function o(e,t,r,i){var a,o,l,c,d=n.i(f.array)(t.forces);for(a=0,o=v.length;a<o;++a)(l=v[a])!==p&&t.modified(l)&&e[l](t[l]);for(a=0,o=d.length;a<o;++a)c=p+a,(l=r||t.modified(p,a)?s(d[a]):i&&u(d[a],i)?e.force(c):null)&&e.force(c,l);for(o=e.numForces||0;a<o;++a)e.force(p+a,null);return e.numForces=d.length,e}function u(e,t){var r,i;for(r in e)if(n.i(f.isFunction)(i=e[r])&&t.modified(n.i(f.accessorFields)(i)))return 1;return 0}function s(e){var t,r;h.hasOwnProperty(e.force)||n.i(f.error)("Unrecognized force: "+e.force),t=h[e.force]();for(r in e)n.i(f.isFunction)(t[r])&&l(t[r],e[r],e);return t}function l(e,t,r){e(n.i(f.isFunction)(t)?function(e){return t(e,r)}:t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var c=n(1),f=n(0),d=n(496),h={center:d.forceCenter,collide:d.forceCollide,nbody:d.forceManyBody,link:d.forceLink,x:d.forceX,y:d.forceY},p="forces",v=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],m=["static","iterations"],g=["x","y","vx","vy"];r.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:g}]};var y=n.i(f.inherits)(r,c.Transform);y.transform=function(e,t){var n=this.value,r=t.changed(t.ADD_REM),u=e.modified(v),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(u||t.changed(t.MOD))&&o(n,e,0,t)):(this.value=n=a(t.source,e),n.on("tick",i(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),u||r||e.modified(m)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation;return this.finish(e,t)},y.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if(n=i[a],n.name===p&&"link"===n.op._argval.force)for(var u,s=n.op._argops,l=0,c=s.length;l<c;++l)if("links"===s[l].name&&(u=s[l].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(g)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(805);n.d(t,"contour",function(){return r.default});var i=n(806);n.d(t,"geojson",function(){return i.default});var a=n(807);n.d(t,"geopath",function(){return a.default});var o=n(808);n.d(t,"geopoint",function(){return o.default});var u=n(809);n.d(t,"geoshape",function(){return u.default});var s=n(810);n.d(t,"graticule",function(){return s.default});var l=n(811);n.d(t,"projection",function(){return l.default})},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e){return function(t){for(var r=n.i(u.extent)(t),i=r[0],a=r[1]-i,o=[],s=1;s<=e;++s)o.push(i+a*s/(e+1));return o}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0),u=n(8),s=n(477),l=["values","size"],c=["x","y","size","cellSize","bandwidth"];r.Definition={type:"Contour",metadata:{generates:!0,source:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"number",default:!1},{name:"thresholds",type:"number",array:!0}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r,o,u,f=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=e.count||10;return e.values?(r=n.i(s.contours)(),o=l,u=e.values):(r=n.i(s.contourDensity)(),o=c,u=t.materialize(t.SOURCE).source),r.thresholds(e.thresholds||(e.nice?d:i(d))),o.forEach(function(t){null!=e[t]&&r[t](e[t])}),this.value&&(f.rem=this.value),this.value=f.source=f.add=r(u).map(a.ingest),f}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(323),a=n(1),o=n(0);r.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){var r,a=this._features,u=this._points,s=e.fields,l=s&&s[0],c=s&&s[1],f=e.geojson,d=t.ADD;r=e.modified()||t.changed(t.REM)||t.modified(n.i(o.accessorFields)(f))||l&&t.modified(n.i(o.accessorFields)(l))||c&&t.modified(n.i(o.accessorFields)(c)),this.value&&!r||(d=t.SOURCE,this._features=a=[],this._points=u=[]),f&&t.visit(d,function(e){a.push(f(e))}),l&&c&&(t.visit(d,function(e){var t=l(e),n=c(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&u.push([t,n])}),a=a.concat({type:i.Feature,geometry:{type:i.MultiPoint,coordinates:u}})),this.value={type:i.FeatureCollection,features:a}}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(133),o=n(0);r.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"as",type:"string",default:"path"}]},n.i(o.inherits)(r,i.Transform).transform=function(e,t){function r(e){e[c]=s(l(e))}var i,u=t.fork(t.ALL),s=this.value,l=e.field||o.identity,c=e.as||"path";return!s||e.modified()?(this.value=s=n.i(a.getProjectionPath)(e.projection).context(null),u.materialize().reflow().visit(u.SOURCE,r)):(s.context(null),i=l===o.identity||t.modified(l.fields),u.visit(i?u.ADD_MOD:u.ADD,r)),u.modifies(c)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){function n(e){var t=i([a(e),o(e)]);t?(e[s]=t[0],e[l]=t[1]):(e[s]=void 0,e[l]=void 0)}var r,i=e.projection,a=e.fields[0],o=e.fields[1],u=e.as||["x","y"],s=u[0],l=u[1];return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,n):(r=t.modified(a.fields)||t.modified(o.fields),t.visit(r?t.ADD_MOD:t.ADD,n)),t.modifies(u)}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e,t){var n=function(n){return e(t(n))};return n.context=function(t){return e.context(t),n},n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(133),u=n(0);r.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"as",type:"string",default:"shape"}]},n.i(u.inherits)(r,a.Transform).transform=function(e,t){var r=t.fork(t.ALL),a=this.value,s=e.field||n.i(u.field)("datum"),l=e.as||"shape",c=r.ADD_MOD;return a&&!e.modified()||(this.value=a=i(n.i(o.getProjectionPath)(e.projection),s),r.materialize().reflow(),c=r.SOURCE),r.visit(c,function(e){e[l]=a}),r.modifies(l)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,[],e),this.generator=n.i(o.geoGraticule)()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n(246);r.Definition={type:"Graticule",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,o=t.fork(),u=this.value,s=this.generator;if(!u.length||e.modified())for(var l in e)n.i(a.isFunction)(s[l])&&s[l](e[l]);return r=s(),u.length?o.mod.push(n.i(i.replace)(u[0],r)):o.add.push(n.i(i.ingest)(r)),u[0]=r,o.source=u,o}},function(e,t,n){"use strict";function r(e){l.Transform.call(this,null,e),this.modified(!0)}function i(e,t){var n=u(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function a(e){var t=n.i(c.projection)((e||"mercator").toLowerCase());return t||n.i(f.error)("Unrecognized projection type: "+e),t()}function o(e,t,r){n.i(f.isFunction)(e[t])&&e[t](r)}function u(e){return e=n.i(f.array)(e),1===e.length?e[0]:{type:s.FeatureCollection,features:e.reduce(function(e,t){return t&&t.type===s.FeatureCollection?e.push.apply(e,t.features):n.i(f.isArray)(t)?e.push.apply(e,t):e.push(t),e},[])}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.collectGeoJSON=u;var s=n(323),l=n(1),c=n(133),f=n(0);n.i(f.inherits)(r,l.Transform).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=a(e.type),c.projectionProperties.forEach(function(t){null!=e[t]&&o(n,t,e[t])})):c.projectionProperties.forEach(function(t){e.modified(t)&&o(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&i(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(813);n.d(t,"nest",function(){return r.default});var i=n(814);n.d(t,"pack",function(){return i.default});var a=n(815);n.d(t,"partition",function(){return a.default});var o=n(816);n.d(t,"stratify",function(){return o.default});var u=n(817);n.d(t,"tree",function(){return u.default});var s=n(818);n.d(t,"treelinks",function(){return s.default});var l=n(819);n.d(t,"treemap",function(){return l.default})},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e){return e.values}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0),u=n(71),s=n(68);r.Definition={type:"Nest",metadata:{treesource:!0,source:!0,generates:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"key",type:"field"},{name:"generate",type:"boolean"}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){t.source||n.i(o.error)("Nest transform requires an upstream data source.");var r,l,c,f=e.key||a.tupleid,d=e.generate,h=e.modified(),p=d||h?t.fork(t.ALL):t;return(!this.value||h||t.changed())&&(d&&this.value&&(p.materialize(p.REM),this.value.each(function(e){e.children&&p.rem.push(e)})),r=n.i(o.array)(e.keys).reduce(function(e,t){return e.key(t),e},n.i(u.nest)()).entries(t.source),this.value=l=n.i(s.hierarchy)({values:r},i),d&&(p.materialize(p.ADD),p.source=p.source.slice(),l.each(function(e){e.children&&(e=n.i(a.ingest)(e.data),p.add.push(e),p.source.push(e))})),c=l.lookup={},l.each(function(e){null!=n.i(a.tupleid)(e.data)&&(c[f(e.data)]=e)})),p.source.root=this.value,p}},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(116),a=n(0),o=n(68),u=["x","y","r","depth","children"];r.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:3,default:u}]};var s=n.i(a.inherits)(r,i.default);s.layout=o.pack,s.params=["size","padding"],s.fields=u},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(116),a=n(0),o=n(68),u=["x0","y0","x1","y1","depth","children"];r.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:u}]};var s=n.i(a.inherits)(r,i.default);s.layout=o.partition,s.params=["size","round","padding"],s.fields=u},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n(68);r.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){t.source||n.i(a.error)("Stratify transform requires an upstream data source.");var r,i,u=e.modified();return(!this.value||u||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields))&&(r=n.i(o.stratify)().id(e.key).parentId(e.parentKey)(t.source),i=r.lookup={},r.each(function(t){i[e.key(t.data)]=t}),this.value=r),t.source.root=this.value,u?t.fork(t.ALL):t}},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(116),a=n(0),o=n(68),u={tidy:o.tree,cluster:o.cluster},s=["x","y","depth","children"];r.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:s}]};var l=n.i(a.inherits)(r,i.default);l.layout=function(e){var t=e||"tidy";if(u.hasOwnProperty(t))return u[t]();n.i(a.error)("Unrecognized Tree layout method: "+t)},l.params=["size","nodeSize","separation"],l.fields=s},function(e,t,n){"use strict";function r(e){a.Transform.call(this,{},e)}function i(e){var t;return e.parent&&(t=e.parent.data)&&null!=n.i(a.tupleid)(t)&&t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);r.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[{name:"key",type:"field"}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){function r(e){var t=l[e];t&&(f[e]=1,d.mod.push(t))}t.source&&t.source.root||n.i(o.error)("TreeLinks transform requires a backing tree data source.");var u=t.source.root,s=u.lookup,l=this.value,c=e.key||a.tupleid,f={},d=t.fork();return t.visit(t.REM,function(e){var t=c(e),n=l[t];n&&(delete l[t],d.rem.push(n))}),t.visit(t.ADD,function(e){var t,r=c(e);(t=i(s[r]))&&(d.add.push(l[r]=n.i(a.ingest)({source:t,target:e})),f[r]=1)}),t.visit(t.MOD,function(e){var t=c(e),n=s[t],i=n.children;if(r(t),i)for(var a=0,o=i.length;a<o;++a)f[t=c(i[a].data)]||r(t)}),d}},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(116),a=n(0),o=n(68),u={binary:o.treemapBinary,dice:o.treemapDice,slice:o.treemapSlice,slicedice:o.treemapSliceDice,squarify:o.treemapSquarify,resquarify:o.treemapResquarify},s=["x0","y0","x1","y1","depth","children"];r.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:s}]};var l=n.i(a.inherits)(r,i.default);l.layout=function(){var e=n.i(o.treemap)();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){u.hasOwnProperty(t)?e.tile(u[t]):n.i(a.error)("Unrecognized Treemap layout method: "+t)},e},l.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],l.fields=s},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.0.3",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/index.js",types:"typings/vega-lite.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/test-gallery",build:"npm run build:only","build:only":"npm run tsc && cp package.json build && browserify src/index.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"node node_modules/uglify-js/bin/uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run data && npm run build:only && npm run build:examples-only","build:examples-only":"npm run build:example && npm run build:examples-normalized","build:examples-normalized":"rm -f examples/specs/normalized/*.vl.json && scripts/build-normalized-examples","build:example":"TZ=America/Los_Angeles scripts/build-examples.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts)' -delete && rm -f examples/compiled/*.png && find site/examples ! -name 'index.md' -type f -exec rm -f {} +",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"ts-json-schema-generator --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run prebuild && npm run data && npm run build:site && npm run build:toc && npm run build:versions && scripts/create-example-pages",site:"bundle exec jekyll serve --incremental",lint:"tslint -p .",test:"npm run build:only && npm run test:only && npm run test:runtime && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run test:runtime && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:runtime":"TZ=America/Los_Angeles wdio wdio.conf.js","test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/index.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.0.6","@types/d3":"^4.12.0","@types/highlight.js":"^9.12.2","@types/json-stable-stringify":"^1.0.32","@types/mkdirp":"^0.5.1","@types/mocha":"^2.2.44","@types/node":"^8.0.53","@types/webdriverio":"^4.8.6",ajv:"^5.5.0","browser-sync":"^2.18.13",browserify:"^14.5.0","browserify-shim":"^3.8.14",chai:"^4.1.2",cheerio:"^1.0.0-rc.2",chromedriver:"^2.33.2",codecov:"^3.0.0",d3:"^4.12.0",exorcist:"^1.0.0","highlight.js":"^9.12.0",mkdirp:"^0.5.1",mocha:"^4.0.1",nodemon:"^1.12.1",nyc:"^11.3.0","source-map-support":"^0.5.0","svg2png-many":"^0.0.7","ts-json-schema-generator":"^0.16.0","ts-node":"^3.3.0",tsify:"^3.0.3",tslint:"5.4.3","tslint-eslint-rules":"^4.1.1",typescript:"^2.6.2","uglify-js":"^3.2.0",vega:"^3.0.8","vega-datasets":"^1.11.0","vega-embed":"^3.0.0-rc7","vega-tooltip":"^0.4.4",watchify:"^3.9.0","wdio-chromedriver-service":"^0.1.1","wdio-dot-reporter":"0.0.9","wdio-mocha-framework":"^0.5.11","wdio-static-server-service":"^1.0.1",webdriverio:"^4.9.11","yaml-front-matter":"^3.4.0"},dependencies:{"json-stable-stringify":"^1.0.1",tslib:"^1.8.0","vega-event-selector":"^2.0.0","vega-util":"^1.6.2",yargs:"^10.0.3"}}},function(e,t,n){"use strict";function r(e){return function(t,n){return n[e]&&t.push(n[e].combine()),t}}function i(e){return[].concat(e.x?[].concat(e.x.reduce(a,[]),e.x.reduce(o,[])):[],e.y?[].concat(e.y.reduce(a,[]),e.y.reduce(o,[])):[])}Object.defineProperty(t,"__esModule",{value:!0});var a=r("main"),o=r("grid");t.assembleAxes=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Split);t.AxisComponentPart=a},function(e,t,n){"use strict";function r(e,t,n,r){var u=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),c=e.axis(t),p=e.config,v={};if(s.isTimeFieldDef(u)){var m=e.getScaleComponent(t).get("type")===l.ScaleType.UTC;v.text={signal:d.timeFormatExpression("datum.value",u.timeUnit,c.format,p.axis.shortTimeLabels,p.timeFormat,m)}}var g=h.getAxisConfig("labelAngle",e.config,t,r,e.getScaleComponent(t).get("type"));if(void 0===g&&(g=i(c,t,u))&&(v.angle={value:g}),void 0!==g&&"x"===t){var y=a(g,r);y&&(v.align={value:y}),f.contains([90,270],g)&&(v.baseline={value:"middle"})}return v=o({},v,n),0===f.keys(v).length?void 0:v}function i(e,t,n){return void 0!==e.labelAngle?(e.labelAngle%360+360)%360:t===u.X&&f.contains([c.NOMINAL,c.ORDINAL],n.type)?270:void 0}function a(e,t){if(e>0){if(e%360>180)return"top"===t?"left":"right";if(e%360<180)return"top"===t?"right":"left"}else if(e<0)return a(e%360+360,t)}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),s=n(7),l=n(10),c=n(40),f=n(2),d=n(18),h=n(325);t.labels=r,t.labelAngle=i,t.labelAlign=a},function(e,t,n){"use strict";function r(e,t,n,r){return!n&&t[e]}function i(e,t){return!_.hasDiscreteDomain(e)&&!t.bin}function a(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function o(e,t,n,r){if(!r)return void 0!==n.labelFlush?n.labelFlush:!("x"!==t||!x.contains(["quantitative","temporal"],e.type))||void 0}function u(e,t,n,r){return void 0!==t.labelOverlap?t.labelOverlap:"nominal"!==e.type?"log"!==r||"greedy":void 0}function s(e,t){return t?0:e}function l(e){switch(e){case v.X:return"bottom";case v.Y:return"left"}throw new Error(y.message.INVALID_CHANNEL_FOR_AXIS)}function c(e,t,n,r){if(!_.hasDiscreteDomain(n)&&"log"!==n&&!x.contains(["month","hours","day","quarter"],t.timeUnit))return t.bin?{signal:"ceil("+r.signal+"/20)"}:{signal:"ceil("+r.signal+"/40)"}}function f(e,t,n){var r=g.title(t,n);return e?x.truncate(r,e):r}function d(e,t,n){var r=e.values;if(e.values&&m.isDateTime(r[0]))return r.map(function(e){return{signal:m.dateTimeExpr(e,!0)}});if(!r&&n.bin&&n.type===b.QUANTITATIVE){var i=t.getName(p.binToString(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+i+".start, "+i+".stop + "+i+".step, "+i+".step)"}}return r}function h(e){return e?0:1}Object.defineProperty(t,"__esModule",{value:!0});var p=n(87),v=n(6),m=n(56),g=n(7),y=n(3),_=n(10),b=n(40),x=n(2);t.domainAndTicks=r,t.domain=r,t.ticks=r,t.grid=i,t.gridScale=a,t.labelFlush=o,t.labelOverlap=u,t.minMaxExtent=s,t.orient=l,t.tickCount=c,t.title=f,t.values=d,t.zindex=h},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t={}),t.logger&&l.set(t.logger),t.fieldTitle&&s.setTitleFormatter(t.fieldTitle);try{var n=u.initConfig(d.mergeDeep({},t.config,e.config)),r=c.normalize(e,n),o=f.normalizeAutoSize(e.autosize,n.autosize,c.isLayerSpec(r)||c.isUnitSpec(r)),p=h.buildModel(r,null,"",void 0,void 0,n,"fit"===o.type);return p.parse(),v.optimizeDataflow(p.component.data),a(p,i(e,n,o))}finally{t.logger&&l.reset(),t.fieldTitle&&s.resetTitleFormatter()}}function i(e,t,n){return o({autosize:1===d.keys(n).length&&n.type?n.type:n},f.extractTopLevelProperties(t),f.extractTopLevelProperties(e))}function a(e,t){var n=e.config?u.stripAndRedirectConfig(e.config):void 0,r=e.assembleTitle(),i=e.assembleGroupStyle(),a=e.assembleLayoutSignals();return a=a.filter(function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)}),{spec:o({$schema:"https://vega.github.io/schema/vega/v3.0.json"},e.description?{description:e.description}:{},t,r?{title:r}:{},i?{style:i}:{},{data:[].concat(e.assembleSelectionData([]),p.assembleRootData(e.component.data))},e.assembleGroup(a.concat(e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{})}}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(343),s=n(7),l=n(3),c=n(90),f=n(860),d=n(2),h=n(117),p=n(328),v=n(334);t.compile=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=n(90),u=n(327),s=n(117),l=n(88),c=function(e){function t(t,n,r,i,u){var l=e.call(this,t,n,r,u,t.resolve)||this;return l.type="concat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&a.warn(a.message.CONCAT_CANNOT_SHARE_AXIS),l.isVConcat=o.isVConcatSpec(t),l.children=(o.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return s.buildModel(e,l,l.getName("concat_"+t),void 0,i,u,!1)}),l}return r(t,e),t.prototype.parseLayoutSize=function(){l.parseConcatLayoutSize(this)},t.prototype.parseAxisGroup=function(){return null},t.prototype.assembleLayout=function(){return i({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"each"})},t}(u.BaseConcatModel);t.ConcatModel=c},function(e,t,n){"use strict";function r(e){function t(n){if(!(n instanceof f.SourceNode)){var r=n.parent;e(n)&&t(r)}}return t}function i(e){var t=e.parent;if(e instanceof c.ParseNode){if(t instanceof f.SourceNode)return!1;if(t.numChildren()>1)return!0;if(t instanceof c.ParseNode)t.merge(e);else{if(s.hasIntersection(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function a(e){return!(e instanceof l.OutputNode||e.numChildren()>0)&&(e.remove(),!0)}function o(e){var t={};return r(function(e){if(e instanceof d.TimeUnitNode){var n=e.producedFields();s.keys(n).every(function(e){return!!t[e]})?e.remove():t=u({},t,n)}return!0})(e)}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(14),c=n(199),f=n(119),d=n(120);t.iterateFromLeaves=r,t.moveParseUp=i,t.removeUnusedSubtrees=a,t.removeDuplicateTimeUnits=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(24),u=n(7),s=n(3),l=n(10),c=n(2),f=n(28),d=n(117),h=n(328),p=n(118),v=n(335),m=n(88),g=n(15),y=n(338),_=n(122),b=n(89),x=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;o.type="facet",o.child=d.buildModel(t.spec,o,o.getName("child"),void 0,i,a,!1),o.children=[o.child];var u=y.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(u),o}return r(t,e),t.prototype.initFacet=function(e){return o.reduce(e,function(e,t,n){return c.contains([a.ROW,a.COLUMN],n)?void 0===t.field?(s.warn(s.message.emptyFieldDef(t,n)),e):(e[n]=u.normalize(t,n),e):(s.warn(s.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=p.parseData(this),this.child.parseData()},t.prototype.parseLayoutSize=function(){m.parseChildrenLayoutSize(this)},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:u.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,facetFieldDef:t,header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.component.layoutSize.get(n)?this.child.getSizeSignalRef(n):void 0,axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]){var n=this.component,r=n.layoutHeaders,i=n.resolve;if(i.axis[e]=_.parseGuideResolve(i,e),"shared"===i.axis[e])for(var a="x"===e?"column":"row",o=r[a],u=0,s=t.component.axes[e];u<s.length;u++){var l=s[u],c=l.main,f=v.getHeaderType(c.get("orient"));o[f]=o[f]||[this.makeHeaderComponent(a,!1)],o[f][0].axes.push(c.combine()),delete l.main}}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.getLayoutBandMixins=function(e){for(var t={},n="header"===e?"headerBand":"footerBand",r=0,i=["row","column"];r<i.length;r++){var a=i[r],o=this.component.layoutHeaders[a],u=o[e];if(u&&u[0]){var s="row"===a?"height":"width";this.child.component.layoutSize.get(s)||(t[n]=t[n]||{},t[n][a]=.5)}}return t},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?this.columnDistinctSignal():1;return i({padding:{row:10,column:10}},this.getLayoutBandMixins("header"),this.getLayoutBandMixins("footer"),{offset:10,columns:e,bounds:"full",align:"all"})},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof t)){return{signal:"length(data('"+this.getName("column_domain")+"'))"}}},t.prototype.assembleGroup=function(n){return this.parent&&this.parent instanceof t?i({},this.channelHasField("column")?{encode:{update:{columns:{field:u.field(this.facet.column,{prefix:"distinct"})}}}}:{},e.prototype.assembleGroup.call(this,n)):e.prototype.assembleGroup.call(this,n)},t.prototype.getCardinalityAggregateForChild=function(){var e=[],n=[];if(this.child instanceof t)this.child.channelHasField("column")&&(e.push(u.field(this.child.facet.column)),n.push("distinct"));else for(var r=0,i=["x","y"];r<i.length;r++){var a=i[r],o=this.child.component.scales[a];if(o&&!o.merged){var c=o.get("type"),d=o.get("range");if(l.hasDiscreteDomain(c)&&f.isVgRangeStep(d)){var h=b.assembleDomain(this.child,a),p=b.getFieldFromDomain(h);p?(e.push(p),n.push("distinct")):s.warn("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e.length?{fields:e,ops:n}:void 0},t.prototype.assembleMarks=function(){var e=this,t=e.child,n=e.facet,r=this.component.data.facetRoot,o=h.assembleFacetData(r),u=this.channelHasField(a.ROW),s=this.channelHasField(a.COLUMN),l=t.assembleLayoutSize(),c={};u&&s&&(c.aggregate={cross:!0});var f=this.getCardinalityAggregateForChild();f&&(c.aggregate=i({},c.aggregate,f));var d=t.assembleTitle(),p=t.assembleGroupStyle();return[i({name:this.getName("cell"),type:"group"},d?{title:d}:{},p?{style:p}:{},{from:{facet:i({name:r.name,data:r.data,groupby:[].concat(u?[this.field(a.ROW)]:[],s?[this.field(a.COLUMN)]:[])},c)},sort:{field:[].concat(u?[this.field(a.ROW,{expr:"datum"})]:[],s?[this.field(a.COLUMN,{expr:"datum"})]:[]),order:[].concat(u?[n.row.sort||"ascending"]:[],s?[n.column.sort||"ascending"]:[])}},o.length>0?{data:o}:{},l?{encode:{update:l}}:{},t.assembleGroup())]},t.prototype.getMapping=function(){return this.facet},t}(g.ModelWithField);t.FacetModel=x},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=n(90),u=n(2),s=n(326),l=n(118),c=n(121),f=n(88),d=n(336),h=n(15),p=n(16),v=n(342),m=function(e){function t(n,r,u,s,l,c,f){var d=e.call(this,n,r,u,c,n.resolve)||this;d.type="layer";var h=i({},s,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return d.initSize(h),d.children=n.layer.map(function(e,n){if(o.isLayerSpec(e))return new t(e,d,d.getName("layer_"+n),h,l,c,f);if(o.isUnitSpec(e))return new v.UnitModel(e,d,d.getName("layer_"+n),h,l,c,f);throw new Error(a.message.INVALID_SPEC)}),d}return r(t,e),t.prototype.parseData=function(){this.component.data=l.parseData(this);for(var e=0,t=this.children;e<t.length;e++){t[e].parseData()}},t.prototype.parseLayoutSize=function(){f.parseLayerLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=0,n=this.children;t<n.length;t++){var r=n[t];!function(t){t.parseSelection(),u.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})}(r)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){s.parseLayerAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},c.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleTitle=function(){var t=e.prototype.assembleTitle.call(this);if(t)return t;for(var n=0,r=this.children;n<r.length;n++){if(t=r[n].assembleTitle())return t}},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return p.assembleLayerSelectionMarks(this,u.flatten(this.children.map(function(e){return e.assembleMarks()})))},t.prototype.assembleLegends=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLegends())},d.assembleLegends(this))},t}(h.Model);t.LayerModel=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Split);t.LegendComponent=a},function(e,t,n){"use strict";function r(e,t,n,r,i){if("gradient"!==i){var a={},s=n.mark();switch(s){case f.BAR:case f.TICK:case f.TEXT:a.shape={value:"square"};break;case f.CIRCLE:case f.SQUARE:a.shape={value:s};break;case f.POINT:case f.LINE:case f.AREA:}var d=n.markDef.filled,m=r===l.COLOR?h.without(f.FILL_STROKE_CONFIG,[d?"fill":"stroke","strokeDash","strokeDashOffset"]):f.FILL_STROKE_CONFIG;if(m=h.without(m,["strokeDash","strokeDashOffset"]),p.applyMarkConfig(a,n,m),r!==l.COLOR){var g=v.color(n);g.fill&&(g.fill.field||"transparent"===g.fill.value)&&delete g.fill,g.stroke&&(g.stroke.field||"transparent"===g.stroke.value)&&delete g.stroke,a=u({},a,g)}if(r!==l.SHAPE){var y=n.encoding.shape;c.isValueDef(y)&&(a.shape={value:y.value})}if(r!==l.OPACITY){var _=o(n.encoding.opacity);_&&(a.opacity={value:_})}return a=u({},a,t),h.keys(a).length>0?a:void 0}}function i(e,t,n,r,i){var a={};if("gradient"===i){var s=o(n.encoding.opacity);s&&(a.opacity={value:s})}return a=u({},a,t),h.keys(a).length>0?a:void 0}function a(e,t,n,r,i){var a=n.legend(r),o=n.config,s={};if(c.isTimeFieldDef(e)){var l=n.getScaleComponent(r).get("type")===d.ScaleType.UTC;t=u({text:{signal:p.timeFormatExpression("datum.value",e.timeUnit,a.format,o.legend.shortTimeLabels,o.timeFormat,l)}},t)}return s=u({},s,t),h.keys(s).length>0?s:void 0}function o(e){if(c.isValueDef(e)){if(c.hasConditionalValueDef(e)){var t=s.isArray(e.condition)?e.condition.map(function(e){return e.value}):[e.condition.value];return Math.max.apply(null,[e.value].concat(t))}return e.value}}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=n(6),c=n(7),f=n(25),d=n(10),h=n(2),p=n(18),v=n(39);t.symbols=r,t.gradient=i,t.labels=a},function(e,t,n){"use strict";function r(e){var t=e.values;return t&&o.isDateTime(t[0])?t.map(function(e){return{signal:o.dateTimeExpr(e,!0)}}):t}function i(e,t,n){if(t===a.COLOR&&("quantitative"===e&&!u.isBinScale(n)||"temporal"===e&&s.contains(["time","utc"],n)))return"gradient"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(56),u=n(10),s=n(2);t.values=r,t.type=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39);t.area={vgMark:"area",encodeEntry:function(e){return r({},i.markDefProperties(e.markDef),i.pointPosition("x",e,"zeroOrMin"),i.pointPosition("y",e,"zeroOrMin"),i.pointPosition2(e,"zeroOrMin"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e))}}},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,i=e.markDef.orient,u=e.encoding.size,c=e.encoding.x,d=e.scaleName(s.X),v=e.getScaleComponent(s.X);if("horizontal"===i)return o({},h.pointPosition("x",e,"zeroOrMin"),h.pointPosition2(e,"zeroOrMin"));if(l.isFieldDef(c)){var m=v.get("type");if(c.bin&&!u&&!f.hasDiscreteDomain(m))return h.binnedPosition(c,"x",e.scaleName("x"),n.bar.binSpacing,v.get("reverse"));if(m===f.ScaleType.BAND)return h.bandPosition(c,"x",e)}return h.centeredBandPosition("x",e,o({},p.mid(r)),a(d,v,n))}function i(e,t){var n=e.config,r=e.encoding,i=e.height,u=e.markDef.orient,c=r.size,d=r.y,v=e.scaleName(s.Y),m=e.getScaleComponent(s.Y);if("vertical"===u)return o({},h.pointPosition("y",e,"zeroOrMin"),h.pointPosition2(e,"zeroOrMin"));if(l.isFieldDef(d)){var g=m.get("type");if(d.bin&&!c&&!f.hasDiscreteDomain(g))return h.binnedPosition(d,"y",e.scaleName("y"),n.bar.binSpacing,m.get("reverse"));if(g===f.ScaleType.BAND)return h.bandPosition(d,"y",e)}return h.centeredBandPosition("y",e,p.mid(i),a(v,m,n))}function a(e,t,n){if(n.bar.discreteBandSize)return{value:n.bar.discreteBandSize};if(t){var r=t.get("type");if(r!==f.ScaleType.POINT)return r===f.ScaleType.BAND?p.band(e):{value:n.bar.continuousBandSize};var i=t.get("range");if(d.isVgRangeStep(i)&&u.isNumber(i.step))return{value:i.step-1};c.warn(c.message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return n.scale.rangeStep&&null!==n.scale.rangeStep?{value:n.scale.rangeStep-1}:{value:20}}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=n(6),l=n(7),c=n(3),f=n(10),d=n(28),h=n(39),p=n(54);t.bar={vgMark:"rect",encodeEntry:function(e){var t=e.stack;return o({},h.markDefProperties(e.markDef,!0),r(e,t),i(e,t),h.color(e),h.text(e,"tooltip"),h.nonPosition("opacity",e))}}},function(e,t,n){"use strict";function r(e,t,n){var r=d.isMarkDef(e)?s({},e):{type:e},i=r.orient||v.getMarkConfig("orient",r,n);return r.orient=u(r.type,t,i),void 0!==i&&i!==r.orient&&f.warn(f.message.orientOverridden(r.orient,i)),void 0===r.filled&&(r.filled=o(r,n)),r}function i(e,t,n,r){var i=v.getMarkConfig("opacity",e,r);if(!t.opacity&&void 0===i){var o=a(e.type,t,n);void 0!==o&&(t.opacity={value:o})}return t}function a(e,t,n){if(p.contains([d.POINT,d.TICK,d.CIRCLE,d.SQUARE],e)&&!l.isAggregate(t))return.7}function o(e,t){var n=v.getMarkConfig("filled",e,t),r=e.type;return void 0!==n?n:r!==d.POINT&&r!==d.LINE&&r!==d.RULE}function u(e,t,n){switch(e){case d.POINT:case d.CIRCLE:case d.SQUARE:case d.TEXT:case d.RECT:return}var r=t.y2,i=t.x2;switch(e){case d.RULE:case d.BAR:case d.AREA:if(r)return"vertical";if(i)return"horizontal";if(e===d.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case d.LINE:case d.TICK:var a=c.isFieldDef(t.x)&&c.isContinuous(t.x),o=c.isFieldDef(t.y)&&c.isContinuous(t.y);if(a&&!o)return"tick"!==e?"horizontal":"vertical";if(!a&&o)return"tick"!==e?"vertical":"horizontal";if(a&&o){var u=t.x,s=t.y,l=u.type===h.TEMPORAL,p=s.type===h.TEMPORAL;return l&&!p?"tick"!==e?"vertical":"horizontal":!l&&p?"tick"!==e?"horizontal":"vertical":!u.aggregate&&s.aggregate?"tick"!==e?"vertical":"horizontal":u.aggregate&&!s.aggregate?"tick"!==e?"horizontal":"vertical":n||(e===d.LINE&&t.order||f.warn(f.message.unclearOrientContinuous(e)),"vertical")}return void f.warn(f.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}var s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(24),c=n(7),f=n(3),d=n(25),h=n(40),p=n(2),v=n(18);t.normalizeMarkDef=r,t.initEncoding=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),a=n(54);t.line={vgMark:"line",encodeEntry:function(e){var t=e.width,n=e.height;return r({},i.markDefProperties(e.markDef,!0),i.pointPosition("x",e,a.mid(t)),i.pointPosition("y",e,a.mid(n)),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"}))}}},function(e,t,n){"use strict";function r(e){return g.contains([v.LINE,v.AREA],e.mark())?i(e):o(e)}function i(e){var t=e.mark(),n=u(e),r=void 0!==e.markDef.clip?!!e.markDef.clip:s(e),i=y.getStyles(e.markDef),o=a(e),c=[l({name:e.getName("marks"),type:k[t].vgMark},r?{clip:!0}:{},i?{style:i}:{},o?{sort:o}:{},{from:{data:(n.length>0?E:"")+e.requestDataName(d.MAIN)},encode:{update:k[t].encodeEntry(e)}})];return n.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:E+e.requestDataName(d.MAIN),data:e.requestDataName(d.MAIN),groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:c}]:c}function a(e){if("line"===e.mark()&&e.channelHasField("order"))return y.sortParams(e.encoding.order,{expr:"datum"});var t="horizontal"===e.markDef.orient?"y":"x",n=e.sort(t),r=m.isSortField(n)?p.field({aggregate:h.isAggregate(e.encoding)?n.op:void 0,field:n.field},{expr:"datum"}):e.field(t,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"});return r?{field:r,order:"descending"}:void 0}function o(e){var t=e.mark(),n=y.getStyles(e.markDef),r=void 0!==e.markDef.clip?!!e.markDef.clip:s(e),i=[];return i.push(l({name:e.getName("marks"),type:k[t].vgMark},r?{clip:!0}:{},n?{style:n}:{},{from:{data:e.requestDataName(d.MAIN)},encode:{update:k[t].encodeEntry(e)}})),i}function u(e){return f.NONPOSITION_CHANNELS.reduce(function(t,n){var r=e.encoding;if("order"===n)return t;if("detail"===n){var i=r[n];i&&(c.isArray(i)?i:[i]).forEach(function(e){e.aggregate||t.push(p.field(e,{}))})}else{var a=p.getFieldDef(r[n]);a&&!a.aggregate&&t.push(p.field(a,{}))}return t},[])}function s(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),f=n(6),d=n(55),h=n(24),p=n(7),v=n(25),m=n(126),g=n(2),y=n(18),_=n(833),b=n(834),x=n(836),w=n(838),M=n(839),O=n(840),P=n(841),S=n(842),k={area:_.area,bar:b.bar,line:x.line,point:w.point,text:P.text,tick:S.tick,rect:M.rect,rule:O.rule,circle:w.circle,square:w.square};t.parseMarkGroup=r;var E="faceted_path_";t.getPathSort=a},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,o=e.height;return a({},u.markDefProperties(e.markDef,!0),u.pointPosition("x",e,s.mid(r)),u.pointPosition("y",e,s.mid(o)),u.color(e),u.text(e,"tooltip"),u.nonPosition("size",e),i(e,n,t),u.nonPosition("opacity",e))}function i(e,t,n){return n?{shape:{value:n}}:u.nonPosition("shape",e,{defaultValue:o.getMarkConfig("shape",e.markDef,t)})}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),u=n(39),s=n(54);t.shapeMixins=i,t.point={vgMark:"symbol",encodeEntry:function(e){return r(e)}},t.circle={vgMark:"symbol",encodeEntry:function(e){return r(e,"circle")}},t.square={vgMark:"symbol",encodeEntry:function(e){return r(e,"square")}}},function(e,t,n){"use strict";function r(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(o.X),i=r?r.get("type"):void 0;if(u.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"x",e.scaleName("x"),0,r.get("reverse"));if(u.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"x",e);throw new Error(s.message.scaleTypeNotWorkWithMark(l.RECT,i))}return a({},f.pointPosition("x",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","x2"))}function i(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(o.Y),i=r?r.get("type"):void 0;if(u.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"y",e.scaleName("y"),0,r.get("reverse"));if(u.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"y",e);throw new Error(s.message.scaleTypeNotWorkWithMark(l.RECT,i))}return a({},f.pointPosition("y",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","y2"))}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=n(7),s=n(3),l=n(25),c=n(10),f=n(39);t.rect={vgMark:"rect",encodeEntry:function(e){return a({},f.markDefProperties(e.markDef,!0),r(e),i(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e))}}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),a=n(54);t.rule={vgMark:"rule",encodeEntry:function(e){var t=(e.config,e.markDef),n=e.width,o=e.height,u=t.orient;return e.encoding.x||e.encoding.y?r({},i.markDefProperties(e.markDef,!0),i.pointPosition("x",e,"horizontal"===u?"zeroOrMin":a.mid(n)),i.pointPosition("y",e,"vertical"===u?"zeroOrMin":a.mid(o)),i.pointPosition2(e,"zeroOrMax"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"})):{}}}},function(e,t,n){"use strict";function r(e,t){return s.isFieldDef(t)&&t.type===l.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function i(e,t,n){if(void 0===(e.align||c.getMarkConfig("align",e,n)))return u.channelHasField(t,o.X)?"center":"right"}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=n(24),s=n(7),l=n(40),c=n(18),f=n(39),d=n(54);t.text={vgMark:"text",encodeEntry:function(e){var t=e.config,n=e.encoding,o=e.height,u=n.text;return a({},f.markDefProperties(e.markDef,!0),f.pointPosition("x",e,r(t,u)),f.pointPosition("y",e,d.mid(o)),f.text(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e),f.nonPosition("size",e,{vgChannel:"fontSize"}),f.valueIfDefined("align",i(e.markDef,n,t)))}}},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.orient,r=e.getScaleComponent("horizontal"===n?"x":"y");if(void 0!==t.tick.bandSize)return t.tick.bandSize;var i=r?r.get("range"):void 0,o=i&&a.isVgRangeStep(i)?i.step:t.scale.rangeStep;if("number"!=typeof o)throw new Error("Function does not handle non-numeric rangeStep");return o/1.5}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=n(39),u=n(54);t.tick={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,a=e.width,s=e.height,l=n.orient,c="horizontal"===l?"width":"height",f="horizontal"===l?"height":"width";return i({},o.markDefProperties(e.markDef,!0),o.pointPosition("x",e,u.mid(a),"xc"),o.pointPosition("y",e,u.mid(s),"yc"),o.nonPosition("size",e,{defaultValue:r(e),vgChannel:c}),(d={},d[f]={value:t.tick.thickness},d),o.color(e),o.nonPosition("opacity",e));var d}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(327),o=n(117),u=n(88),s=function(e){function t(t,n,r,a,o){var u=e.call(this,t,n,r,o,t.resolve)||this;return u.type="repeat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&i.warn(i.message.REPEAT_CANNOT_SHARE_AXIS),u.repeat=t.repeat,u.children=u._initChildren(t,u.repeat,a,o),u}return r(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],a=t.row||[n?n.row:null],u=t.column||[n?n.column:null],s=0,l=a;s<l.length;s++)for(var c=l[s],f=0,d=u;f<d.length;f++){var h=d[f],p=(c?"_"+c:"")+(h?"_"+h:""),v={row:c,column:h};i.push(o.buildModel(e.spec,this,this.getName("child"+p),void 0,v,r,!1))}return i},t.prototype.parseLayoutSize=function(){u.parseRepeatLayoutSize(this)},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t}(a.BaseConcatModel);t.RepeatModel=s},function(e,t,n){"use strict";function r(e){return f.isLayerModel(e)||f.isConcatModel(e)||f.isRepeatModel(e)?e.children.reduce(function(e,t){return e.concat(r(t))},i(e)):i(e)}function i(e){return l.keys(e.component.scales).reduce(function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),s=i.domainRaw,l=i.range,c=i.name,f=i.type,p=(i.domainRaw,i.range,u(i,["name","type","domainRaw","range"]));return l=a(l,c,e,n),s&&d.isRawSelectionDomain(s)&&(s=d.selectionScaleDomain(e,s)),t.push(o({name:c,type:f,domain:h.assembleDomain(e,n)},s?{domainRaw:s}:{},{range:l},p)),t},[])}function a(e,t,n,r){if("x"===r||"y"===r){if(c.isVgRangeStep(e))return{step:{signal:t+"_step"}};if(s.isArray(e)&&2===e.length){var i=e[0],a=e[1];if(0===i&&c.isVgSignalRef(a))return[0,{signal:n.getSizeName(a.signal)}];if(c.isVgSignalRef(i)&&0===a)return[{signal:n.getSizeName(i.signal)},0]}}return e}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=n(2),c=n(28),f=n(15),d=n(16),h=n(89);t.assembleScales=r,t.assembleScalesForModel=i,t.assembleScaleRange=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.domains=[],r.setWithExplicit("type",n),r}return r(t,e),t}(i.Split);t.ScaleComponent=a},function(e,t,n){"use strict";function r(e){i(e),v.parseScaleDomain(e);for(var t=0,n=l.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++){var r=n[t];m.parseScaleProperty(e,r)}g.parseScaleRange(e)}function i(e){f.isUnitModel(e)?e.component.scales=a(e):e.component.scales=o(e)}function a(e){var t=e.encoding,n=e.config,r=e.mark();return u.SCALE_CHANNELS.reduce(function(i,a){var o,u={},l=t[a];if(s.isFieldDef(l)?(o=l,u=l.scale||{}):s.hasConditionalFieldDef(l)?(o=l.condition,u=l.condition.scale||{}):"x"===a?o=s.getFieldDef(t.x2):"y"===a&&(o=s.getFieldDef(t.y2)),o){var c=u.type,f=y.scaleType(u.type,a,o,r,n.scale);i[a]=new p.ScaleComponent(e.scaleName(a+"",!0),{value:f,explicit:c===f})}return i},{})}function o(e){for(var t=e.component.scales={},n={},r=e.component.resolve,a=0,o=e.children;a<o.length;a++){var u=o[a];!function(t){i(t),c.keys(t.component.scales).forEach(function(i){if(r.scale[i]=r.scale[i]||d.defaultScaleResolve(i,e),"shared"===r.scale[i]){var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?l.scaleCompatible(a.value,o.value)?n[i]=h.mergeValuesWithExplicit(a,o,"type","scale",_):(r.scale[i]="independent",delete n[i]):n[i]=o}})}(u)}return c.keys(n).forEach(function(r){var i=e.scaleName(r,!0),a=n[r];t[r]=new p.ScaleComponent(i,a);for(var o=0,u=e.children;o<u.length;o++){var s=u[o],l=s.component.scales[r];l&&(s.renameScale(l.get("name"),i),l.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),s=n(7),l=n(10),c=n(2),f=n(15),d=n(122),h=n(31),p=n(845),v=n(89),m=n(339),g=n(340),y=n(847);t.parseScale=r,t.parseScaleCore=i;var _=h.tieBreakByComparing(function(e,t){return l.scaleTypePrecedence(e)-l.scaleTypePrecedence(t)})},function(e,t,n){"use strict";function r(e,t,n,r,l){var c=i(t,n,r,l);return o.isScaleChannel(t)?void 0!==e?s.channelSupportScaleType(t,e)?a(e,n)?e:(u.warn(u.message.scaleTypeNotWorkWithFieldDef(e,c)),c):(u.warn(u.message.scaleTypeNotWorkWithChannel(t,e,c)),c):c:null}function i(e,t,n,r){switch(t.type){case"nominal":case"ordinal":if("color"===e||"discrete"===o.rangeType(e))return"shape"===e&&"ordinal"===t.type&&u.warn(u.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(f.contains(["x","y"],e)){if("rect"===n)return"band";if("bar"===n)return"band"}return"point";case"temporal":return"color"===e?"sequential":"discrete"===o.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===o.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear"}throw new Error(u.message.invalidFieldType(t.type))}function a(e,t){var n=t.type;return d.contains([c.Type.ORDINAL,c.Type.NOMINAL],n)?void 0===e||l.hasDiscreteDomain(e):n===c.Type.TEMPORAL?d.contains([s.ScaleType.TIME,s.ScaleType.UTC,s.ScaleType.SEQUENTIAL,void 0],e):n!==c.Type.QUANTITATIVE||(t.bin?d.contains([s.ScaleType.BIN_LINEAR,s.ScaleType.BIN_ORDINAL,s.ScaleType.LINEAR],e):d.contains([s.ScaleType.LOG,s.ScaleType.POW,s.ScaleType.SQRT,s.ScaleType.QUANTILE,s.ScaleType.QUANTIZE,s.ScaleType.LINEAR,s.ScaleType.SEQUENTIAL,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=n(3),s=n(10),l=n(10),c=n(40),f=n(2),d=n(2);t.scaleType=r,t.fieldDefMatchScaleType=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(341),a=n(16),o={predicate:"vlSingle",scaleDomain:"vlSingleDomain",signals:i.default.signals,topLevelSignals:function(e,t,n){var i=n.filter(function(e){return e.name===t.name}),o="data("+r.stringValue(t.name+a.STORE)+")",u=o+"[0].values";return i.length?n:n.concat({name:t.name,update:o+".length && {"+t.project.map(function(e,t){return e.field+": "+u+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){return t.name+a.TUPLE+", "+("global"===t.resolve?"true":"{unit: "+a.unitName(e)+"}")}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(16),a=n(202),o={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var i=t.name,o=t.project,u=t.bind,s=a.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.forEach(function(e){var a=r.varName(i+"_"+e.field);n.filter(function(e){return e.name===a}).length||n.unshift({name:a,value:"",on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+s+r.accessPath(e.field)+" : null"}],bind:u[e.field]||u[e.channel]||u})}),n},signals:function(e,t,n){var a=t.name,o=t.project,u=n.filter(function(e){return e.name===a+i.TUPLE})[0],s=o.map(function(e){return r.stringValue(e.field)}).join(", "),l=o.map(function(e){return r.varName(a+"_"+e.field)});return u.update=l.join(" && ")+" ? {fields: ["+s+"], values: ["+l.join(", ")+"]} : null",delete u.value,delete u.on,n}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(2),a=n(120),o={has:function(e){var t=e;return void 0!==t.fields||void 0!==t.encodings},parse:function(e,t,n){var o={},u={};(t.fields||[]).forEach(function(e){return o[e]=null}),(t.encodings||[]).forEach(function(t){var n=e.fieldDef(t);if(n)if(n.timeUnit){var i=e.field(t);o[i]=t,u[i]={as:i,field:n.field,timeUnit:n.timeUnit}}else o[n.field]=t;else r.warn(r.message.cannotProjectOnChannelWithoutField(t))});var s=n.project||(n.project=[]);for(var l in o)o.hasOwnProperty(l)&&s.push({field:l,channel:o[l]});var c=n.fields||(n.fields={});s.filter(function(e){return e.channel}).forEach(function(e){return c[e.channel]=e.field}),i.keys(u).length&&(n.timeUnit=new a.TimeUnitNode(u))}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i={has:function(e){return"multi"===e.type&&e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var i=t.name+r.TUPLE,a=t.name+"_toggle";return a+" ? null : "+i+", "+("global"===t.resolve?a+" ? null : true, ":a+" ? null : {unit: "+r.unitName(e)+"}, ")+a+" ? "+i+" : null"}};t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n in f)f[n].has(e)&&t(f[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(849),a=n(202),o=n(850),u=n(123),s=n(851),l=n(853),c=n(854),f={project:o.default,toggle:s.default,scales:u.default,translate:l.default,zoom:c.default,inputs:i.default,nearest:a.default};t.forEachTransform=r},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.name,f=s.default.has(t),d=i.filter(function(e){return e.name===u.channelSignalName(t,n,f?"data":"visual")})[0],h=o+l,p=o+c,v=e.getSizeSignalRef(r).signal,m=e.getScaleComponent(n),g=m.get("type"),y=f&&n===a.X?"-":"",_=h+".extent_"+n,b=""+y+p+"."+n+" / "+(f?""+v:"span("+_+")"),x=f?"log"===g?"panLog":"pow"===g?"panPow":"panLinear":"panLinear",w=x+"("+_+", "+b+(f&&"pow"===g?", "+(m.get("exponent")||1):"")+")";d.on.push({events:{signal:p},update:f?w:"clampRange("+w+", 0, "+v+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(115),a=n(6),o=n(201),u=n(16),s=n(123),l="_translate_anchor",c="_translate_delta",f={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var f=t.name,d=s.default.has(t),h=f+l,p=u.positionalProjections(t),v=p.x,m=p.y,g=i.selector(t.translate,"scope");return d||(g=g.map(function(e){return e.between[0].markname=f+o.BRUSH,e})),n.push({name:h,value:{},on:[{events:g.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==v?", extent_x: "+(d?s.domain(e,a.X):"slice("+u.channelSignalName(t,"x","visual")+")"):"")+(null!==m?", extent_y: "+(d?s.domain(e,a.Y):"slice("+u.channelSignalName(t,"y","visual")+")"):"")+"}"}]},{name:f+c,value:{},on:[{events:g,update:"{x: "+h+".x - x(unit), y: "+h+".y - y(unit)}"}]}),null!==v&&r(e,t,a.X,"width",n),null!==m&&r(e,t,a.Y,"height",n),n}};t.default=f},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=t.name,o=l.default.has(t),u=i.filter(function(e){return e.name===s.channelSignalName(t,n,o?"data":"visual")})[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(n),p=h.get("type"),v=o?l.domain(e,n):u.name,m=a+f,g=""+a+c+"."+n,y=o?"log"===p?"zoomLog":"pow"===p?"zoomPow":"zoomLinear":"zoomLinear",_=y+"("+v+", "+g+", "+m+(o&&"pow"===p?", "+(h.get("exponent")||1):"")+")";u.on.push({events:{signal:m},update:o?_:"clampRange("+_+", 0, "+d+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(115),a=n(6),o=n(2),u=n(201),s=n(16),l=n(123),c="_zoom_anchor",f="_zoom_delta",d={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var d=t.name,h=l.default.has(t),p=d+f,v=s.positionalProjections(t),m=v.x,g=v.y,y=o.stringValue(e.scaleName(a.X)),_=o.stringValue(e.scaleName(a.Y)),b=i.selector(t.zoom,"scope");return h||(b=b.map(function(e){return e.markname=d+u.BRUSH,e})),n.push({name:d+c,on:[{events:b,update:h?"{"+[y?"x: invert("+y+", x(unit))":"",_?"y: invert("+_+", y(unit))":""].filter(function(e){return!!e}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:p,on:[{events:b,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==m&&r(e,t,"x","width",n),null!==g&&r(e,t,"y","height",n),n}};t.default=d},function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return l({},e,{encoding:d.reduce(e.encoding,function(e,n,r){return g.indexOf(r)>-1?e[r]=n:v.warn(v.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,e.selection),u=c(e,["mark","encoding","selection"]),d=void 0;r(n)&&n.extent&&f.isNumber(n.extent)&&(d=n.extent);var h=o(e),p=s(e,h,d),v=p.transform,g=p.continuousAxisChannelDef,y=p.continuousAxis,_=p.encodingWithoutContinuousAxis,b=(_.color,_.size),x=c(_,["color","size"]),w=b?{size:b}:m.getMarkSpecificConfigMixins(t.box,"size"),M={};return g.scale&&(M.scale=g.scale),g.axis&&(M.axis=g.axis),l({},u,{transform:v,layer:[{mark:{type:"rule",style:"boxWhisker"},encoding:l((O={},O[y]=l({field:"lowerWhisker",type:g.type},M),O[y+"2"]={field:"lowerBox",type:g.type},O),x,m.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},{mark:{type:"rule",style:"boxWhisker"},encoding:l((P={},P[y]={field:"upperBox",type:g.type},P[y+"2"]={field:"upperWhisker",type:g.type},P),x,m.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},l({},a?{selection:a}:{},{mark:{type:"bar",style:"box"},encoding:l((S={},S[y]={field:"lowerBox",type:g.type},S[y+"2"]={field:"upperBox",type:g.type},S),_,_.color?{}:m.getMarkSpecificConfigMixins(t.box,"color"),w)}),{mark:{type:"tick",style:"boxMid"},encoding:l((k={},k[y]={field:"midBox",type:g.type},k),x,m.getMarkSpecificConfigMixins(t.boxMid,"color"),w)}]});var O,P,S,k}function o(e){var n=e.mark,i=e.encoding;c(e,["mark","encoding"]);if(p.isFieldDef(i.x)&&p.isContinuous(i.x)){if(p.isFieldDef(i.y)&&p.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(p.isFieldDef(i.y)&&p.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function u(e,n){var r,i,a=(e.mark,e.encoding);c(e,["mark","encoding"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,u=c(r,["aggregate"]);o!==t.BOXPLOT&&v.warn("Continuous axis should not have customized aggregation function "+o),r=u}return{continuousAxisChannelDef:r,continuousAxis:i}}function s(e,n,r){var i=u(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,s=e.encoding,l=void 0===r,c=[{op:"q1",field:a.field,as:"lowerBox"},{op:"q3",field:a.field,as:"upperBox"},{op:"median",field:a.field,as:"midBox"}],f=[];l?(c.push({op:"min",field:a.field,as:"lowerWhisker"}),c.push({op:"max",field:a.field,as:"upperWhisker"})):f=[{calculate:"datum.upperBox - datum.lowerBox",as:"IQR"},{calculate:"datum.lowerBox - datum.IQR * "+r,as:"lowerWhisker"},{calculate:"datum.upperBox + datum.IQR * "+r,as:"upperWhisker"}];var d=[],v=[],m=[],g={};return h.forEach(s,function(e,n){if(n!==o)if(p.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({op:e.aggregate,field:e.field,as:p.field(e)});else if(void 0===e.aggregate){var r=p.field(e),i=e.bin;if(i){var a=e.field;v.push({bin:i,field:a,as:r})}else if(e.timeUnit){var u=e.timeUnit,l=e.field;m.push({timeUnit:u,field:l,as:r})}d.push(r)}g[n]={field:p.field(e),type:e.type}}else g[n]=s[n]}),{transform:[].concat(v,m,[{aggregate:c,groupby:d}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:g}}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),d=n(24),h=n(24),p=n(7),v=n(3),m=n(856);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_STYLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size","color"],boxWhisker:["color"],boxMid:["color"]};var g=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},function(e,t,n){"use strict";function r(e,t){var n=e[t];return void 0!==n?(r={},r[t]={value:n},r):{};var r}Object.defineProperty(t,"__esModule",{value:!0}),t.getMarkSpecificConfigMixins=r},function(e,t,n){"use strict";function r(e){var t=(e.mark,e.selection,e.encoding),n=a(e,["mark","selection","encoding"]),r=(t.size,a(t,["size"])),o=(t.x2,t.y2,a(t,["x2","y2"])),u=(o.x,o.y,a(o,["x","y"]));if(!t.x2&&!t.y2)throw new Error("Neither x2 or y2 provided");return i({},n,{layer:[{mark:"rule",encoding:r},{mark:"tick",encoding:o},{mark:"tick",encoding:t.x2?i({x:t.x2,y:t.y},u):i({x:t.x,y:t.y2},u)}]})}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORBAR="error-bar",t.normalizeErrorBar=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VL_ONLY_GUIDE_CONFIG=["shortTimeLabels"]},function(e,t,n){"use strict";function r(e){return u.isString(e)?{type:e}:e||{}}function i(e,t,n){void 0===n&&(n=!0);var i=o({type:"pad"},r(t),r(e));return"fit"===i.type&&(n||(s.warn(s.message.FIT_NON_SINGLE),i.type="pad")),i}function a(e){return l.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1052),s=n(3);t.normalizeAutoSize=i;var l=["background","padding"];t.extractTopLevelProperties=a},function(e,t,n){"use strict";function r(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var o=i.isMarkDef(e.mark)?e.mark.type:e.mark,u=e.encoding,s=n[o],l=r[o];for(var c in s)if(!(s[c]in u))return'Missing encoding channel "'+s[c]+'" for mark "'+o+'"';for(var f in u)if(!l[f])return'Encoding channel "'+f+'" is not supported by mark type "'+o+'"';return o!==a.BAR||u.x||u.y?null:"Missing both x and y for bar"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),a=n(25),o=n(2);t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:o.toSet(["row","column","x","y","size","color","detail"]),line:o.toSet(["row","column","x","y","color","detail"]),area:o.toSet(["row","column","x","y","color","detail"]),tick:o.toSet(["row","column","x","y","color","detail"]),circle:o.toSet(["row","column","x","y","color","size","detail"]),square:o.toSet(["row","column","x","y","color","size","detail"]),point:o.toSet(["row","column","x","y","color","size","detail","shape"]),text:o.toSet(["row","column","size","color","text"])},t.getEncodingMappingError=r},function(e,t,n){"use strict";function r(e){return function(t,r){var a={delimiter:e};return i(t,r?n.i(o.extend)(r,a):a)}}function i(e,t){return t.header&&(e=t.header.map(o.stringValue).join(t.delimiter)+"\n"+e),n.i(a.dsvFormat)(t.delimiter).parse(e+"")}Object.defineProperty(t,"__esModule",{value:!0}),t.delimitedFormat=r,t.default=i;var a=n(97),o=(n.n(a),n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(347),i=n(762),a=n(0);t.default=function(e,t){var o,u;return e=n.i(r.default)(e,t),t&&(u=t.feature)?(o=e.objects[u])?n.i(i.feature)(e,o).features:n.i(a.error)("Invalid TopoJSON object: "+u):t&&(u=t.mesh)?(o=e.objects[u])?[n.i(i.mesh)(e,o)]:n.i(a.error)("Invalid TopoJSON object: "+u):void n.i(a.error)("Missing TopoJSON feature or mesh parameter.")}},function(e,t,n){"use strict";function r(e,t){return n.i(c.extend)({},e.options,t)}function i(e,t){var n=this;return n.sanitize(e,t).then(function(e){var r=e.href;return e.localFile?n.file(r):n.http(r,t)})}function a(e,t){return t=r(this,t),new Promise(function(r,i){var a,o,u,f,p={href:null};if(null==e||"string"!=typeof e)return void i("Sanitize failure, invalid URI: "+n.i(c.stringValue)(e));o=d.test(e),(f=t.baseURL)&&!o&&(l(e,"/")||"/"===f[f.length-1]||(e="/"+e),e=f+e),u=(a=l(e,h))||"file"===t.mode||"http"!==t.mode&&!o&&s(),a?e=e.slice(h.length):l(e,"//")&&("file"===t.defaultProtocol?(e=e.slice(2),u=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(p,"localFile",{value:!!u}),p.href=e,r(p)})}function o(e,t){return t=r(this,t),new Promise(function(r,i){var a,o=n.i(f.request)(e);for(a in t.headers)o.header(a,t.headers[a]);p.forEach(function(e){t[e]&&o[e](t[e])}),o.on("error",function(t){i(t||"Error loading URL: "+e)}).on("load",function(e){var t=e&&e.responseText;e&&0!==e.status?r(t):i(t||"Error")}).get()})}function u(e){return new Promise(function(t,n){var r=s();r?r.readFile(e,function(e,r){e?n(e):t(r)}):n("No file system access for "+e)})}function s(){var e=n(1062);return e&&n.i(c.isFunction)(e.readFile)?e:null}function l(e,t){return null!=e&&0===e.lastIndexOf(t,0)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),f=n(585),d=/^([A-Za-z]+:)?\/\//,h="file://",p=["mimeType","responseType","user","password"];t.default=function(e){return{options:e||{},sanitize:a,load:i,file:u,http:o}}},function(e,t,n){"use strict";function r(e,t,r){if(e.length){r=r||u.timeParse;var a,o,s,l,c,f,d,h=e.columns||Object.keys(e[0]);for("auto"===t&&(t=n.i(i.inferTypes)(e,h)),h=Object.keys(t),a=h.map(function(e){var a,o,s=t[e];if(s&&(0===s.indexOf("date:")||0===s.indexOf("utc:")))return a=s.split(/:(.+)?/,2),o=a[1],("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),"utc"===a[0]?n.i(u.utcParse)(o):r(o);if(!i.typeParsers[s])throw Error("Illegal format pattern: "+e+":"+s);return i.typeParsers[s]}),l=0,f=e.length,d=h.length;l<f;++l)for(o=e[l],c=0;c<d;++c)s=h[c],o[s]=a[c](o[s])}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(348),a=n(346),o=n(0),u=n(52);t.default=function(e,t,i){t=t||{};var u=n.i(a.default)(t.type||"json");return u||n.i(o.error)("Unknown data format type: "+t.type),e=u(e,t),t.parse&&r(e,t.parse,i),e.hasOwnProperty("columns")&&delete e.columns,e}},function(e,t,n){"use strict";function r(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:s},area:{fill:s},image:null,line:{stroke:s,strokeWidth:u},path:{stroke:s},rect:{fill:s},rule:{stroke:l},shape:{stroke:s},symbol:{fill:s,size:64},text:{fill:l,font:a,fontSize:11},style:{"guide-label":{fill:l,font:a,fontSize:10},"guide-title":{fill:l,font:a,fontSize:11,fontWeight:"bold"},"group-title":{fill:l,font:a,fontSize:13,fontWeight:"bold"},point:{size:o,strokeWidth:u,shape:"circle"},circle:{size:o,strokeWidth:u},square:{size:o,strokeWidth:u,shape:"square"},cell:{fill:"transparent",stroke:f}},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:c,grid:!1,gridWidth:1,gridColor:f,gridDash:[],gridOpacity:1,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:c,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titleAlign:"center",titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,entryPadding:5,titlePadding:5,gradientWidth:100,gradientHeight:20,gradientStrokeColor:f,gradientStrokeWidth:0,gradientLabelBaseline:"top",gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelOffset:8,labelLimit:160,symbolType:"circle",symbolSize:100,symbolFillColor:"transparent",symbolStrokeColor:c,symbolStrokeWidth:1.5,titleAlign:"left",titleBaseline:"top",titleLimit:180},title:{orient:"top",anchor:"middle",offset:4},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues",extent:[.2,1]},heatmap:{scheme:"viridis"},ramp:{scheme:"blues",extent:[.2,1]},diverging:{scheme:"blueorange"},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=function(e){var t=r();return(e||[]).forEach(function(e){var r,a;if(e)for(r in e)if("style"===r){a=t.style||(t.style={});for(r in e.style)a[r]=n.i(i.extend)(a[r]||{},e.style[r])}else t[r]=n.i(i.isObject)(e[r])?n.i(i.extend)(t[r]||{},e[r]):e[r]}),t};var a="sans-serif",o=30,u=2,s="#4c78a8",l="#000",c="#888",f="#ddd"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(913),i=n(350),a=n(866),o=n(0);t.default=function(e,t){return n.i(o.isObject)(e)||n.i(o.error)("Input Vega specification must be an object."),n.i(r.default)(e,new i.default(n.i(a.default)([t,e.config]))).toRuntime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){return e=e||t.autosize,n.i(r.isObject)(e)?e:(e=e||"pad",{type:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(892),i=n(893),a=n(894),o=n(896),u=n(895),s=n(897),l=n(357),c=n(12),f=n(131),d=n(13),h=n(22),p=n(20),v=n(26);t.default=function(e,t){var m,g,y,_,b,x,w=n.i(r.default)(e,t),M=e.encode||{},O=M.axis||{},P=O.name||void 0,S=!!O.interactive,k=O.style;return m={orient:e.orient,ticks:!!n.i(p.value)(e.ticks,w.ticks),labels:!!n.i(p.value)(e.labels,w.labels),grid:!!n.i(p.value)(e.grid,w.grid),domain:!!n.i(p.value)(e.domain,w.domain),title:!!n.i(p.value)(e.title,!1)},g=n.i(p.ref)(t.add(n.i(v.Collect)({},[m]))),O=n.i(d.extendEncode)({update:{range:{signal:'abs(span(range("'+e.scale+'")))'},offset:n.i(d.encoder)(n.i(p.value)(e.offset,0)),position:n.i(d.encoder)(n.i(p.value)(e.position,0)),titlePadding:n.i(d.encoder)(n.i(p.value)(e.titlePadding,w.titlePadding)),minExtent:n.i(d.encoder)(n.i(p.value)(e.minExtent,w.minExtent)),maxExtent:n.i(d.encoder)(n.i(p.value)(e.maxExtent,w.maxExtent))}},M.axis,h.Skip),y=n.i(p.ref)(t.add(n.i(v.AxisTicks)({scale:t.scaleRef(e.scale),extra:w.tickExtra,count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),x=[],m.grid&&x.push(n.i(a.default)(e,w,M.grid,y)),m.ticks&&(_=n.i(p.value)(e.tickSize,w.tickSize),x.push(n.i(o.default)(e,w,M.ticks,y,_))),m.labels&&(_=m.ticks?_:0,x.push(n.i(u.default)(e,w,M.labels,y,_))),m.domain&&x.push(n.i(i.default)(e,w,M.domain,g)),m.title&&x.push(n.i(s.default)(e,w,M.title,g)),b=n.i(l.default)(c.AxisRole,k,P,g,S,O,x),e.zindex&&(b.zindex=e.zindex),n.i(f.default)(b,t)}},function(e,t,n){"use strict";function r(e,t){var r=[];e.transform&&e.transform.forEach(function(e){r.push(n.i(o.default)(e,t))}),e.on&&e.on.forEach(function(r){n.i(u.default)(r,t,e.name)}),t.addDataPipeline(e.name,i(e,t,r))}function i(e,t,r){var i,o,u,f,d,h=[],p=null,v=!1,m=!1;for(e.values?h.push(p=a({$ingest:e.values,$format:e.format})):e.url?h.push(p=a({$request:e.url,$format:e.format})):e.source&&(p=i=n.i(c.array)(e.source).map(function(e){return n.i(s.ref)(t.getData(e).output)}),h.push(null)),o=0,u=r.length;o<u;++o)f=r[o],d=f.metadata,p||d.source||h.push(p=a()),h.push(f),d.generates&&(m=!0),d.modifies&&!m&&(v=!0),d.source?p=f:d.changes&&(p=null);return i&&(u=i.length-1,h[0]=n.i(l.Relay)({derive:v,pulse:u?i:i[0]}),(v||u)&&h.splice(1,0,a())),p||h.push(a()),h.push(n.i(l.Sieve)({})),h}function a(e){var t=n.i(l.Collect)({},e);return t.metadata={source:!0},t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(210),u=n(361),s=n(20),l=n(26),c=n(0)},function(e,t,n){"use strict";function r(e,t,r,l){var c,f,d,h={},p="var o=item,datum=o.datum,$;";for(c in e)f=e[c],n.i(s.isArray)(f)?p+=n.i(o.default)(c,f,l,r,h):(d=n.i(a.default)(c,f,l,r,h),p+=n.i(u.default)("o",c,d));return p+=n.i(i.default)(e,t),p+="return 1;",{$expr:p,$fields:Object.keys(h),$output:Object.keys(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(872),a=n(128),o=n(876),u=n(353),s=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.i(r.toSet)(["rule"]),a=n.i(r.toSet)(["group","image","rect"]);t.default=function(e,t){var n="";return i[t]?n:(e.x2&&(e.x?(a[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128);t.default=function(e,t,i,a){function o(e,o,u,s){return"this."+e+"("+[n.i(r.default)(null,o,t,i,a),n.i(r.default)(null,u,t,i,a),n.i(r.default)(null,s,t,i,a)].join(",")+").toString()"}return e.c?o("hcl",e.h,e.c,e.l):e.h||e.s?o("hsl",e.h,e.s,e.l):e.l||e.a?o("lab",e.l,e.a,e.b):e.r||e.g||e.b?o("rgb",e.r,e.g,e.b):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(352),i=n(0);t.default=function(e,t,a,o){return"this.gradient("+n.i(r.getScale)(e.gradient,t,a,o)+","+n.i(i.stringValue)(e.start)+","+n.i(i.stringValue)(e.stop)+","+n.i(i.stringValue)(e.count)+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128),i=n(0);t.default=function(e,t,a,o){return n.i(i.isObject)(e)?"("+n.i(r.default)(null,e,t,a,o)+")":e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128),i=n(353),a=n(129);t.default=function(e,t,o,u,s){var l="";return t.forEach(function(t){var i=n.i(r.default)(e,t,o,u,s);l+=t.test?n.i(a.default)(t.test,o,u,s)+"?"+i+":":i}),n.i(i.default)("o",e,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),r=a-i,r>=n-t?[t,n]:[Math.min(Math.max(i,t),n-r),Math.min(Math.max(a,r),n)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t,i,a,o,u){var s=Math.abs(t-e[0]),l=Math.abs(n.i(r.peek)(e)-t);return s<l&&s<=i?a:l<=i?o:u}},function(e,t,n){"use strict";function r(e,t,n){var r=e+":"+n,i=m[r];return i&&i[0]===t||(m[r]=i=[t,t(n)]),i[1]}function i(e,t){return r("format",p.format,t)(e)}function a(e,t){return r("timeFormat",v.timeFormat,t)(e)}function o(e,t){return r("utcFormat",v.utcFormat,t)(e)}function u(e,t){return r("timeParse",v.timeParse,t)(e)}function s(e,t){return r("utcParse",v.utcParse,t)(e)}function l(e,t,n){return g.setMonth(e),g.setDate(t),a(g,n)}function c(e){return l(e,1,"%B")}function f(e){return l(e,1,"%b")}function d(e){return l(0,2+e,"%A")}function h(e){return l(0,2+e,"%a")}Object.defineProperty(t,"__esModule",{value:!0}),t.format=i,t.timeFormat=a,t.utcFormat=o,t.timeParse=u,t.utcParse=s,t.monthFormat=c,t.monthAbbrevFormat=f,t.dayFormat=d,t.dayAbbrevFormat=h;var p=n(47),v=n(52),m={},g=new Date(2e3,0,1)},function(e,t,n){"use strict";function r(e){return function(t,r,a){var o=n.i(i.getScale)(t,(a||this).context);return o&&o.path[e](r)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"geoArea",function(){return a}),n.d(t,"geoBounds",function(){return o}),n.d(t,"geoCentroid",function(){return u});var i=n(356),a=r("area"),o=r("bounds"),u=r("centroid")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}},function(e,t,n){"use strict";function r(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function i(){return r(this.context.dataflow,"warn",arguments)}function a(){return r(this.context.dataflow,"info",arguments)}function o(){return r(this.context.dataflow,"debug",arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.warn=i,t.info=a,t.debug=o},function(e,t,n){"use strict";function r(e,t){return e===t||e!==e&&t!==t||!(!n.i(u.isArray)(e)||!n.i(u.isArray)(t)||e.length!==t.length)&&i(e,t)}function i(e,t){for(var n=0,i=e.length;n<i;++n)if(!r(e[n],t[n]))return!1;return!0}function a(e){return function(t){for(var n in e)if(!r(t[n],e[n]))return!1;return!0}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=n(0);t.default=function(e,t,r,i,s,l){var c,f,d=this.context.dataflow,h=this.context.data[e],p=h.input,v=h.changes,m=d.stamp();if(!1===d._trigger||!(p.value.length||t||i))return 0;if((!v||v.stamp<m)&&(h.changes=v=d.changeset(),v.stamp=m,d.runAfter(function(){h.modified=!0,d.pulse(p,v).run()},!0)),r&&(c=!0===r?u.truthy:n.i(u.isArray)(r)||n.i(o.isTuple)(r)?r:a(r),v.remove(c)),t&&v.insert(t),i&&(c=a(i),p.value.some(c)?v.remove(c):v.insert(i)),s)for(f in l)v.modify(s,f,l[f]);return 1}},function(e,t,n){"use strict";function r(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function i(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}Object.defineProperty(t,"__esModule",{value:!0}),t.pinchDistance=r,t.pinchAngle=i},function(e,t,n){"use strict";function r(e){return 1+~~(new Date(e).getMonth()/3)}function i(e){return 1+~~(new Date(e).getUTCMonth()/3)}Object.defineProperty(t,"__esModule",{value:!0}),t.quarter=r,t.utcquarter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(58);t.default=function(e,t,a,o){var u=n.i(r.Gradient)(t,a),s=e.domain(),l=s[0],c=s[s.length-1],f=n.i(i.scaleFraction)(e,l,c);e.ticks&&(s=e.ticks(+o||15),l!==s[0]&&s.unshift(l),c!==s[s.length-1]&&s.push(c));for(var d=0,h=s.length;d<h;++d)u.stop(f(s[d]),e(s[d]));return u}},function(e,t,n){"use strict";function r(e,t){for(var r,i=t.fields,a=t.values,o=t.getter||(t.getter=[]),u=i.length,s=0;s<u;++s)if(o[s]=o[s]||n.i(_.field)(i[s]),r=o[s](e),n.i(_.isDate)(r)&&(r=n.i(_.toNumber)(r)),n.i(_.isDate)(a[s])&&(a[s]=n.i(_.toNumber)(a[s])),t[b+i[s]]){if(n.i(_.isDate)(a[s][0])&&(a[s]=a[s].map(_.toNumber)),!n.i(g.default)(r,a[s],!0,!1))return!1}else if(r!==a[s])return!1;return!0}function i(e,t){for(var r,i,a,o=t.intervals,u=o.length,s=0;s<u;++s){if(i=o[s].extent,r=o[s].getter||(o[s].getter=n.i(_.field)(o[s].field)),a=r(e),!i||i[0]===i[1])return!1;if(n.i(_.isDate)(a)&&(a=n.i(_.toNumber)(a)),n.i(_.isDate)(i[0])&&(i=o[s].extent=i.map(_.toNumber)),n.i(_.isNumber)(i[0])&&!n.i(g.default)(a,i))return!1;if(n.i(_.isString)(i[0])&&i.indexOf(a)<0)return!1}return!0}function a(e,t,n,r){for(var i,a,o,u,s,l=this.context.data[e],c=l?l.values.value:[],f=l?l[M]&&l[M].value:void 0,d=n===x,h=c.length,p=0;p<h;++p)if(i=c[p],f&&d){if(a=a||{},-1===(o=a[u=i.unit]||0))continue;if(s=r(t,i),a[u]=s?-1:++o,s&&1===f.size)return!0;if(!s&&o===f.get(u).count)return!1}else if(s=r(t,i),d^s)return s;return h&&d}function o(e,t,n){return a.call(this,e,t,n,r)}function u(e,t,n){return a.call(this,e,t,n,i)}function s(e,t,r,i){t[0].type!==v.Literal&&n.i(_.error)("First argument to indata must be a string literal.");var a=t[0].value,o=t.length>=2&&t[t.length-1].value,u=y.indexPrefix+"unit";o!==x||i.hasOwnProperty(u)||(i[u]=r.getData(a).indataRef(r,"unit")),n.i(m.dataVisitor)(e,t,r,i)}function l(e,t,n,r){var i,a,o,u,s,l=this.context.data[e],c=l?l.values.value:[],h=l?l[M]&&l[M].value:void 0,p=c[0],v=0;if(p){for(i=t?p.encodings.length:p.fields.length;v<i;++v)if(t&&p.encodings[v]===t||n&&p.fields[v]===n){a=v,u=p[b+p.fields[v]];break}return h&&1===h.size&&(r=w),h&&r===x?(s=c.reduce(function(e,t){return(e[t.unit]||(e[t.unit]=[])).push({unit:t.unit,value:t.values[a]}),e},{}),o=Object.keys(s).map(function(e){return{unit:e,value:u?d(s[e],w):f(s[e],w)}})):o=c.map(function(e){return{unit:e.unit,value:e.values[a]}}),u?d(o,r):f(o,r)}}function c(e,t,n,r){var i,a,o,u,s,l=this.context.data[e],c=l?l.values.value:[],h=c[0],p=0;if(h){for(i=h.intervals.length;p<i;++p)if(a=h.intervals[p],t&&a.encoding===t||n&&a.field===n){if(!a.extent)return;o=p,s=a.extent.length>2;break}return u=c.reduce(function(e,t){var n=t.intervals[o].extent,r=s?n.map(function(e){return{unit:t.unit,value:e}}):{unit:t.unit,value:n};return s?e.push.apply(e,r):e.push(r),e},[]),s?f(u,r):d(u,r)}}function f(e,t){for(var n,r,i,a,o={},u=0,s={},l=[],c=0,f=e.length;c<f;++c)n=e[c],r=n.unit,a=n.value,o[r]||(o[r]=++u),(i=s[a])||(s[a]=i={value:a,units:{},count:0}),i.units[r]||(i.units[r]=++i.count);for(a in s)i=s[a],t===x&&i.count!==u||l.push(i.value);return l.length?l:void 0}function d(e,t){for(var r,i,a,o,u=t===x?p:h,s=0,l=e.length;s<l;++s)r=e[s].value,n.i(_.isDate)(r[0])&&(r=r.map(_.toNumber)),a=r[0],o=r[1],a>o&&(o=r[0],a=r[1]),i=i?u(i,a,o):[a,o];return i&&i.length&&+i[0]!=+i[1]?i:void 0}function h(e,t,n){return e[0]>t&&(e[0]=t),e[1]<n&&(e[1]=n),e}function p(e,t,n){return n<e[0]||e[1]<t?[]:(e[0]<t&&(e[0]=t),e[1]>n&&(e[1]=n),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.vlPoint=o,t.vlInterval=u,t.vlMultiVisitor=s,t.vlPointDomain=l,t.vlIntervalDomain=c;var v=n(207),m=n(208),g=n(355),y=n(130),_=n(0),b="bin_",x="intersect",w="union",M="index:unit"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[e.length-1]-e[0]||0}},function(e,t,n){"use strict";function r(e){return e.data}function i(e,t){var n=u.data.call(t,e);return n.root&&n.root.lookup||s}function a(e,t,n){var a=i(e,this),o=a[t],u=a[n];return o&&u?o.path(u).map(r):void 0}function o(e,t){var n=i(e,this)[t];return n?n.ancestors().map(r):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.treePath=a,t.treeAncestors=o;var u=n(208),s={}},function(e,t,n){"use strict";function r(){return o?o.screen:{}}function i(){return o?[o.innerWidth,o.innerHeight]:[void 0,void 0]}function a(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}Object.defineProperty(t,"__esModule",{value:!0}),t.screen=r,t.windowSize=i,t.containerSize=a;var o="undefined"!=typeof window&&window||null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(0);t.default=function(e,t){var a=t.config,o=e.orient,u=o===r.Top||o===r.Bottom?a.axisX:a.axisY,s=a["axis"+o[0].toUpperCase()+o.slice(1)],l="band"===t.scaleType(e.scale)&&a.axisBand;return u||s||l?n.i(i.extend)({},a.axis,u,s,l):a.axis}},function(e,t,n){"use strict";function r(e,t){return{scale:e.scale,range:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=n(32),o=n(19),u=n(12),s=n(13);t.default=function(e,t,l,c){var f,d,h,p,v,m=e.orient,g={value:0},y={};return y.enter=f={opacity:g},n.i(s.addEncode)(f,"stroke",t.domainColor),n.i(s.addEncode)(f,"strokeWidth",t.domainWidth),y.exit={opacity:g},y.update=d={opacity:{value:1}},m===i.Top||m===i.Bottom?(h="x",v="y"):(h="y",v="x"),p=h+"2",f[v]=g,d[h]=f[h]=r(e,0),d[p]=f[p]=r(e,1),n.i(a.default)(o.RuleMark,u.AxisDomainRole,null,null,c,y,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13);t.default=function(e,t,s,l){var c,f,d,h,p,v,m,g,y=e.orient,_=e.gridScale,b=y===r.Left||y===r.Top?1:-1,x=b*e.offset||0,w={value:0},M={};return M.enter=c={opacity:w},n.i(u.addEncode)(c,"stroke",t.gridColor),n.i(u.addEncode)(c,"strokeWidth",t.gridWidth),n.i(u.addEncode)(c,"strokeDash",t.gridDash),M.exit=f={opacity:w},M.update=d={},n.i(u.addEncode)(d,"opacity",t.gridOpacity),h={scale:e.scale,field:r.Value,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},y===r.Top||y===r.Bottom?(p="x",v="y",g="height"):(p="y",v="x",g="width"),m=v+"2",d[p]=c[p]=f[p]=h,_?(c[v]={scale:_,range:0,mult:b,offset:x},d[m]=c[m]={scale:_,range:1,mult:b,offset:x}):(c[v]={value:x},d[m]=c[m]={signal:g,mult:b,offset:x}),n.i(i.default)(a.RuleMark,o.AxisGridRole,null,r.Value,l,M,s)}},function(e,t,n){"use strict";function r(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=n(32),o=n(19),u=n(12),s=n(13),l=n(20);t.default=function(e,t,c,f,d){var h,p,v,m,g,y=e.orient,_=y===i.Left||y===i.Top?-1:1,b=e.scale,x=n.i(l.value)(e.labelPadding,t.labelPadding),w=n.i(l.value)(e.labelBound,t.labelBound),M=n.i(l.value)(e.labelFlush,t.labelFlush),O=null!=M&&!1!==M&&(M=+M)===M,P=+n.i(l.value)(e.labelFlushOffset,t.labelFlushOffset),S=n.i(l.value)(e.labelOverlap,t.labelOverlap),k={value:0},E={};return E.enter=h={opacity:k},n.i(s.addEncode)(h,"angle",t.labelAngle),n.i(s.addEncode)(h,"fill",t.labelColor),n.i(s.addEncode)(h,"font",t.labelFont),n.i(s.addEncode)(h,"fontSize",t.labelFontSize),n.i(s.addEncode)(h,"limit",t.labelLimit),E.exit=p={opacity:k},E.update=v={opacity:{value:1},text:{field:i.Label}},m=n.i(s.encoder)(d),m.mult=_,m.offset=n.i(s.encoder)(x),m.offset.mult=_,g={scale:b,field:i.Value,band:.5,offset:t.tickOffset},y===i.Top||y===i.Bottom?(v.y=h.y=m,v.x=h.x=p.x=g,n.i(s.addEncode)(v,"align",O?r(b,M,'"left"','"right"','"center"'):"center"),O&&P&&n.i(s.addEncode)(v,"dx",r(b,M,-P,P,0)),n.i(s.addEncode)(v,"baseline",y===i.Top?"bottom":"top")):(v.x=h.x=m,v.y=h.y=p.y=g,n.i(s.addEncode)(v,"align",y===i.Right?"left":"right"),n.i(s.addEncode)(v,"baseline",O?r(b,M,'"bottom"','"top"','"middle"'):"middle"),O&&P&&n.i(s.addEncode)(v,"dy",r(b,M,P,-P,0))),e=n.i(a.default)(o.TextMark,u.AxisLabelRole,i.GuideLabelStyle,i.Value,f,E,c),(S||w)&&(e.overlap={method:S,order:"datum.index",bound:w?{scale:b,orient:y,tolerance:+w}:null}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13);t.default=function(e,t,s,l,c){var f,d,h,p,v,m=e.orient,g=m===r.Left||m===r.Top?-1:1,y={value:0},_={};return _.enter=f={opacity:y},n.i(u.addEncode)(f,"stroke",t.tickColor),n.i(u.addEncode)(f,"strokeWidth",t.tickWidth),_.exit=d={opacity:y},_.update=h={opacity:{value:1}},p=n.i(u.encoder)(c),p.mult=g,v={scale:e.scale,field:r.Value,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},m===r.Top||m===r.Bottom?(h.y=f.y=y,h.y2=f.y2=p,h.x=f.x=d.x=v):(h.x=f.x=y,h.x2=f.x2=p,h.y=f.y=d.y=v),n.i(i.default)(a.RuleMark,o.AxisTickRole,null,r.Value,l,_,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(13),o=n(19),u=n(12);t.default=function(e,t,s,l){var c,f,d,h=e.orient,p=e.title,v=h===r.Left||h===r.Top?-1:1,m=h===r.Top||h===r.Bottom,g={};return g.enter=c={opacity:{value:0}},n.i(a.addEncode)(c,"align",t.titleAlign),n.i(a.addEncode)(c,"fill",t.titleColor),n.i(a.addEncode)(c,"font",t.titleFont),n.i(a.addEncode)(c,"fontSize",t.titleFontSize),n.i(a.addEncode)(c,"fontWeight",t.titleFontWeight),n.i(a.addEncode)(c,"limit",t.titleLimit),g.exit={opacity:{value:0}},g.update=f={opacity:{value:1},text:p&&p.signal?{signal:p.signal}:{value:p+""}},d={scale:e.scale,range:.5},m?(f.x=d,f.angle={value:0},f.baseline={value:h===r.Top?"bottom":"top"}):(f.y=d,f.angle={value:90*v},f.baseline={value:"bottom"}),n.i(a.addEncode)(f,"angle",t.titleAngle),n.i(a.addEncode)(f,"baseline",t.titleBaseline),!n.i(a.addEncode)(f,"x",t.titleX)&&m&&!n.i(a.has)("x",s)&&(g.enter.auto={value:!0}),!n.i(a.addEncode)(f,"y",t.titleY)&&!m&&!n.i(a.has)("y",s)&&(g.enter.auto={value:!0}),n.i(i.default)(o.TextMark,u.AxisTitleRole,r.GuideTitleStyle,null,l,g,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13),s="datum."+r.Perc+'<=0?"left":datum.'+r.Perc+'>=1?"right":"center"';t.default=function(e,t,l,c){var f,d,h={value:0},p={};return p.enter=f={opacity:h},n.i(u.addEncode)(f,"fill",t.labelColor),n.i(u.addEncode)(f,"font",t.labelFont),n.i(u.addEncode)(f,"fontSize",t.labelFontSize),n.i(u.addEncode)(f,"baseline",t.gradientLabelBaseline),n.i(u.addEncode)(f,"limit",t.gradientLabelLimit),p.exit={opacity:h},p.update=d={opacity:{value:1},text:{field:r.Label}},f.x=d.x={field:r.Perc,mult:t.gradientWidth},f.y=d.y={value:t.gradientHeight,offset:t.gradientLabelOffset},f.align=d.align={signal:s},n.i(i.default)(a.TextMark,o.LegendLabelRole,r.GuideLabelStyle,r.Perc,c,p,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i=n(19),a=n(12),o=n(13);t.default=function(e,t,u,s){var l,c,f={value:0},d={};return d.enter=l={opacity:f,x:f,y:f},n.i(o.addEncode)(l,"width",u.gradientWidth),n.i(o.addEncode)(l,"height",u.gradientHeight),n.i(o.addEncode)(l,"stroke",u.gradientStrokeColor),n.i(o.addEncode)(l,"strokeWidth",u.gradientStrokeWidth),d.exit={opacity:f},d.update=c={x:f,y:f,fill:{gradient:t},opacity:{value:1}},n.i(o.addEncode)(c,"width",u.gradientWidth),n.i(o.addEncode)(c,"height",u.gradientHeight),n.i(r.default)(i.RectMark,a.LegendGradientRole,null,void 0,void 0,d,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13);t.default=function(e,t,s,l){var c,f,d={value:0},h={};return h.enter=c={opacity:d},n.i(u.addEncode)(c,"align",t.labelAlign),n.i(u.addEncode)(c,"baseline",t.labelBaseline),n.i(u.addEncode)(c,"fill",t.labelColor),n.i(u.addEncode)(c,"font",t.labelFont),n.i(u.addEncode)(c,"fontSize",t.labelFontSize),n.i(u.addEncode)(c,"limit",t.labelLimit),h.exit={opacity:d},h.update=f={opacity:{value:1},text:{field:r.Label}},c.x=f.x={field:r.Offset,offset:t.labelOffset},c.y=f.y={field:r.Size,mult:.5,offset:{field:r.Total,offset:{field:{group:"entryPadding"},mult:{field:r.Index}}}},n.i(i.default)(a.TextMark,o.LegendLabelRole,r.GuideLabelStyle,r.Value,l,h,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13);t.default=function(e,t,s,l){var c,f,d={value:0},h={};return h.enter=c={opacity:d},n.i(u.addEncode)(c,"shape",t.symbolType),n.i(u.addEncode)(c,"size",t.symbolSize),n.i(u.addEncode)(c,"strokeWidth",t.symbolStrokeWidth),e.fill||(n.i(u.addEncode)(c,"fill",t.symbolFillColor),n.i(u.addEncode)(c,"stroke",t.symbolStrokeColor)),h.exit={opacity:d},h.update=f={opacity:{value:1}},c.x=f.x={field:r.Offset,mult:.5},c.y=f.y={field:r.Size,mult:.5,offset:{field:r.Total,offset:{field:{group:"entryPadding"},mult:{field:r.Index}}}},r.LegendScales.forEach(function(t){e[t]&&(f[t]=c[t]={scale:e[t],field:r.Value})}),n.i(i.default)(a.SymbolMark,o.LegendSymbolRole,null,r.Value,l,h,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(32),a=n(19),o=n(12),u=n(13);t.default=function(e,t,s,l){var c,f={value:0},d=e.title,h={};return h.enter=c={x:{field:{group:"padding"}},y:{field:{group:"padding"}},opacity:f},n.i(u.addEncode)(c,"align",t.titleAlign),n.i(u.addEncode)(c,"baseline",t.titleBaseline),n.i(u.addEncode)(c,"fill",t.titleColor),n.i(u.addEncode)(c,"font",t.titleFont),n.i(u.addEncode)(c,"fontSize",t.titleFontSize),n.i(u.addEncode)(c,"fontWeight",t.titleFontWeight),n.i(u.addEncode)(c,"limit",t.titleLimit),h.exit={opacity:f},h.update={opacity:{value:1},text:d&&d.signal?{signal:d.signal}:{value:d+""}},n.i(i.default)(a.TextMark,o.LegendTitleRole,r.GuideTitleStyle,null,l,h,s)}},function(e,t,n){"use strict";function r(e,t,n){var r=a(t,n[1].encode,"fontSize",v.GuideLabelStyle);if(e.size)return{$expr:"Math.max(Math.ceil(Math.sqrt(_.scale(datum))),"+r+")"};var i=a(t,n[0].encode,"size");return Math.max(Math.ceil(Math.sqrt(i)),r)}function i(e){var t={};return n.i(p.addEncode)(t,"fill",e.fillColor)+n.i(p.addEncode)(t,"stroke",e.strokeColor)+n.i(p.addEncode)(t,"strokeWidth",e.strokeWidth)+n.i(p.addEncode)(t,"strokeDash",e.strokeDash)+n.i(p.addEncode)(t,"cornerRadius",e.cornerRadius)?t:void 0}function a(e,t,n,r){var i=t&&(t.update&&t.update[n]||t.enter&&t.enter[n]);return+(i?i.value:r&&(i=e.config.style[r])&&i[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(899),u=n(898),s=n(900),l=n(901),c=n(902),f=n(357),d=n(131),h=n(12),p=n(13),v=n(22),m=n(20),g=n(26),y=n(0);t.default=function(e,t){var _,b,x,w,M,O,P,S,k=e.type||"symbol",E=t.config.legend,j=e.encode||{},T=j.legend||{},C=T.name||void 0,A=!!T.interactive,N=T.style,R=e.size||e.shape||e.fill||e.stroke||e.strokeDash||e.opacity;return R||n.i(y.error)("Missing valid scale for legend."),_={orient:n.i(m.value)(e.orient,E.orient),title:null!=e.title},b=n.i(m.ref)(t.add(n.i(g.Collect)(null,[_]))),T=n.i(p.extendEncode)({enter:i(E),update:{offset:n.i(p.encoder)(n.i(m.value)(e.offset,E.offset)),padding:n.i(p.encoder)(n.i(m.value)(e.padding,E.padding)),titlePadding:n.i(p.encoder)(n.i(m.value)(e.titlePadding,E.titlePadding))}},T,v.Skip),O={update:{x:{field:{group:"padding"}},y:{field:{group:"padding"}},entryPadding:n.i(p.encoder)(n.i(m.value)(e.entryPadding,E.entryPadding))}},"gradient"===k?(x=n.i(m.ref)(t.add(n.i(g.LegendEntries)({type:"gradient",scale:t.scaleRef(R),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),S=[n.i(o.default)(e,R,E,j.gradient),n.i(u.default)(e,E,j.labels,x)]):(x=n.i(m.ref)(t.add(n.i(g.LegendEntries)(P={scale:t.scaleRef(R),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),S=[n.i(l.default)(e,E,j.symbols,x),n.i(s.default)(e,E,j.labels,x)],P.size=r(e,t,S)),S=[n.i(f.default)(h.LegendEntryRole,null,null,b,A,O,S)],_.title&&(M=n.i(c.default)(e,E,j.title,b),O.update.y.offset={field:{group:"titlePadding"},offset:a(t,M.encode,"fontSize",v.GuideTitleStyle)},S.push(M)),w=n.i(f.default)(h.LegendRole,N,C,b,A,T,S),e.zindex&&(w.zindex=e.zindex),n.i(d.default)(w,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),i=n(20),a=n(26),o=n(0);t.default=function(e,t,u){var s,l,c,f,d;return e?(s=e.facet)&&(t||n.i(o.error)("Only group marks can be faceted."),null!=s.field?f=d=n.i(i.ref)(u.getData(s.data).output):(e.data?d=n.i(i.ref)(u.getData(e.data).aggregate):(c=n.i(r.default)(n.i(o.extend)({type:"aggregate",groupby:n.i(o.array)(s.groupby)},s.aggregate),u),c.params.key=u.keyRef(s.groupby),c.params.pulse=n.i(i.ref)(u.getData(s.data).output),f=d=n.i(i.ref)(u.add(c))),l=u.keyRef(s.groupby,!0))):f=n.i(i.ref)(u.add(n.i(a.Collect)(null,[{}]))),f||(f=e.$ref?e:n.i(i.ref)(u.getData(e.data).output)),{key:l,pulse:f,parent:d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(358);t.default=function(e){return{clip:e.clip||!1,interactive:!1!==e.interactive,marktype:e.type,name:e.name||void 0,role:e.role||n.i(r.default)(e),zindex:+e.zindex||void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(132),i=n(93),a=n(20),o=n(26),u=n(0);t.default=function(e,t,s){var l,c,f,d,h=e.from.facet,p=h.name,v=n.i(a.ref)(t.getData(h.data).output);h.name||n.i(u.error)("Facet must have a name: "+n.i(u.stringValue)(h)),h.data||n.i(u.error)("Facet must reference a data set: "+n.i(u.stringValue)(h)),h.field?d=t.add(n.i(o.PreFacet)({field:t.fieldRef(h.field),pulse:v})):h.groupby?d=t.add(n.i(o.Facet)({key:t.keyRef(h.groupby),group:n.i(a.ref)(t.proxy(s.parent)),pulse:v})):n.i(u.error)("Facet must specify groupby or field: "+n.i(u.stringValue)(h)),l=t.fork(),c=l.add(n.i(o.Collect)()),f=l.add(n.i(o.Sieve)({pulse:n.i(a.ref)(c)})),l.addData(p,new i.default(l,c,c,f)),l.addSignal("parent",null),d.params.subflow={$subflow:n.i(r.default)(e,l).toRuntime()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(132),i=n(26);t.default=function(e,t,a){var o=t.add(n.i(i.PreFacet)({pulse:a.pulse})),u=t.fork();u.add(n.i(i.Sieve)()),u.addSignal("parent",null),o.params.subflow={$subflow:n.i(r.default)(e,u).toRuntime()}}},function(e,t,n){"use strict";function r(e){return+e||0}function i(e){return{top:e,bottom:e,left:e,right:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e,t){return e=e||t.padding,n.i(a.isObject)(e)?{top:r(e.top),bottom:r(e.bottom),left:r(e.left),right:r(e.right)}:i(r(e))}},function(e,t,n){"use strict";function r(e,t){return n.i(i.isArray)(e)?e.map(function(e){return r(e,t)}):n.i(i.isObject)(e)?e.signal?t.signalRef(e.signal):n.i(i.error)("Unsupported parameter object: "+n.i(i.stringValue)(e)):e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=function(e,t){var n={};for(var i in e)"name"!==i&&(n[i]=r(e[i],t));t.addProjection(e.name,n)}},function(e,t,n){"use strict";function r(e){return E.hasOwnProperty(e)}function i(e){return"quantile"===e}function a(e,t){var r=e.type||"linear";k.hasOwnProperty(r)||n.i(O.error)("Unrecognized scale type: "+n.i(O.stringValue)(r)),t.addScale(e.name,{type:r,domain:void 0})}function o(e,t){var n,r=t.getScale(e.name).params;r.domain=c(e.domain,e,t),null!=e.range&&(r.range=x(e,t,r)),null!=e.interpolate&&b(e.interpolate,r),null!=e.nice&&_(e.nice,r);for(n in e)r.hasOwnProperty(n)||"name"===n||(r[n]=u(e[n],t))}function u(e,t){return n.i(O.isObject)(e)?e.signal?t.signalRef(e.signal):n.i(O.error)("Unsupported object: "+n.i(O.stringValue)(e)):e}function s(e,t){return e.signal?t.signalRef(e.signal):e.map(function(e){return u(e,t)})}function l(e){n.i(O.error)("Can not find data set: "+n.i(O.stringValue)(e))}function c(e,t,r){return e?e.signal?r.signalRef(e.signal):(n.i(O.isArray)(e)?f:e.fields?h:d)(e,t,r):void(null==t.domainMin&&null==t.domainMax||n.i(O.error)("No scale domain defined for domainMin/domainMax to override."))}function f(e,t,n){return e.map(function(e){return u(e,n)})}function d(e,t,n){var a=n.getData(e.data);return a||l(e.data),r(t.type)?a.valuesRef(n,e.field,m(e.sort,!1)):i(t.type)?a.domainRef(n,e.field):a.extentRef(n,e.field)}function h(e,t,a){var o=e.data,u=e.fields.reduce(function(e,t){return t=n.i(O.isString)(t)?{data:o,field:t}:n.i(O.isArray)(t)||t.signal?p(t,a):t,e.push(t),e},[]);return(r(t.type)?v:i(t.type)?g:y)(e,a,u)}function p(e,t){var r="_:vega:_"+P++,i=n.i(M.Collect)({});return n.i(O.isArray)(e)?i.value={$ingest:e}:e.signal&&t.signalRef("setdata("+n.i(O.stringValue)(r)+","+e.signal+")"),t.addDataPipeline(r,[i,n.i(M.Sieve)({})]),{data:r,field:"data"}}function v(e,t,r){var i,a,o,u;return i=r.map(function(e){var n=t.getData(e.data);return n||l(e.data),n.countsRef(t,e.field)}),a=t.add(n.i(M.Aggregate)({groupby:w.keyFieldRef,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:i})),o=t.add(n.i(M.Collect)({pulse:n.i(w.ref)(a)})),u=t.add(n.i(M.Values)({field:w.keyFieldRef,sort:t.sortRef(m(e.sort,!0)),pulse:n.i(w.ref)(o)})),n.i(w.ref)(u)}function m(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field?n.i(O.error)("Multiple domain scales can not sort by field."):t&&e.op&&"count"!==e.op&&n.i(O.error)("Multiple domain scales support op count only."):n.i(O.error)("No field provided for sort aggregate op: "+e.op):n.i(O.isObject)(e)?e.field="key":e={field:"key"}),e}function g(e,t,r){var i=r.map(function(e){var n=t.getData(e.data);return n||l(e.data),n.domainRef(t,e.field)});return n.i(w.ref)(t.add(n.i(M.MultiValues)({values:i})))}function y(e,t,r){var i=r.map(function(e){var n=t.getData(e.data);return n||l(e.data),n.extentRef(t,e.field)});return n.i(w.ref)(t.add(n.i(M.MultiExtent)({extents:i})))}function _(e,t){t.nice=n.i(O.isObject)(e)?{interval:u(e.interval),step:u(e.step)}:u(e)}function b(e,t){t.interpolate=u(e.type||e),null!=e.gamma&&(t.interpolateGamma=u(e.gamma))}function x(e,t,i){var a=e.range,o=t.config.range;if(a.signal)return t.signalRef(a.signal);if(n.i(O.isString)(a)){if(o&&o.hasOwnProperty(a))return e=n.i(O.extend)({},e,{range:o[a]}),x(e,t,i);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=r(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:n.i(O.error)("Unrecognized scale range value: "+n.i(O.stringValue)(a))}else{if(a.scheme)return i.scheme=u(a.scheme,t),a.extent&&(i.schemeExtent=s(a.extent,t)),void(a.count&&(i.schemeCount=u(a.count,t)));if(a.step)return void(i.rangeStep=u(a.step,t));if(r(e.type)&&!n.i(O.isArray)(a))return c(a,e,t);n.i(O.isArray)(a)||n.i(O.error)("Unsupported range type: "+n.i(O.stringValue)(a))}return a.map(function(e){return u(e,t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.isOrdinal=r,t.isQuantile=i,t.initScale=a,t.parseScale=o;var w=n(20),M=n(26),O=n(0),P=0,S=["identity","ordinal","band","point","bin-linear","bin-ordinal","linear","pow","sqrt","log","sequential","time","utc","quantize","quantile","threshold"],k=n.i(O.toSet)(S),E=n.i(O.toSet)(S.slice(1,6))},function(e,t,n){"use strict";function r(e,t,r,o){var c,f,h,p,v,m,g=e.text,y=e.orient||t.orient,_=e.anchor||t.anchor,b=y===i.Left||y===i.Top?-1:1,x=y===i.Top||y===i.Bottom,w={group:x?"width":"height"},M={};return M.enter=c={opacity:{value:0}},n.i(l.addEncode)(c,"fill",t.color),n.i(l.addEncode)(c,"font",t.font),n.i(l.addEncode)(c,"fontSize",t.fontSize),n.i(l.addEncode)(c,"fontWeight",t.fontWeight),M.exit={opacity:{value:0}},M.update=f={opacity:{value:1},text:n.i(d.isObject)(g)?g:{value:g+""},offset:n.i(l.encoder)((null!=e.offset?e.offset:t.offset)||0)},"start"===_?(v=0,m="left"):"end"===_?(v=1,m="right"):(v=.5,m="center"),h={field:w,mult:v},p=b<0?{value:0}:x?{field:{group:"height"}}:{field:{group:"width"}},x?(f.x=h,f.y=p,f.angle={value:0},f.baseline={value:y===i.Top?"bottom":"top"}):(f.x=p,f.y=h,f.angle={value:90*b},f.baseline={value:"bottom"}),f.align={value:m},f.limit={field:w},n.i(l.addEncode)(f,"angle",t.angle),n.i(l.addEncode)(f,"baseline",t.baseline),n.i(l.addEncode)(f,"limit",t.limit),n.i(a.default)(u.TextMark,s.TitleRole,e.style||i.GroupTitleStyle,null,o,M,r)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),a=n(32),o=n(131),u=n(19),s=n(12),l=n(13),c=n(20),f=n(26),d=n(0);t.default=function(e,t){e=n.i(d.isString)(e)?{text:e}:e;var i,a,u,s=t.config.title,l=n.i(d.extend)({},e.encode);return i={orient:null!=e.orient?e.orient:s.orient},a=n.i(c.ref)(t.add(n.i(f.Collect)(null,[i]))),l.name=e.name,l.interactive=e.interactive,u=r(e,s,l,a),e.zindex&&(u.zindex=e.zindex),n.i(o.default)(u,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),i=n(360),a=n(115),o=n(0),u="var datum=event.item&&event.item.datum;";t.default=function(e,t,s){var l,c=e.events,f=e.update,d=e.encode,h=[],p="";c||n.i(o.error)("Signal update missing events specification."),n.i(o.isString)(c)&&(c=n.i(a.selector)(c)),c=n.i(o.array)(c).filter(function(e){return e.signal||e.scale?(h.push(e),0):1}),c.length&&h.push(c.length>1?{merge:c}:c[0]),null!=d&&(f&&n.i(o.error)("Signal encode and update are mutually exclusive."),f="encode(item(),"+n.i(o.stringValue)(d)+")"),p=n.i(o.isString)(f)?n.i(r.default)(f,t,u):null!=f.expr?n.i(r.default)(f.expr,t,u):null!=f.value?f.value:null!=f.signal?{$expr:"_.value",$params:{value:t.signalRef(f.signal)}}:n.i(o.error)("Invalid signal update specification."),l={target:s,update:p},e.force&&(l.options={force:!0}),h.forEach(function(e){e={source:n.i(i.default)(e,t)},t.addUpdate(n.i(o.extend)(e,l))})}},function(e,t,n){"use strict";function r(e,t){var r,m,g,y,_,b=t.config;return t.background=e.background||b.background,t.eventConfig=b.events,_=n.i(f.ref)(t.root=t.add(n.i(f.operator)())),t.addSignal("width",e.width||0),t.addSignal("height",e.height||0),t.addSignal("padding",n.i(a.default)(e.padding,b)),t.addSignal("autosize",n.i(i.default)(e.autosize,b)),n.i(p.array)(e.signals).forEach(function(e){v[e.name]||n.i(o.default)(e,t)}),m=t.add(n.i(h.Collect)()),g=n.i(s.extendEncode)({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),g=t.add(n.i(h.Encode)(n.i(s.encoders)(g,l.GroupMark,c.FrameRole,e.style,t,{pulse:n.i(f.ref)(m)}))),y=t.add(n.i(h.ViewLayout)({layout:t.objectProperty(e.layout),legendMargin:b.legendMargin,autosize:t.signalRef("autosize"),mark:_,pulse:n.i(f.ref)(g)})),t.operators.pop(),t.pushState(n.i(f.ref)(g),n.i(f.ref)(y),null),n.i(u.default)(e,t,!0),t.operators.push(y),r=t.add(n.i(h.Bound)({mark:_,pulse:n.i(f.ref)(y)})),r=t.add(n.i(h.Render)({pulse:n.i(f.ref)(r)})),r=t.add(n.i(h.Sieve)({pulse:n.i(f.ref)(r)})),t.addData("root",new d.default(t,m,m,r)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(868),a=n(908),o=n(209),u=n(132),s=n(13),l=n(19),c=n(12),f=n(20),d=n(93),h=n(26),p=n(0),v=n.i(p.toSet)(["width","height","padding","autosize"])},function(e,t,n){"use strict";function r(e,t){return function r(){var i=t();return i.type=e,i.path=n.i(o.geoPath)().projection(i),i.copy=i.copy||function(){var e=r();return s.forEach(function(t){i.hasOwnProperty(t)&&e[t](i[t]())}),e.path.pointRadius(i.path.pointRadius()),e},i}}function i(e,t){return arguments.length>1?(l[e]=r(e,t),this):l.hasOwnProperty(e)?l[e]:null}function a(e){return e&&e.path||u}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"projectionProperties",function(){return s}),t.projection=i,t.getProjectionPath=a;var o=n(246),u=n.i(o.geoPath)(),s=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],l={albers:o.geoAlbers,albersusa:o.geoAlbersUsa,azimuthalequalarea:o.geoAzimuthalEqualArea,azimuthalequidistant:o.geoAzimuthalEquidistant,conicconformal:o.geoConicConformal,conicequalarea:o.geoConicEqualArea,conicequidistant:o.geoConicEquidistant,equirectangular:o.geoEquirectangular,gnomonic:o.geoGnomonic,mercator:o.geoMercator,orthographic:o.geoOrthographic,stereographic:o.geoStereographic,transversemercator:o.geoTransverseMercator};for(var c in l)i(c,l[c])},function(e,t,n){"use strict";function r(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function i(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(917),o=n(365);t.default=function(e,t,n){return new r(e,t,n)},r.prototype=i.prototype={fork:function(){var e=new i(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var r,i=this,a=i.dataflow;if(i.set(e.id,t),n.i(o.isCollect)(e.type)&&(r=e.value)&&(r.$ingest?a.ingest(t,r.$ingest,r.$format):r.$request?a.request(t,r.$request,r.$format):a.pulse(t,a.changeset().insert(r))),e.root&&(i.root=t),e.parent){var u=i.get(e.parent.$ref);u?(a.connect(u,[t]),t.targets().add(u)):(i.unresolved=i.unresolved||[]).push(function(){u=i.get(e.parent.$ref),a.connect(u,[t]),t.targets().add(u)})}if(e.signal&&(i.signals[e.signal]=t),e.scale&&(i.scales[e.scale]=t),e.data)for(var s in e.data)r=i.data[s]||(i.data[s]={}),e.data[s].forEach(function(e){r[e]=t})},resolve:function(){return(this.unresolved||[]).forEach(function(e){e()}),delete this.unresolved,this},operator:function(e,t,n){this.add(e,this.dataflow.add(e.value,t,n,e.react))},transform:function(e,t,r){this.add(e,this.dataflow.add(this.transforms[n.i(o.canonicalType)(t)],r))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:a.getState,setState:a.setState}},function(e,t,n){"use strict";function r(e,t){var r,i;e.params&&((r=t.get(e.id))||n.i(u.error)("Invalid operator id: "+e.id),i=n.i(a.default)(e.params,t),t.dataflow.connect(r,r.parameters(i)))}Object.defineProperty(t,"__esModule",{value:!0}),t.parseOperatorParameters=r;var i=n(94),a=n(364),o=n(365),u=n(0);t.default=function(e,t){n.i(o.isOperator)(e.type)||!e.type?t.operator(e,e.update?n.i(i.operatorExpression)(e.update,t):null):t.transform(e,e.type)}},function(e,t,n){"use strict";function r(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(function(t){return t.getState(e)})),n}function i(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(function(e){n.update(t.signals[e],i[e],o)}),Object.keys(r||{}).forEach(function(e){n.pulse(t.data[e].input,n.changeset().remove(a.truthy).insert(r[e]))}),(e.subcontext||[]).forEach(function(e,n){var r=t.subcontext[n];r&&r.setState(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getState=r,t.setState=i;var a=n(0),o={skip:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94),i=n(0);t.default=function(e,t){var a,o=null!=e.filter?n.i(r.eventExpression)(e.filter,t):void 0,u=null!=e.stream?t.get(e.stream):void 0;e.source?u=t.events(e.source,e.type,o):e.merge&&(a=e.merge.map(t.get.bind(t)),u=a[0].merge.apply(a[0],a.slice(1))),e.between&&(a=e.between.map(t.get.bind(t)),u=u.between(a[0],a[1])),e.filter&&(u=u.filter(o)),null!=e.throttle&&(u=u.throttle(+e.throttle)),null!=e.debounce&&(u=u.debounce(+e.debounce)),null==u&&n.i(i.error)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&u.consume(!0),t.stream(e,u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94),i=n(364),a=n(0);t.default=function(e,t){var o=t.get(e.source),u=null,s=e.update,l=void 0;o||n.i(a.error)("Source not defined: "+e.source),u=e.target&&e.target.$expr?n.i(r.eventExpression)(e.target.$expr,t):t.get(e.target),s&&s.$expr&&(s.$params&&(l=n.i(i.default)(s.$params,t)),s=n.i(r.handlerExpression)(s.$expr,t)),t.update(e,o,u,s,l)}},function(e,t,n){"use strict";function r(e,t){var r=t[0],i=n.i(s.peek)(t)-r;return function(t){return e(r+t*i)}}function i(e,t,r){var i=r-t;return i?"linear"===e.type||"sequential"===e.type?function(e){return(e-t)/i}:e.copy().domain([t,r]).range([0,1]).interpolate(a):n.i(s.constant)(0)}function a(e,t){var n=t-e;return function(t){return e+t*n}}function o(e,t){var n=l[u(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function u(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.interpolateRange=r,t.scaleFraction=i,t.interpolate=o;var s=n(0),l=n(27)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n,r,i,a,o=e.range(),u=t[0],s=t[1],l=-1;for(s<u&&(r=u,u=s,s=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=s&&(l<0&&(l=i),n=i);if(!(l<0))return u=e.invertExtent(o[l]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}},function(e,t,n){"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"tableau10",function(){return i}),n.d(t,"tableau20",function(){return a}),n.d(t,"blueOrange",function(){return o});var i=r("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),a=r("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),o=new Array(3).concat("67a9cff7f7f7f1a340","0571b092c5defdb863e66101","0571b092c5def7f7f7fdb863e66101","2166ac67a9cfd1e5f0fee0b6f1a340b35806","2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806","2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806","2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806","0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08","0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(r)},function(e,t,n){"use strict";function r(){function e(){var e=l().length,r=f[1]<f[0],a=f[r-0],s=f[1-r],m=n.i(o.default)(e,h,p);t=(s-a)/(m||1),d&&(t=Math.floor(t)),a+=(s-a-t*(e-h))*v,i=t*(1-h),d&&(a=Math.round(a),i=Math.round(i));var g=n.i(u.range)(e).map(function(e){return a+t*e});return c(r?g.reverse():g)}var t,i,a=n.i(s.scaleOrdinal)().unknown(void 0),l=a.domain,c=a.range,f=[0,1],d=!1,h=0,p=0,v=.5;return delete a.unknown,a.domain=function(t){return arguments.length?(l(t),e()):l()},a.range=function(t){return arguments.length?(f=[+t[0],+t[1]],e()):f.slice()},a.rangeRound=function(t){return f=[+t[0],+t[1]],d=!0,e()},a.bandwidth=function(){return i},a.step=function(){return t},a.round=function(t){return arguments.length?(d=!!t,e()):d},a.padding=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),h=p,e()):h},a.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},a.paddingOuter=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},a.align=function(t){return arguments.length?(v=Math.max(0,Math.min(1,t)),e()):v},a.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var t,r,a,o=+e[0],s=+e[1],d=f[1]<f[0],h=d?c().reverse():c(),p=h.length-1;if(o===o&&s===s&&(s<o&&(a=o,o=s,s=a),!(s<h[0]||o>f[1-d])))return t=Math.max(0,n.i(u.bisectRight)(h,o)-1),r=o===s?t:n.i(u.bisectRight)(h,s)-1,o-h[t]>i+1e-10&&++t,d&&(a=t,t=p-r,r=p-a),t>r?void 0:l().slice(t,r+1)}},a.invert=function(e){var t=a.invertRange([e,e]);return t?t[0]:t},a.copy=function(){return r().domain(l()).range(f).round(d).paddingInner(h).paddingOuter(p).align(v)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return i(t())},e}function a(){return i(r().paddingInner(1))}Object.defineProperty(t,"__esModule",{value:!0}),t.band=r,t.point=a;var o=n(366),u=n(8),s=n(69)},function(e,t,n){"use strict";function r(e){return l.call(e,function(e){return+e})}function i(){function e(e){return a(e)}function t(e){o=r(e),a.domain([o[0],n.i(s.peek)(o)])}var a=n.i(u.scaleLinear)(),o=[];return e.domain=function(n){return arguments.length?(t(n),e):o.slice()},e.range=function(t){return arguments.length?(a.range(t),e):a.range()},e.rangeRound=function(t){return arguments.length?(a.rangeRound(t),e):a.rangeRound()},e.interpolate=function(t){return arguments.length?(a.interpolate(t),e):a.interpolate()},e.invert=function(e){return a.invert(e)},e.ticks=function(t){var n=o.length,r=~~(n/(t||n));return r<2?e.domain():o.filter(function(e,t){return!(t%r)})},e.tickFormat=function(){return a.tickFormat.apply(a,arguments)},e.copy=function(){return i().domain(e.domain()).range(e.range())},e}function a(){function e(e){return null==e||e!==e?void 0:i[(n.i(o.bisect)(t,e)-1)%i.length]}var t=[],i=[];return e.domain=function(n){return arguments.length?(t=r(n),e):t.slice()},e.range=function(t){return arguments.length?(i=c.call(t),e):i.slice()},e.copy=function(){return a().domain(e.domain()).range(e.range())},e}Object.defineProperty(t,"__esModule",{value:!0}),t.binLinear=i,t.binOrdinal=a;var o=n(8),u=n(69),s=n(0),l=Array.prototype.map,c=Array.prototype.slice},function(e,t,n){"use strict";function r(e){function t(){var e=u.domain();s=e[0],l=n.i(i.peek)(e)-s}function o(t){var n=(t-s)/l;return e(c?Math.max(0,Math.min(1,n)):n)}var u=n.i(a.scaleLinear)(),s=0,l=1,c=!1;return o.clamp=function(e){return arguments.length?(c=!!e,o):c},o.domain=function(e){return arguments.length?(u.domain(e),t(),o):u.domain()},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return r().domain(u.domain()).clamp(c).interpolator(e)},o.ticks=function(e){return u.ticks(e)},o.tickFormat=function(e,t){return u.tickFormat(e,t)},o.nice=function(e){return u.nice(e),t(),o},o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(0),a=n(69)},function(e,t,n){"use strict";function r(e,t){return function(){var r=t();return r.invertRange||(r.invertRange=r.invert?n.i(a.default)(r):r.invertExtent?n.i(o.default)(r):void 0),r.type=e,r}}function i(e,t){return arguments.length>1?(f[e]=r(e,t),this):f.hasOwnProperty(e)?f[e]:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(921),o=n(922),u=n(924),s=n(925),l=n(926),c=n(69),f={identity:c.scaleIdentity,linear:c.scaleLinear,log:c.scaleLog,ordinal:c.scaleOrdinal,pow:c.scalePow,sqrt:c.scaleSqrt,quantile:c.scaleQuantile,quantize:c.scaleQuantize,threshold:c.scaleThreshold,time:c.scaleTime,utc:c.scaleUtc,band:u.band,point:u.point,sequential:l.default,"bin-linear":s.binLinear,"bin-ordinal":s.binOrdinal};for(var d in f)i(d,f[d])},function(e,t,n){"use strict";function r(e,t){c[e]=o["interpolate"+t],l[e]=o["scheme"+t]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(923),a=n(69),o=n(592),u=n(27),s=n(0),l={blueorange:i.blueOrange},c={category10:a.schemeCategory10,category20:a.schemeCategory20,category20b:a.schemeCategory20b,category20c:a.schemeCategory20c,accent:o.schemeAccent,dark2:o.schemeDark2,paired:o.schemePaired,pastel1:o.schemePastel1,pastel2:o.schemePastel2,set1:o.schemeSet1,set2:o.schemeSet2,set3:o.schemeSet3,tableau10:i.tableau10,tableau20:i.tableau20,viridis:a.interpolateViridis,magma:a.interpolateMagma,inferno:a.interpolateInferno,plasma:a.interpolatePlasma,blueorange:n.i(u.interpolateRgbBasis)(n.i(s.peek)(i.blueOrange))};r("blues","Blues"),r("greens","Greens"),r("greys","Greys"),r("purples","Purples"),r("reds","Reds"),r("oranges","Oranges"),r("brownbluegreen","BrBG"),r("purplegreen","PRGn"),r("pinkyellowgreen","PiYG"),r("purpleorange","PuOr"),r("redblue","RdBu"),r("redgrey","RdGy"),r("redyellowblue","RdYlBu"),r("redyellowgreen","RdYlGn"),r("spectral","Spectral"),r("bluegreen","BuGn"),r("bluepurple","BuPu"),r("greenblue","GnBu"),r("orangered","OrRd"),r("purplebluegreen","PuBuGn"),r("purpleblue","PuBu"),r("purplered","PuRd"),r("redpurple","RdPu"),r("yellowgreenblue","YlGnBu"),r("yellowgreen","YlGn"),r("yelloworangebrown","YlOrBr"),r("yelloworangered","YlOrRd"),t.default=function(e,t){if(arguments.length>1)return c[e]=t,this;var n=e.split("-");return e=n[0],n=+n[1]+1,n&&l.hasOwnProperty(e)?l[e][n-1]:!n&&c.hasOwnProperty(e)?c[e]:void 0}},function(e,t,n){"use strict";function r(e){return o.hasOwnProperty(e)&&o[e]}function i(e){return u.hasOwnProperty(e)&&u[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.timeInterval=r,t.utcInterval=i;var a=n(53),o={millisecond:a.timeMillisecond,second:a.timeSecond,minute:a.timeMinute,hour:a.timeHour,day:a.timeDay,week:a.timeWeek,month:a.timeMonth,year:a.timeYear},u={millisecond:a.utcMillisecond,second:a.utcSecond,minute:a.utcMinute,hour:a.utcHour,day:a.utcDay,week:a.utcWeek,month:a.utcMonth,year:a.utcYear}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(e,t){var n,i=[];return n={id:"gradient_"+r++,x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(e,t){return i.push({offset:e,color:t}),n}}}},function(e,t,n){"use strict";function r(e){arguments.length?this.root=n.i(u.sceneFromJSON)(e):(this.root=i({marktype:"group",name:"root",role:"frame"}),this.root.items=[new o.default(this.root)])}function i(e,t){return{bounds:new a.default,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(59),o=n(369),u=n(383),s=r.prototype;s.toJSON=function(e){return n.i(u.sceneToJSON)(this.root,e||0)},s.mark=function(e,t,n){t=t||this.root.items[0];var r=i(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(212);t.default=n.i(i.default)("arc",r.arc)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(213);t.default=n.i(i.default)("area",r.area)},function(e,t,n){"use strict";function r(e,t){e("transform",n.i(m.default)(t))}function i(e,t){var r=t.stroke?g:0;e("class","background"),e("d",n.i(c.rectangle)(null,t,r,r))}function a(e,t,r){e("clip-path",t.clip?n.i(v.default)(r,t,t):null)}function o(e,t){if(!t.clip&&t.items)for(var r=t.items,i=0,a=r.length;i<a;++i)e.union(r[i].bounds);return(t.clip||t.width||t.height)&&n.i(f.default)(e.add(0,0).add(t.width||0,t.height||0),t),e.translate(t.x||0,t.y||0)}function u(e,t,r){var i=this;n.i(d.visit)(t,function(t){var a,o,u=t.x||0,s=t.y||0,l=t.width||0,f=t.height||0;e.save(),e.translate(u,s),(t.stroke||t.fill)&&(o=null==t.opacity?1:t.opacity)>0&&(e.beginPath(),a=t.stroke?g:0,n.i(c.rectangle)(e,t,a,a),t.fill&&n.i(p.default)(e,t,o)&&e.fill(),t.stroke&&n.i(h.default)(e,t,o)&&e.stroke()),t.clip&&(e.beginPath(),e.rect(0,0,l,f),e.clip()),r&&r.translate(-u,-s),n.i(d.visit)(t,function(t){i.draw(e,t,r)}),r&&r.translate(u,s),e.restore()})}function s(e,t,r,i,a,o){if(t.bounds&&!t.bounds.contains(a,o)||!t.items)return null;var u=this;return n.i(d.pickVisit)(t,function(s){var c,f,h,p;if(!(p=s.bounds)||p.contains(a,o))return f=s.x||0,h=s.y||0,e.save(),e.translate(f,h),f=a-f,h=o-h,c=n.i(d.pickVisit)(s,function(e){return l(e,f,h)?u.pick(e,r,i,f,h):null}),e.restore(),c||(c=!1!==t.interactive&&(s.fill||s.stroke)&&f>=0&&f<=s.width&&h>=0&&h<=s.height,c?s:null)})}function l(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(44),f=n(60),d=n(41),h=n(139),p=n(215),v=n(140),m=n(141),g=.5;t.default={type:"group",tag:"g",nested:!1,attr:r,bound:o,draw:u,pick:s,background:i,foreground:a}},function(e,t,n){"use strict";function r(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then(function(t){e.image=t,e.image.url=e.url})),n}function i(e,t){return"center"===e?t/2:"right"===e?t:0}function a(e,t){return"middle"===e?t/2:"bottom"===e?t:0}function o(e,t,o){var u=r(t,o),s=t.x||0,l=t.y||0,c=(null!=t.width?t.width:u.width)||0,d=(null!=t.height?t.height:u.height)||0,h=!1===t.aspect?"none":"xMidYMid";s-=i(t.align,c),l-=a(t.baseline,d),e("href",u.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",n.i(f.default)(s,l)),e("width",c),e("height",d),e("preserveAspectRatio",h)}function u(e,t){var n=t.image,r=t.x||0,o=t.y||0,u=(null!=t.width?t.width:n&&n.width)||0,s=(null!=t.height?t.height:n&&n.height)||0;return r-=i(t.align,u),o-=a(t.baseline,s),e.set(r,o,r+u,o+s)}function s(e,t,o){var u=this;n.i(l.visit)(t,function(t){if(!o||o.intersects(t.bounds)){var n,s,l,c,f=r(t,u),d=t.x||0,h=t.y||0,p=(null!=t.width?t.width:f.width)||0,v=(null!=t.height?t.height:f.height)||0;d-=i(t.align,p),h-=a(t.baseline,v),!1!==t.aspect&&(s=f.width/f.height,l=t.width/t.height,s===s&&l===l&&s!==l&&(l<s?(c=p/s,h+=(v-c)/2,v=c):(c=v*s,d+=(p-c)/2,p=c))),f.loaded&&(e.globalAlpha=null!=(n=t.opacity)?n:1,e.drawImage(f,d,h,p,v))}})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(41),c=n(62),f=n(216);t.default={type:"image",tag:"image",nested:!1,attr:o,bound:u,draw:s,pick:n.i(c.pick)(),get:r,xOffset:i,yOffset:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(213);t.default=n.i(i.default)("line",r.line)},function(e,t,n){"use strict";function r(e,t){e("transform",n.i(d.default)(t)),e("d",t.path)}function i(e,t){var r=t.path;if(null==r)return!0;var i=t.pathCache;i&&i.path===r||((t.pathCache=i=n.i(s.default)(r)).path=r),n.i(l.default)(e,i,t.x,t.y)}function a(e,t){return i(n.i(u.default)(e),t)?e.set(0,0,0,0):n.i(o.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),u=n(135),s=n(136),l=n(214),c=n(138),f=n(62),d=n(141);t.default={type:"path",tag:"path",nested:!1,attr:r,bound:a,draw:n.i(c.drawAll)(i),pick:n.i(f.pickPath)(i)}},function(e,t,n){"use strict";function r(e,t){e("d",n.i(u.rectangle)(null,t))}function i(e,t){var r,i;return n.i(o.default)(e.set(r=t.x||0,i=t.y||0,r+t.width||0,i+t.height||0),t)}function a(e,t){e.beginPath(),n.i(u.rectangle)(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),u=n(44),s=n(138),l=n(62);t.default={type:"rect",tag:"path",nested:!1,attr:r,bound:i,draw:n.i(s.drawAll)(a),pick:n.i(l.pickPath)(a)}},function(e,t,n){"use strict";function r(e,t){e("transform",n.i(d.default)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)}function i(e,t){var r,i;return n.i(s.default)(e.set(r=t.x||0,i=t.y||0,null!=t.x2?t.x2:r,null!=t.y2?t.y2:i),t)}function a(e,t,r){var i,a,o,u;return!(!t.stroke||!n.i(f.default)(e,t,r))&&(i=t.x||0,a=t.y||0,o=null!=t.x2?t.x2:i,u=null!=t.y2?t.y2:a,e.beginPath(),e.moveTo(i,a),e.lineTo(o,u),!0)}function o(e,t,r){n.i(l.visit)(t,function(t){if(!r||r.intersects(t.bounds)){var n=null==t.opacity?1:t.opacity;n&&a(e,t,n)&&e.stroke()}})}function u(e,t,n,r){return!!e.isPointInStroke&&(a(e,t,1)&&e.isPointInStroke(n,r))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(60),l=n(41),c=n(62),f=n(139),d=n(141);t.default={type:"rule",tag:"line",nested:!1,attr:r,bound:i,draw:o,pick:n.i(c.pick)(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(212);t.default=n.i(i.default)("shape",r.shape)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(212);t.default=n.i(i.default)("symbol",r.symbol)},function(e,t,n){"use strict";function r(e,t){var r,i=t.dx||0,a=(t.dy||0)+n.i(s.offset)(t),o=t.x||0,u=t.y||0,l=t.angle||0,c=t.radius||0;c&&(r=(t.theta||0)-Math.PI/2,o+=c*Math.cos(r),u+=c*Math.sin(r)),e("text-anchor",p[t.align]||"start"),l?(r=n.i(h.default)(o,u)+" rotate("+l+")",(i||a)&&(r+=" "+n.i(h.default)(i,a))):r=n.i(h.default)(o+i,u+a),e("transform",r)}function i(e,t,r){var i,a,o=s.textMetrics.height(t),u=t.align,l=t.radius||0,c=t.x||0,f=t.y||0,d=t.dx||0,h=(t.dy||0)+n.i(s.offset)(t)-Math.round(.8*o);return l&&(a=(t.theta||0)-Math.PI/2,c+=l*Math.cos(a),f+=l*Math.sin(a)),i=s.textMetrics.width(t),"center"===u?d-=i/2:"right"===u&&(d-=i),e.set(d+=c,h+=f,d+i,h+o),t.angle&&!r&&e.rotate(t.angle*Math.PI/180,c,f),e.expand(r||!i?0:1)}function a(e,t,r){n.i(l.visit)(t,function(t){var i,a,o,u,l,f;r&&!r.intersects(t.bounds)||(f=n.i(s.textValue)(t))&&0!==(i=null==t.opacity?1:t.opacity)&&(e.font=n.i(s.font)(t),e.textAlign=t.align||"left",a=t.x||0,o=t.y||0,(u=t.radius)&&(l=(t.theta||0)-Math.PI/2,a+=u*Math.cos(l),o+=u*Math.sin(l)),t.angle&&(e.save(),e.translate(a,o),e.rotate(t.angle*Math.PI/180),a=o=0),a+=t.dx||0,o+=(t.dy||0)+n.i(s.offset)(t),t.fill&&n.i(c.default)(e,t,i)&&e.fillText(f,a,o),t.stroke&&n.i(d.default)(e,t,i)&&e.strokeText(f,a,o),t.angle&&e.restore())})}function o(e,t,n,r,a,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var u=i(v,t,!0),s=-t.angle*Math.PI/180,l=Math.cos(s),c=Math.sin(s),f=t.x,d=t.y,h=l*a-c*o+(f-f*l+d*c),p=c*a+l*o+(d-f*c-d*l);return u.contains(h,p)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(59),s=n(142),l=n(41),c=n(215),f=n(62),d=n(139),h=n(216),p={left:"start",center:"middle",right:"end"},v=new u.default;t.default={type:"text",tag:"text",nested:!1,attr:r,bound:i,draw:a,pick:n.i(f.pick)(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(213);t.default=n.i(i.default)("trail",r.trail)},function(e,t,n){"use strict";function r(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(c[e]=t,this):c[e]}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"RenderType",function(){return l}),t.renderModule=r;var i=n(367),a=n(368),o=n(372),u=n(373),s=n(374),l={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},c={};c.canvas=c.png={renderer:a.default,headless:a.default,handler:i.default},c.svg={renderer:u.default,headless:s.default,handler:o.default},c.none={}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,l,c){var f=u.call(arguments);if(a[f])return a[f];var d=s*(Math.PI/180),h=Math.sin(d),p=Math.cos(d);n=Math.abs(n),r=Math.abs(r);var v=p*(l-e)*.5+h*(c-t)*.5,m=p*(c-t)*.5-h*(l-e)*.5,g=v*v/(n*n)+m*m/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);var y=p/n,_=h/n,b=-h/r,x=p/r,w=y*l+_*c,M=b*l+x*c,O=y*e+_*t,P=b*e+x*t,S=(O-w)*(O-w)+(P-M)*(P-M),k=1/S-.25;k<0&&(k=0);var E=Math.sqrt(k);o==i&&(E=-E);var j=.5*(w+O)-E*(P-M),T=.5*(M+P)+E*(O-w),C=Math.atan2(M-T,w-j),A=Math.atan2(P-T,O-j),N=A-C;N<0&&1===o?N+=2*Math.PI:N>0&&0===o&&(N-=2*Math.PI);for(var R=Math.ceil(Math.abs(N/(.5*Math.PI+.001))),D=[],L=0;L<R;++L){var I=C+L*N/R,z=C+(L+1)*N/R;D[L]=[j,T,I,z,n,r,h,p]}return a[f]=D}function i(e){var t=u.call(e);if(o[t])return o[t];var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=e[6],f=e[7],d=f*s,h=-c*l,p=c*s,v=f*l,m=Math.cos(i),g=Math.sin(i),y=Math.cos(a),_=Math.sin(a),b=.5*(a-i),x=Math.sin(.5*b),w=8/3*x*x/Math.sin(b),M=n+m-w*g,O=r+g+w*m,P=n+y,S=r+_,k=P+w*_,E=S-w*y;return o[t]=[d*M+h*O,p*M+v*O,d*k+h*E,p*k+v*E,d*P+h*S,p*P+v*S]}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"segmentCache",function(){return a}),n.d(t,"bezierCache",function(){return o}),t.segments=r,t.bezier=i;var a={},o={},u=[].join},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.group;e.save(),e.beginPath(),e.rect(0,0,n.width||0,n.height||0),e.clip()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=n.width(),i=n.height(),a=n.x1+t.x1*r,o=n.y1+t.y1*i,u=n.x1+t.x2*r,s=n.y1+t.y2*i,l=t.stops,c=0,f=l.length,d=e.createLinearGradient(a,o,u,s);c<f;++c)d.addColorStop(l[c].offset,l[c].color);return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);t.default="undefined"!=typeof Image?Image:r.Canvas&&r.Canvas.Image||null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"devicePixelRatio",function(){return r});var r="undefined"!=typeof window?window.devicePixelRatio||1:1;t.default=function(e,t,n,i){var a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,o=e.getContext("2d"),u=a?r:1;return e.width=t*u,e.height=n*u,1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=u,o.setTransform(u,0,0,u,u*i[0],u*i[1]),e}},function(e,t,n){"use strict";function r(e,t,r){return e===t||("path"===r?i(e,t):e instanceof Date&&t instanceof Date?+e==+t:n.i(u.isNumber)(e)&&n.i(u.isNumber)(t)?Math.abs(e-t)<=s:e&&t&&(n.i(u.isObject)(e)||n.i(u.isObject)(t))?null!=e&&null!=t&&a(e,t):e==t)}function i(e,t){return r(n.i(o.default)(e),n.i(o.default)(t))}function a(e,t){var n,i,a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(a.sort(),o.sort(),i=a.length-1;i>=0;i--)if(a[i]!=o[i])return!1;for(i=a.length-1;i>=0;i--)if(n=a[i],!r(e[n],t[n],n))return!1;return typeof e==typeof t}Object.defineProperty(t,"__esModule",{value:!0}),t.sceneEqual=r,t.pathEqual=i;var o=n(136),u=n(0),s=1e-9},function(e,t,n){"use strict";function r(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,n=t.exec(e).slice(1,3);return{library:n[0],version:n[1]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r,i,a,o,u,s,l=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],v=p-h;if(e.step)t=e.step;else if(e.steps){for(a=v/l,o=0,u=e.steps.length;o<u&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(l)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(v)/f)-n));Math.ceil(v/t)>l;)t*=c;for(o=0,u=d.length;o<u;++o)(a=t/d[o])>=r&&v/a<=l&&(t=a)}return a=Math.log(t),i=a>=0?0:1+~~(-a/f),s=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(a=Math.floor(h/t+s)*t,h=h<a?a-t:a,p=Math.ceil(p/t)*t),{start:h,stop:p,step:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(387),i=n(64),a=n(8);t.default=function(e,t,o,u){var s,l,c,f,d=n.i(r.default)(e,u),h=d.length,p=t;for(c=0,f=Array(p);c<p;++c){for(s=0,l=0;l<h;++l)s+=d[~~(n.i(i.random)()*h)];f[c]=s/h}return[n.i(a.quantile)(f.sort(a.ascending),o/2),n.i(a.quantile)(f,1-o/2)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);t.default=function(e,t){null==t&&(t=e,e=0);var i,a,o,u={};return u.min=function(e){return arguments.length?(i=e||0,o=a-i,u):i},u.max=function(e){return arguments.length?(a=e||0,o=a-i,u):a},u.sample=function(){return i+Math.floor(o*n.i(r.random)())},u.pdf=function(e){return e===Math.floor(e)&&e>=i&&e<a?1/o:0},u.cdf=function(e){var t=Math.floor(e);return t<i?0:t>=a?1:(t-i+1)/o},u.icdf=function(e){return e>=0&&e<=1?i-1+Math.floor(e*o):NaN},u.min(e).max(t)}},function(e,t,n){"use strict";function r(e){var t=e.length,r=n.i(a.default)(e),i=(r[2]-r[0])/1.34;return 1.06*Math.min(Math.sqrt(n.i(u.variance)(e)),i)*Math.pow(t,-.2)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(386),a=n(388),o=n(64),u=n(8);t.default=function(e,t){var a=n.i(i.default)(),u={},s=0;return u.data=function(n){return arguments.length?(e=n,s=n?n.length:0,u.bandwidth(t)):e},u.bandwidth=function(n){return arguments.length?(t=n,!t&&e&&(t=r(e)),u):t},u.sample=function(){return e[~~(n.i(o.random)()*s)]+t*a.sample()},u.pdf=function(n){for(var r=0,i=0;i<s;++i)r+=a.pdf((n-e[i])/t);return r/t/s},u.cdf=function(n){for(var r=0,i=0;i<s;++i)r+=a.cdf((n-e[i])/t);return r/s},u.icdf=function(){throw Error("KDE icdf not supported.")},u.data(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);t.default=function(e,t){function i(e){var t,n=[],r=0;for(t=0;t<u;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<u;++t)n[t]/=r;return n}var a,o={},u=0;return o.weights=function(e){return arguments.length?(a=i(t=e||[]),o):t},o.distributions=function(n){return arguments.length?(n?(u=n.length,e=n):(u=0,e=[]),o.weights(t)):e},o.sample=function(){for(var t=n.i(r.random)(),i=e[u-1],o=a[0],s=0;s<u-1;o+=a[++s])if(t<o){i=e[s];break}return i.sample()},o.pdf=function(t){for(var n=0,r=0;r<u;++r)n+=a[r]*e[r].pdf(t);return n},o.cdf=function(t){for(var n=0,r=0;r<u;++r)n+=a[r]*e[r].cdf(t);return n},o.icdf=function(){throw Error("Mixture icdf not supported.")},o.distributions(e).weights(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);t.default=function(e,t){null==t&&(t=null==e?1:e,e=0);var i,a,o,u={};return u.min=function(e){return arguments.length?(i=e||0,o=a-i,u):i},u.max=function(e){return arguments.length?(a=e||0,o=a-i,u):a},u.sample=function(){return i+o*n.i(r.random)()},u.pdf=function(e){return e>=i&&e<=a?1/o:0},u.cdf=function(e){return e<i?0:e>a?1:(e-i)/o},u.icdf=function(e){return e>=0&&e<=1?i+e*o:NaN},u.min(e).max(t)}},function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&null!==e&&t)switch(t){case"time":return n?l.timeFormat(n)(e):o(e);case"number":return n?u.format(n)(e):a(e);case"string":default:return e}}function i(e){return"number"==typeof e?a(e):e instanceof Date?o(e):e}function a(e){return e%1==0?u.format(",")(e):u.format(",.2f")(e)}function o(e){var t=l.timeFormat(".%L"),n=l.timeFormat(":%S"),r=l.timeFormat("%I:%M"),i=l.timeFormat("%I %p"),a=l.timeFormat("%a %d"),o=l.timeFormat("%b %d"),u=l.timeFormat("%B"),c=l.timeFormat("%Y");return(s.timeSecond(e)<e?t:s.timeMinute(e)<e?n:s.timeHour(e)<e?r:s.timeDay(e)<e?i:s.timeMonth(e)<e?s.timeWeek(e)<e?a:o:s.timeYear(e)<e?u:c)(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(47),s=n(53),l=n(52);t.customFormat=r,t.autoFormat=i,t.autoNumberFormat=a,t.autoTimeFormat=o},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={showAllFields:!0}),a(e,f(t)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function i(e,t,n){return void 0===n&&(n={showAllFields:!0}),n=v.supplementOptions(f(n),t),a(e,n),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function a(e,t){e.addEventListener("mouseover.tooltipInit",function(e,n){c(n)&&(o(),g=window.setTimeout(function(){u(e,n,t)},t.delay||h.DELAY))}),e.addEventListener("mousemove.tooltipUpdate",function(e,n){c(n)&&y&&s(e,n,t)}),e.addEventListener("mouseout.tooltipRemove",function(e,n){c(n)&&(o(),y&&l(e,n,t))})}function o(){window.clearTimeout(g),g=void 0}function u(e,t,n){var r=m.getTooltipPlaceholder(),i=p.getTooltipData(t,n);i&&0!==i.length&&(m.bindData(r,i),m.updatePosition(e,n),m.updateColorTheme(n),d.select("#vis-tooltip").style("visibility","visible"),y=!0,n.onAppear&&n.onAppear(e,t))}function s(e,t,n){c(t)&&(m.updatePosition(e,n),n.onMove&&n.onMove(e,t))}function l(e,t,n){c(t)&&(d.select("#vis-tooltip").style("visibility","hidden"),y=!1,m.clearData(),m.clearColorTheme(),m.clearPosition(),n.onDisappear&&n.onDisappear(e,t))}function c(e){return!(!e||!e.datum)&&!e.datum._facetID}function f(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=n(21),h=n(960),p=n(961),v=n(962),m=n(963),g=void 0,y=!1;t.vega=r,t.vegaLite=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELAY=100},function(e,t,n){"use strict";function r(e,t){if("group"!==e.mark.marktype){var n={};for(var r in e.datum)e.datum.hasOwnProperty(r)&&(n[r]=e.datum[r]);return u(n,["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"]),s(n,t.fields),l(n,t.fields),c(e.mark.marktype,n),!0===t.showAllFields?o(n,t):i(n,t)}}function i(e,t){var n=[];return t.fields.forEach(function(t){var r=t.title?t.title:t.field,i=a(e,t.field);if(void 0!==i){var o=f.customFormat(i,t.formatType,t.format)||f.autoFormat(i);n.push({title:r,value:o})}}),n}function a(e,t){var n,r=t.split("."),i=r[0];return r.shift(),e[i]&&(n=e[i],r.forEach(function(e){n=n,n[e]&&(n=n[e])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+t+" in data."):n}function o(e,t){var n=[],r={};if(t&&t.fields)for(var i=0,a=t.fields;i<a.length;i++){var o=a[i];r[o.field]=o}for(var u in e)if(e.hasOwnProperty(u)){var s=e[u],l=void 0;l=r[u]&&r[u].title?r[u].title:u;var c=void 0,d=void 0;r[u]&&(c=r[u].formatType,d=r[u].format);var h=f.customFormat(s,c,d)||f.autoFormat(s);n.push({title:l,value:h})}return n}function u(e,t){t.forEach(function(t){delete e[t]})}function s(e,t){t&&t.forEach(function(t){t.removeOriginalTemporalField&&u(e,[t.removeOriginalTemporalField])})}function l(e,t){if(t)return t.forEach(function(t){if(!0===t.bin){var n=t.field,r=n.concat("_start"),i=n.concat("_mid"),a=n.concat("_end"),o=e[r],s=e[a];if(void 0!==o&&void 0!==s){var l=o+"-"+s;e[n]=l}var c=[];c.push(r,i,a),u(e,c)}}),e}function c(e,t){if("line"===e||"area"===e){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i instanceof Date&&n.push(r)}u(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(958);t.getTooltipData=r,t.prepareCustomFieldsData=i,t.getValue=a,t.prepareAllFieldsData=o,t.removeFields=u,t.removeDuplicateTimeFields=s,t.combineBinFields=l,t.dropFieldsForLineArea=c},function(e,t,n){"use strict";function r(e,t){var n=[];return!1!==e.showAllFields?s.spec.fieldDefs(t).forEach(function(r){var a=i(e.fields,r),u=o(a,r,t);n.push(u)}):e.fields&&e.fields.forEach(function(e){var r=a(s.spec.fieldDefs(t),e),i=o(e,r,t);n.push(i)}),e.fields=n,e}function i(e,t){if(t&&e&&!(e.length<=0))if(t.aggregate){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field&&i.aggregate===t.aggregate)return i}for(var a=0,o=e;a<o.length;a++){var i=o[a];if(i.field===t.field&&!i.aggregate)return i}}else for(var u=0,s=e;u<s.length;u++){var i=s[u];if(i.field===t.field)return i}}function a(e,t){if(t&&t.field&&e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field){if(!i.aggregate)return i;if(i.aggregate===t.aggregate||!t.aggregate)return i}}}function o(e,t,n){var r=u({},n.config);if(!e&&!t)return void console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.");!e&&t&&(e={}),e&&!t&&(t={});var i={};if(i.field=t.field?s.fieldDef.field(t):e.field,t.type===l.TEMPORAL&&t.timeUnit){var a=t.field;i.removeOriginalTemporalField=a;for(var o=s.spec.fieldDefs(n),f=0,d=o;f<d.length;f++){var h=d[f];if(h.field===a&&!h.timeUnit){i.removeOriginalTemporalField=void 0;break}}}if(r.countTitle||(r.countTitle=s.config.defaultConfig.countTitle),i.title=e.title?e.title:s.fieldDef.title(t,r),i.formatType=e.formatType?e.formatType:c[t.type],e.format)i.format=e.format;else switch(i.formatType){case"time":i.format=t.timeUnit?s.timeUnit.formatExpression(t.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||s.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat}return t.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(344),l=n(40),c={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};t.supplementOptions=r,t.getFieldOption=i,t.getFieldDef=a,t.supplementFieldOption=o},function(e,t,n){"use strict";function r(){return c.select("#vis-tooltip").empty()?c.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):c.select("#vis-tooltip")}function i(e,t){e.selectAll("table").remove();var n=e.append("table").selectAll(".tooltip-row").data(t);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(e){return e.title+":"}),r.append("td").attr("class","value").text(function(e){return e.value})}function a(){c.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function o(e,t){var n=10,r=10;t&&t.offset&&void 0!==t.offset.x&&null!==t.offset.x&&(n=t.offset.x),t&&t.offset&&void 0!==t.offset.y&&null!==t.offset.y&&(r=t.offset.y),c.select("#vis-tooltip").style("top",function(){var t=this.getBoundingClientRect().height;return e.clientY+t+r<window.innerHeight?e.clientY+r+"px":e.clientY-t-r+"px"}).style("left",function(){var t=this.getBoundingClientRect().width;return e.clientX+t+n<window.innerWidth?e.clientX+n+"px":e.clientX-t-n+"px"})}function u(){c.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function s(e){l(),e&&"dark"===e.colorTheme?c.select("#vis-tooltip").classed("dark-theme",!0):c.select("#vis-tooltip").classed("light-theme",!0)}function l(){c.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(21);t.getTooltipPlaceholder=r,t.bindData=i,t.clearData=a,t.updatePosition=o,t.clearPosition=u,t.updateColorTheme=s,t.clearColorTheme=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(389);n.d(t,"aggregate",function(){return r.default});var i=n(965);n.d(t,"bin",function(){return i.default});var a=n(966);n.d(t,"collect",function(){return a.default});var o=n(967);n.d(t,"compare",function(){return o.default});var u=n(968);n.d(t,"countpattern",function(){return u.default});var s=n(969);n.d(t,"cross",function(){return s.default});var l=n(970);n.d(t,"density",function(){return l.default});var c=n(971);n.d(t,"extent",function(){return c.default});var f=n(390);n.d(t,"facet",function(){return f.default});var d=n(972);n.d(t,"field",function(){return d.default});var h=n(973);n.d(t,"filter",function(){return h.default});var p=n(974);n.d(t,"fold",function(){return p.default});var v=n(975);n.d(t,"formula",function(){return v.default});var m=n(976);n.d(t,"generate",function(){return m.default});var g=n(977);n.d(t,"impute",function(){return g.default});var y=n(978);n.d(t,"joinaggregate",function(){return y.default});var _=n(979);n.d(t,"key",function(){return _.default});var b=n(980);n.d(t,"lookup",function(){return b.default});var x=n(981);n.d(t,"multiextent",function(){return x.default});var w=n(982);n.d(t,"multivalues",function(){return w.default});var M=n(983);n.d(t,"params",function(){return M.default});var O=n(984);n.d(t,"prefacet",function(){return O.default});var P=n(985);n.d(t,"project",function(){return P.default});var S=n(986);n.d(t,"proxy",function(){return S.default});var k=n(987);n.d(t,"relay",function(){return k.default});var E=n(988);n.d(t,"sample",function(){return E.default});var j=n(989);n.d(t,"sequence",function(){return j.default});var T=n(990);n.d(t,"sieve",function(){return T.default});var C=n(391);n.d(t,"subflow",function(){return C.default});var A=n(991);n.d(t,"tupleindex",function(){return A.default});var N=n(992);n.d(t,"values",function(){return N.default});var R=n(993);n.d(t,"window",function(){return R.default})},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(63),o=n(0);r.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var u=n.i(o.inherits)(r,i.Transform);u.transform=function(e,t){var r,i=this._bins(e),a=i.start,u=i.step,s=e.as||["bin0","bin1"],l=s[0],c=s[1];return e.modified()?(t=t.reflow(!0),r=t.SOURCE):r=t.modified(n.i(o.accessorFields)(e.field))?t.ADD_MOD:t.ADD,t.visit(r,function(e){var t=i(e);e[l]=t,e[c]=null==t?null:a+u*(1+(t-a)/u)}),t.modifies(s)},u._bins=function(e){if(this.value&&!e.modified())return this.value;var t,r,i=e.field,u=n.i(a.bin)(e),s=u.start,l=u.stop,c=u.step;null!=(t=e.anchor)&&(r=t-(s+c*Math.floor((t-s)/c)),s+=r,l+=r);var f=function(e){var t=i(e);return null==t?null:(t=Math.max(s,Math.min(+t,l-c)),s+c*Math.floor((t-s)/c))};return f.start=s,f.stop=l,f.step=c,this.value=n.i(o.accessor)(f,n.i(o.accessorFields)(i),e.name||"bin_"+n.i(o.accessorName)(i))}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,[],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(393),a=n(1),o=n(0);r.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){var r=t.fork(t.ALL),o=n.i(i.default)(a.tupleid,this.value,r.materialize(r.ADD).add),u=e.sort,s=t.changed()||u&&(e.modified("sort")||t.modified(u.fields));return r.visit(r.REM,o.remove),this.modified(s),this.value=r.source=o.data(u,s),r}},function(e,t,n){"use strict";function r(e){a.Operator.call(this,null,i,e)}function i(e){return this.value&&!e.modified()?this.value:n.i(o.compare)(e.fields,e.orders)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);n.i(o.inherits)(r,a.Operator)},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);r.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var u=n.i(o.inherits)(r,a.Transform);u.transform=function(e,t){function n(t){return function(n){for(var r,a=i(s(n),e.case,o)||[],l=0,c=a.length;l<c;++l)u.test(r=a[l])||t(r)}}var r=this._parameterCheck(e,t),a=this._counts,o=this._match,u=this._stop,s=e.field,l=e.as||["text","count"],c=n(function(e){a[e]=1+(a[e]||0)}),f=n(function(e){a[e]-=1});return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,l)},u._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},u._finish=function(e,t){var r,i,o,u=this._counts,s=this._tuples||(this._tuples={}),l=t[0],c=t[1],f=e.fork();for(r in u)i=s[r],o=u[r]||0,!i&&o?(s[r]=i=n.i(a.ingest)({}),i[l]=r,i[c]=o,f.add.push(i)):0===o?(i&&f.rem.push(i),u[r]=null,s[r]=null):i[c]!==o&&(i[c]=o,f.mod.push(i));return f.modifies(t)}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e,t,r,i){for(var o,u,s=[],l={},c=e.length,f=0;f<c;++f)for(l[t]=u=e[f],o=0;o<c;++o)l[r]=e[o],i(l)&&(s.push(n.i(a.ingest)(l)),l={},l[t]=u);return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);r.Definition={type:"Cross",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,a=e.as||["a","b"],u=a[0],s=a[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),n.add=this.value=i(t.source,u,s,e.filter||o.truthy)):n.mod=r,n.source=this.value,n.modifies(a)}},function(e,t,n){"use strict";function r(e){o.Transform.call(this,null,e)}function i(e){return function(){return e.materialize(e.SOURCE).source}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(994),o=n(1),u=n(0),s=n(8),l=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],c={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:l},{name:"weights",type:"number",array:!0}]};r.Definition={type:"Density",metadata:{generates:!0,source:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:l.concat(c)},{name:"as",type:"string",array:!0,default:["value","density"]}]},n.i(u.inherits)(r,o.Transform).transform=function(e,t){var r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var l=n.i(a.default)(e.distribution,i(t)),c=e.method||"pdf";"pdf"!==c&&"cdf"!==c&&n.i(u.error)("Invalid density method: "+c),e.extent||l.data||n.i(u.error)("Missing density extent parameter."),c=l[c];var f=e.as||["value","density"],d=e.extent||n.i(s.extent)(l.data()),h=(d[1]-d[0])/(e.steps||100),p=n.i(s.range)(d[0],d[1]+h/2,h).map(function(e){var t={};return t[f[0]]=e,t[f[1]]=c(e),n.i(o.ingest)(t)});this.value&&(r.rem=this.value),this.value=r.add=r.source=p}return r}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,[1/0,-1/0],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1],u=t.ADD;n=t.changed()||t.modified(i.fields)||e.modified("field"),n&&(u=t.SOURCE,a=1/0,o=-1/0),t.visit(u,function(e){var t=i(e);null!=t&&(t<a&&(a=t),t>o&&(o=t))}),this.value=[a,o]}},function(e,t,n){"use strict";function r(e){a.Operator.call(this,null,i,e)}function i(e){return this.value&&!e.modified()?this.value:n.i(o.isArray)(e.name)?n.i(o.array)(e.name).map(function(e){return n.i(o.field)(e)}):n.i(o.field)(e.name,e.as)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);n.i(o.inherits)(r,a.Operator)},function(e,t,n){"use strict";function r(e){i.Transform.call(this,n.i(a.fastmap)(),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){function r(t){var r=n.i(i.tupleid)(t),a=f(t,e),u=o.get(r);a&&u?(o.delete(r),s.push(t)):a||u?d&&a&&!u&&c.push(t):(o.set(r,1),l.push(t))}var a=t.dataflow,o=this.value,u=t.fork(),s=u.add,l=u.rem,c=u.mod,f=e.expr,d=!0;return t.visit(t.REM,function(e){var t=n.i(i.tupleid)(e);o.has(t)?o.delete(t):l.push(e)}),t.visit(t.ADD,function(t){f(t,e)?s.push(t):o.set(n.i(i.tupleid)(t),1)}),t.visit(t.MOD,r),e.modified()&&(d=!1,t.visit(t.REFLOW,r)),o.empty>a.cleanThreshold&&a.runAfter(o.clean),u}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,{},e)}function i(e){return e.fields.join("|")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);r.Definition={type:"Fold",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){function r(e){for(var t,r=s[n.i(a.tupleid)(e)]=Array(v),i=0;i<v;++i)t=r[i]=n.i(a.derive)(e),t[d]=p[i],t[h]=c[i](e),g.add.push(t)}function o(e){for(var t,r=s[n.i(a.tupleid)(e)],i=0;i<v;++i)_&1<<i&&(t=n.i(a.rederive)(e,r[i],m),t[d]=p[i],t[h]=c[i](e),g.mod.push(t))}var u,s=this.value,l=e.modified("fields"),c=e.fields,f=e.as||["key","value"],d=f[0],h=f[1],p=c.map(i),v=c.length,m=t.stamp,g=t.fork(t.NO_SOURCE),y=0,_=0;if(l){for(u in s)g.rem.push.apply(g.rem,s[u]);s=this.value={},t.visit(t.SOURCE,r)}else{for(t.visit(t.ADD,r);y<v;++y)t.modified(c[y].fields)&&(_|=1<<y);_&&t.visit(t.MOD,o),t.visit(t.REM,function(e){var t=n.i(a.tupleid)(e);g.rem.push.apply(g.rem,s[t]),s[t]=null})}return g.modifies(f)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){function n(t){t[i]=r(t,e)}var r=e.expr,i=e.as,a=e.modified(),o=e.initonly?t.ADD:a?t.SOURCE:t.modified(r.fields)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,n)}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,[],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,a,o,u=this.value,s=t.fork(t.ALL),l=e.size-u.length,c=e.generator;if(l>0){for(r=[];--l>=0;)r.push(o=n.i(i.ingest)(c(e))),u.push(o);s.add=s.add.length?s.materialize(s.ADD).add.concat(r):r}else a=u.slice(0,-l),s.rem=s.rem.length?s.materialize(s.REM).rem.concat(a):a,u=u.slice(-l);return s.source=this.value=u,s}},function(e,t,n){"use strict";function r(e){u.Transform.call(this,[],e)}function i(e){var t,r=e.method||c.value;if(null!=c[r])return r===c.value?(t=void 0!==e.value?e.value:0,function(){return t}):c[r];n.i(s.error)("Unrecognized imputation method: "+r)}function a(e){var t=e.field;return function(e){return e?t(e):NaN}}function o(e,t,n,r){var i,a,o,u,s,l,c,d,h=function(e){return e(d)},p=[],v=r?r.slice():[],m={},g={};for(v.forEach(function(e,t){m[e]=t+1}),u=0,c=e.length;u<c;++u)d=e[u],l=n(d),s=m[l]||(m[l]=v.push(l)),a=(i=t?t.map(h):f)+"",(o=g[a])||(o=g[a]=[],p.push(o),o.values=i),o[s-1]=d;return p.domain=v,p}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(1),s=n(0),l=n(8),c={value:"value",median:l.median,mean:l.mean,min:l.min,max:l.max},f=[];r.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},n.i(s.inherits)(r,u.Transform).transform=function(e,t){var r,l,c,f,d,h,p,v,m,g,y=t.fork(t.ALL),_=i(e),b=a(e),x=n.i(s.accessorName)(e.field),w=n.i(s.accessorName)(e.key),M=(e.groupby||[]).map(s.accessorName),O=o(t.source,e.groupby,e.key,e.keyvals),P=[],S=this.value,k=O.domain.length;for(d=0,v=O.length;d<v;++d)for(r=O[d],c=r.values,l=NaN,p=0;p<k;++p)if(null==r[p]){for(f=O.domain[p],g={_impute:!0},h=0,m=c.length;h<m;++h)g[M[h]]=c[h];g[w]=f,g[x]=isNaN(l)?l=_(r,b):l,P.push(n.i(u.ingest)(g))}return P.length&&(y.add=y.materialize(y.ADD).add.concat(P)),S.length&&(y.rem=y.materialize(y.REM).rem.concat(S)),this.value=P,y}},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(389),a=n(143),o=n(0);r.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:a.ValidAggregateOps},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var u=n.i(o.inherits)(r,i.default);u.transform=function(e,t){var r,i=this,a=e.modified();return i.value&&(a||t.modified(i._inputs))?(r=i.value=a?i.init(e):{},t.visit(t.SOURCE,function(e){i.add(e)})):(r=i.value=i.value||this.init(e),t.visit(t.REM,function(e){i.rem(e)}),t.visit(t.ADD,function(e){i.add(e)})),i.changes(),t.visit(t.SOURCE,function(e){n.i(o.extend)(e,r[i.cellkey(e)].tuple)}),t.reflow(a).modifies(this._outputs)},u.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}},function(e,t,n){"use strict";function r(e){a.Operator.call(this,null,i,e)}function i(e){return this.value&&!e.modified()?this.value:n.i(o.key)(e.fields,e.flat)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);n.i(o.inherits)(r,a.Operator)},function(e,t,n){"use strict";function r(e){i.Transform.call(this,{},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);r.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,i,o,u=t,s=e.as,l=e.fields,c=e.index,f=e.values,d=null==e.default?null:e.default,h=e.modified(),p=h?t.SOURCE:t.ADD,v=l.length;return f?(i=f.length,v>1&&!s&&n.i(a.error)('Multi-field lookup requires explicit "as" parameter.'),s&&s.length!==v*i&&n.i(a.error)('The "as" parameter has too few output field names.'),s=s||f.map(a.accessorName),r=function(e){for(var t,n,r=0,a=0;r<v;++r)if(null==(n=c.get(l[r](e))))for(t=0;t<i;++t,++a)e[s[a]]=d;else for(t=0;t<i;++t,++a)e[s[a]]=f[t](n)}):(s||n.i(a.error)("Missing output field names."),r=function(e){for(var t,n=0;n<v;++n)t=c.get(l[n](e)),e[s[n]]=null==t?d:t}),h?u=t.reflow(!0):(o=l.some(function(e){return t.modified(e.fields)}),p|=o?t.MOD:0),t.visit(p,r),u.modifies(s)}},function(e,t,n){"use strict";function r(e){a.Operator.call(this,null,i,e)}function i(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,o=e.extents;for(t=0,n=o.length;t<n;++t)r=o[t],r[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);n.i(o.inherits)(r,a.Operator)},function(e,t,n){"use strict";function r(e){a.Operator.call(this,null,i,e)}function i(e){return this.value&&!e.modified()?this.value:e.values.reduce(function(e,t){return e.concat(t)},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0);n.i(o.inherits)(r,a.Operator)},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform),r.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";function r(e){i.default.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(390),a=n(1),o=n(0);n.i(o.inherits)(r,i.default).transform=function(e,t){var r=this,i=e.subflow,u=e.field;return(e.modified("field")||u&&t.modified(n.i(o.accessorFields)(u)))&&n.i(o.error)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,function(e){var o=r.subflow(n.i(a.tupleid)(e),i,t,e);u?u(e).forEach(function(e){o.mod(e)}):o.mod(e)}),t.visit(t.ADD,function(e){var o=r.subflow(n.i(a.tupleid)(e),i,t,e);u?u(e).forEach(function(e){o.add(n.i(a.ingest)(e))}):o.add(e)}),t.visit(t.REM,function(e){var o=r.subflow(n.i(a.tupleid)(e),i,t,e);u?u(e).forEach(function(e){o.rem(e)}):o.rem(e)}),t}},function(e,t,n){"use strict";function r(e){o.Transform.call(this,null,e)}function i(e,t){return e?e.map(function(e,r){return t[r]||n.i(u.accessorName)(e)}):null}function a(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),u=n(0);r.Definition={type:"Project",metadata:{generates:!0,changes:!0,modifies:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},n.i(u.inherits)(r,o.Transform).transform=function(e,t){var r,u,s=e.fields,l=i(e.fields,e.as||[]),c=s?function(e,t){return a(e,t,s,l)}:o.rederive;return this.value?u=this.value:(t=t.addAll(),u=this.value={}),r=t.fork(),t.visit(t.REM,function(e){var t=n.i(o.tupleid)(e);r.rem.push(u[t]),u[t]=null}),t.visit(t.ADD,function(e){var t=c(e,n.i(o.ingest)({}));u[n.i(o.tupleid)(e)]=t,r.add.push(t)}),t.visit(t.MOD,function(e){r.mod.push(c(e,u[n.i(o.tupleid)(e)]))}),r}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,a;return this.value?a=this.value:(r=t=t.addAll(),a=this.value={}),e.derive&&(r=t.fork(),t.visit(t.REM,function(e){var t=n.i(i.tupleid)(e);r.rem.push(a[t]),a[t]=null}),t.visit(t.ADD,function(e){var t=n.i(i.derive)(e);a[n.i(i.tupleid)(e)]=t,r.add.push(t)}),t.visit(t.MOD,function(e){r.mod.push(n.i(i.rederive)(e,a[n.i(i.tupleid)(e)]))})),r}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,[],e),this.count=0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(63),o=n(0);r.Definition={type:"Sample",metadata:{source:!0,changes:!0},params:[{name:"size",type:"number",default:1e3}]},n.i(o.inherits)(r,i.Transform).transform=function(e,t){function r(e){var t,r;l.length<s?l.push(e):(r=~~((c+1)*n.i(a.random)()))<l.length&&r>=f&&(t=l[r],d[n.i(i.tupleid)(t)]&&o.rem.push(t),l[r]=e),++c}var o=t.fork(),u=e.modified("size"),s=e.size,l=this.value,c=this.count,f=0,d=l.reduce(function(e,t){return e[n.i(i.tupleid)(t)]=1,e},{});if(t.rem.length&&(t.visit(t.REM,function(e){var t=n.i(i.tupleid)(e);d[t]&&(d[t]=-1,o.rem.push(e)),--c}),l=l.filter(function(e){return-1!==d[n.i(i.tupleid)(e)]})),(t.rem.length||u)&&l.length<s&&t.source&&(f=c=l.length,t.visit(t.SOURCE,function(e){d[n.i(i.tupleid)(e)]||r(e)}),f=-1),u&&l.length>s){for(var h=0,p=l.length-s;h<p;++h)d[n.i(i.tupleid)(l[h])]=-1,o.rem.push(l[h]);l=l.slice(p)}return t.mod.length&&t.visit(t.MOD,function(e){d[n.i(i.tupleid)(e)]&&o.mod.push(e)}),t.add.length&&t.visit(t.ADD,r),(t.add.length||f<0)&&(o.add=l.filter(function(e){return!d[n.i(i.tupleid)(e)]})),this.count=c,this.value=o.source=l,o}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n(8);r.Definition={type:"Sequence",metadata:{generates:!0,source:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1}],output:["value"]},n.i(a.inherits)(r,i.Transform).transform=function(e,t){if(!this.value||e.modified()){var r=t.materialize().fork(t.MOD);return r.rem=this.value?t.rem.concat(this.value):t.rem,r.source=this.value=n.i(o.range)(e.start,e.stop,e.step||1).map(i.ingest),r.add=t.add.concat(this.value),r}}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e),this.modified(!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,n.i(a.fastmap)(),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){function n(e){a.set(i(e),e)}var r=t.dataflow,i=e.field,a=this.value,o=!0;return e.modified("field")||t.modified(i.fields)?(a.clear(),t.visit(t.SOURCE,n)):t.changed()?(t.visit(t.REM,function(e){a.delete(i(e))}),t.visit(t.ADD,n)):o=!1,this.modified(o),a.empty>r.cleanThreshold&&r.runAfter(a.clean),t.fork()}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(e.sort):t.source).map(e.field))}},function(e,t,n){"use strict";function r(e){d.Transform.call(this,{},e),this._mlen=0,this._mods=[]}function i(e,t,r){var i=r.sort,u=i&&!r.ignorePeers,s=r.frame||[null,0],l=e.data(i),c=l.length,f=0,d=u?n.i(p.bisector)(i):null,v={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:i||n.i(h.constant)(-1)};for(t.init();f<c;++f)a(v,s,f,c),u&&o(v,d),t.update(v,l[f])}function a(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function o(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(392),s=n(143),l=n(393),c=n(395),f=n(995),d=n(1),h=n(0),p=n(8);r.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:c.ValidWindowOps.concat(s.ValidAggregateOps)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var v=n.i(h.inherits)(r,d.Transform);v.transform=function(e,t){function r(e){return s.group(d(e))}var a,o,s=this,l=s.state,c=e.modified();this.stamp=t.stamp,l&&!c||(l=s.state=new f.default(e));var d=n.i(u.groupkey)(e.groupby);for(c||t.modified(l.inputs)?(s.value={},t.visit(t.SOURCE,function(e){r(e).add(e)})):(t.visit(t.REM,function(e){r(e).remove(e)}),t.visit(t.ADD,function(e){r(e).add(e)})),a=0,o=s._mlen;a<o;++a)i(s._mods[a],l,e);return s._mlen=0,s._mods=[],t.reflow(c).modifies(l.outputs)},v.group=function(e){var t=this,r=t.value[e];return r||(r=t.value[e]=n.i(l.default)(d.tupleid),r.stamp=-1),r.stamp<t.stamp&&(r.stamp=t.stamp,t._mods[t._mlen++]=r),r}},function(e,t,n){"use strict";function r(e,t){var i=e[s];o.hasOwnProperty(i)||n.i(a.error)("Unknown distribution function: "+i);var c=o[i]();for(var f in e)f===l?c.data((e.from||t()).map(e[f])):f===u?c[f](e[f].map(function(e){return r(e,t)})):typeof c[f]===s&&c[f](e[f]);return c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(63),a=n(0),o={kde:i.randomKDE,mixture:i.randomMixture,normal:i.randomNormal,uniform:i.randomUniform},u="distributions",s="function",l="field"},function(e,t,n){"use strict";function r(e){function t(e){n.i(s.array)(n.i(s.accessorFields)(e)).forEach(function(e){p[e]=1})}var r=this,o=n.i(s.array)(e.ops),l=n.i(s.array)(e.fields),c=n.i(s.array)(e.params),f=n.i(s.array)(e.as),d=r.outputs=[],h=r.windows=[],p={},v={},m=!0,g=[],y=[];t(e.sort),o.forEach(function(e,r){var i=l[r],o=n.i(s.accessorName)(i),p=n.i(a.measureName)(e,o,f[r]);if(t(i),d.push(p),u.WindowOps.hasOwnProperty(e))h.push(n.i(u.WindowOp)(e,l[r],c[r],p));else{if(null==i&&"count"!==e&&n.i(s.error)("Null aggregate field specified."),"count"===e)return void g.push(p);m=!1;var _=v[o];_||(_=v[o]=[],_.field=i,y.push(_)),_.push(n.i(a.createMeasure)(e,p))}}),(g.length||y.length)&&(r.cell=i(y,g,m)),r.inputs=Object.keys(p)}function i(e,t,r){e=e.map(function(e){return n.i(a.compileMeasures)(e,e.field)});var i={num:0,agg:null,store:!1,count:t};if(!r)for(var u=e.length,s=i.agg=Array(u),l=0;l<u;++l)s[l]=new e[l](i);if(i.store)var c=i.data=new o.default;return i.add=function(e){if(i.num+=1,!r){c&&c.add(e);for(var t=0;t<u;++t)s[t].add(s[t].get(e),e)}},i.rem=function(e){if(i.num-=1,!r){c&&c.rem(e);for(var t=0;t<u;++t)s[t].rem(s[t].get(e),e)}},i.set=function(e){var n,a;for(c&&c.values(),n=0,a=t.length;n<a;++n)e[t[n]]=i.num;if(!r)for(n=0,a=s.length;n<a;++n)s[n].set(e)},i.init=function(){i.num=0,c&&c.reset();for(var e=0;e<u;++e)s[e].init()},i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(143),o=n(394),u=n(395),s=n(0),l=r.prototype;l.init=function(){this.windows.forEach(function(e){e.init()}),this.cell&&this.cell.init()},l.update=function(e,t){var n,r=this,i=r.cell,a=r.windows,o=e.data,u=a&&a.length;if(i){for(n=e.p0;n<e.i0;++n)i.rem(o[n]);for(n=e.p1;n<e.i1;++n)i.add(o[n]);i.set(t)}for(n=0;n<u;++n)a[n].update(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),i=n(218),a=n(220),o=n(144),u=n(145);t.default=function(e,t){var s,l,c,f,d,h,p,v,m,g=[],y=(e=n.i(i.default)(e)).map(function(e,t){return null==e?null:(g.push(t),n.i(a.default)(e)?e:n.i(o.default)(e).map(u.default).join("]["))}),_=g.length-1,b=n.i(i.default)(t),x="var u,v;return ";if(_<0)return null;for(l=0;l<=_;++l)s=g[l],c=y[s],n.i(a.default)(c)?(h="f"+s,f="(u=this."+h+"(a))",d="(v=this."+h+"(b))",(p=p||{})[h]=c):(f="(u=a["+c+"])",d="(v=b["+c+"])"),h="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==b[s]?(m=1,v=-1):(m=-1,v=1),x+="("+f+"<"+d+"||u==null)&&v!=null?"+v+":(u>v||v==null)&&u!=null?"+m+":"+h+"!==u&&v===v?"+v+":v!==v&&u===u?"+m+(s<_?":":":0");return c=Function("a","b",x+";"),p&&(c=c.bind(p)),e=e.reduce(function(e,t){return n.i(a.default)(t)?(n.i(r.accessorFields)(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),n.i(r.default)(c,Object.keys(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(220);t.default=function(e){return n.i(r.default)(e)?e:function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,i,a,o,u=-1,s=e.length;if(null==t){for(;++u<s;)if(null!=(r=e[u])&&r>=r){n=i=r;break}for(a=o=u;++u<s;)null!=(r=e[u])&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}else{for(;++u<s;)if(null!=(r=t(e[u],u,e))&&r>=r){n=i=r;break}for(a=o=u;++u<s;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}return[a,o]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=function(e){function t(e){return a.hasOwnProperty(e)&&a[e]!==r}var n,i,a={};return n={size:0,empty:0,object:a,has:t,get:function(e){return t(e)?a[e]:void 0},set:function(e,i){return t(e)||(++n.size,a[e]===r&&--n.empty),a[e]=i,this},delete:function(e){return t(e)&&(--n.size,++n.empty,a[e]=r),this},clear:function(){n.size=n.empty=0,n.object=a={}},test:function(e){return arguments.length?(i=e,n):i},clean:function(){var e,t,o={},u=0;for(e in a)(t=a[e])===r||i&&i(t)||(o[e]=t,++u);n.size=u,n.empty=0,n.object=a=o}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"boolean"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),i=n(218),a=n(144),o=n(145);t.default=function(e,t){e&&(e=t?n.i(i.default)(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):n.i(i.default)(e));var u=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?n.i(o.default)(e):n.i(a.default)(e).map(o.default).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return n.i(r.default)(u,e,"key")}},function(e,t,n){"use strict";function r(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"None",function(){return i}),n.d(t,"Error",function(){return a}),n.d(t,"Warn",function(){return o}),n.d(t,"Info",function(){return u}),n.d(t,"Debug",function(){return s});var i=0,a=1,o=2,u=3,s=4;t.default=function(e){var t=e||i;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=a&&r("error","ERROR",arguments),this},warn:function(){return t>=o&&r("warn","WARN",arguments),this},info:function(){return t>=u&&r("log","INFO",arguments),this},debug:function(){return t>=s&&r("log","DEBUG",arguments),this}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),u=0,s=0,l=0;u<i&&s<a;++l)o[l]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<i;++u,++l)o[l]=t[u];for(;s<a;++s,++l)o[l]=n[s];return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(404);t.default=function(e,t,i,a){var o=i||" ",u=e+"",s=t-u.length;return s<=0?u:"left"===a?n.i(r.default)(o,s)+u:"center"===a?n.i(r.default)(o,~~(s/2))+u+n.i(r.default)(o,Math.ceil(s/2)):u+n.i(r.default)(o,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}},function(e,t,n){"use strict";function r(e){return n.i(a.default)(e)?e:n.i(i.default)(e)?e:Date.parse(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(399),a=n(400);t.default=function(e,t){return t=t||r,null==e||""===e?null:t(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e||""===e?null:e+""}},function(e,t,n){"use strict";function r(e){return function(t){return e*Math.exp(t)}}function i(e){return function(t){return Math.log(e*t)}}function a(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function o(e,t,r,i){var a=r(e[0]),o=r(n.i(v.default)(e)),u=(o-a)*t;return[i(a-u),i(o-u)]}function u(e,t){return o(e,t,m.default,p.identity)}function s(e,t){var n=Math.sign(e[0]);return o(e,t,i(n),r(n))}function l(e,t,n){return o(e,t,a(n),a(1/n))}function c(e,t,r,i,a){var o=i(e[0]),u=i(n.i(v.default)(e)),s=null!=t?i(t):(o+u)/2;return[a(s+(o-s)*r),a(s+(u-s)*r)]}function f(e,t,n){return c(e,t,n,m.default,p.identity)}function d(e,t,n){var a=Math.sign(e[0]);return c(e,t,n,i(a),r(a))}function h(e,t,n,r){return c(e,t,n,a(r),a(1/r))}Object.defineProperty(t,"__esModule",{value:!0}),t.panLinear=u,t.panLog=s,t.panPow=l,t.zoomLinear=f,t.zoomLog=d,t.zoomPow=h;var p=n(396),v=n(403),m=n(405)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,u=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-u):"center"===n?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1017);n.d(t,"bound",function(){return r.default});var i=n(1018);n.d(t,"identifier",function(){return i.default});var a=n(1019);n.d(t,"mark",function(){return a.default});var o=n(1020);n.d(t,"overlap",function(){return o.default});var u=n(1021);n.d(t,"render",function(){return u.default});var s=n(1022);n.d(t,"viewlayout",function(){return s.default})},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e,t,n){return t(e.bounds.clear(),e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(23),u=n(0),s=n.i(u.inherits)(r,a.Transform),l=new o.Bounds;s.transform=function(e,t){var n,r=t.dataflow,a=e.mark,u=a.marktype,s=o.Marks[u],c=s.bound,f=a.clip,d=a.bounds;return s.nested?(a.items.length&&r.dirty(a.items[0]),d=i(a,c),a.items.forEach(function(e){e.bounds.clear().union(d)})):"group"===u||e.modified()?(t.visit(t.MOD,function(e){r.dirty(e)}),d.clear(),a.items.forEach(function(e){d.union(i(e,c))})):(n=t.changed(t.REM),t.visit(t.ADD,function(e){d.union(i(e,c))}),t.visit(t.MOD,function(e){n=n||d.alignsWith(e.bounds),r.dirty(e),d.union(i(e,c))}),n&&!f&&(d.clear(),a.items.forEach(function(e){d.union(e.bounds)}))),f&&d.intersect(l.set(0,0,a.group.width,a.group.height)),t.modifies("bounds")}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,0,e)}function i(e){var t=e._signals[u];return t||(e._signals[u]=t=e.add(0)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(0),u=":vega_identifier:";r.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},n.i(o.inherits)(r,a.Transform).transform=function(e,t){var n=i(t.dataflow),r=n.value,a=e.as;return t.visit(t.ADD,function(e){e[a]||(e[a]=++r)}),n.set(this.value=r),t}},function(e,t,n){"use strict";function r(e){a.Transform.call(this,null,e)}function i(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),o=n(23),u=n(0);n.i(u.inherits)(r,a.Transform).transform=function(e,t){var n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,i(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this,this.value=n);var r="group"===n.marktype?o.GroupItem:o.Item;return t.visit(t.ADD,function(e){r.call(e,n)}),n.items=t.source,t}},function(e,t,n){"use strict";function r(e){l.Transform.call(this,null,e)}function i(e,t){return!(e.x2-1<t.x1||e.x1+1>t.x2||e.y2-1<t.y1||e.y1+1>t.y2)}function a(e){for(var t,n=1,r=e.length,a=e[0].bounds;n<r;a=t,++n)if(i(a,t=e[n].bounds))return!0}function o(e){var t=e.bounds;return t.width()>1&&t.height()>1}function u(e,t,n){var r=e.range(),i=new c.Bounds;return t===s.Top||t===s.Bottom?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(406),l=n(1),c=n(23),f=n(0),d=n.i(f.inherits)(r,l.Transform),h={parity:function(e){return e.filter(function(e,t){return t%2?e.opacity=0:1})},greedy:function(e){var t;return e.filter(function(e,n){return n&&i(t.bounds,e.bounds)?e.opacity=0:(t=e,1)})}};d.transform=function(e,t){var r=h[e.method]||h.parity,i=t.materialize(t.SOURCE).source;if(i){e.sort&&(i=i.slice().sort(e.sort)),"greedy"===e.method&&(i=i.filter(o)),i.forEach(function(e){e.opacity=1});var s=i;if(s.length>=3&&a(s)){t=t.reflow(e.modified()).modifies("opacity");do{s=r(s)}while(s.length>=3&&a(s));s.length<3&&!n.i(f.peek)(i).opacity&&(s.length>1&&(n.i(f.peek)(s).opacity=0),n.i(f.peek)(i).opacity=1)}if(e.boundScale){var l=u(e.boundScale,e.boundOrient,e.boundTolerance);i.forEach(function(e){l(e)||(e.opacity=0)})}return t}}},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0);n.i(a.inherits)(r,i.Transform).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,function(e){n.dirty(e)}),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}},function(e,t,n){"use strict";function r(e){p.Transform.call(this,null,e)}function i(e,t,n){var r,i,a,u,d,p,m=t.items,y=Math.max(0,t.width||0),_=Math.max(0,t.height||0),b=(new v.Bounds).set(0,0,y,_),T=b.clone(),C=b.clone(),A=b.clone(),N=[];for(d=0,p=m.length;d<p;++d)switch(i=m[d],i.role){case x:T.union(u=s(e,i,y,_)),(o(i)?C:A).union(u);break;case w:r=i;break;case O:N.push(i);break;case M:case P:case S:case k:case E:case j:C.union(i.bounds),A.union(i.bounds);break;default:b.union(i.bounds)}if(r&&(T.union(u=l(e,r,T)),(o(r)?C:A).union(u)),N.length)for(a={left:0,right:0,top:0,bottom:0,margin:n.legendMargin||8},d=0,p=N.length;d<p;++d)if(u=c(e,N[d],a,C,A,y,_),n.autosize&&n.autosize.type===g){var R=N[d].items[0].datum.orient;R===h.Left||R===h.Right?b.add(u.x1,0).add(u.x2,0):R!==h.Top&&R!==h.Bottom||b.add(0,u.y1).add(0,u.y2)}else b.union(u);b.union(C).union(A).union(T),f(e,t,b,n)}function a(e,t,n){return e[t]===n?0:(e[t]=n,1)}function o(e){var t=e.items[0].datum.orient;return t===h.Left||t===h.Right}function u(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function s(e,t,r,i){var o,s,l=t.items[0],c=l.datum,f=c.orient,d=u(c),p=l.range,m=l.offset,g=l.position,y=l.minExtent,_=l.maxExtent,b=c.title&&l.items[d[2]].items[0],x=l.titlePadding,w=l.bounds,M=0,O=0;switch(C.clear().union(w),w.clear(),(o=d[0])>-1&&w.union(l.items[o].bounds),(o=d[1])>-1&&w.union(l.items[o].bounds),f){case h.Top:M=g||0,O=-m,s=Math.max(y,Math.min(_,-w.y1)),b&&(b.auto?(s+=x,b.y=-s,s+=b.bounds.height(),w.add(b.bounds.x1,0).add(b.bounds.x2,0)):w.union(b.bounds)),w.add(0,-s).add(p,0);break;case h.Left:M=-m,O=g||0,s=Math.max(y,Math.min(_,-w.x1)),b&&(b.auto?(s+=x,b.x=-s,s+=b.bounds.width(),w.add(0,b.bounds.y1).add(0,b.bounds.y2)):w.union(b.bounds)),w.add(-s,0).add(0,p);break;case h.Right:M=r+m,O=g||0,s=Math.max(y,Math.min(_,w.x2)),b&&(b.auto?(s+=x,b.x=s,s+=b.bounds.width(),w.add(0,b.bounds.y1).add(0,b.bounds.y2)):w.union(b.bounds)),w.add(0,0).add(s,p);break;case h.Bottom:M=g||0,O=i+m,s=Math.max(y,Math.min(_,w.y2)),b&&(b.auto?(s+=x,b.y=s,s+=b.bounds.height(),w.add(b.bounds.x1,0).add(b.bounds.x2,0)):w.union(b.bounds)),w.add(0,0).add(p,s);break;default:M=l.x,O=l.y}return n.i(v.boundStroke)(w.translate(M,O),l),a(l,"x",M+T)|a(l,"y",O+T)&&(l.bounds=C,e.dirty(l),l.bounds=w,e.dirty(l)),l.mark.bounds.clear().union(w)}function l(e,t,n){var r=t.items[0],i=r.datum,o=i.orient,u=r.offset,s=r.bounds,l=0,c=0;switch(C.clear().union(s),o){case h.Top:l=r.x,c=n.y1-u;break;case h.Left:l=n.x1-u,c=r.y;break;case h.Right:l=n.x2+u,c=r.y;break;case h.Bottom:l=r.x,c=n.y2+u;break;default:l=r.x,c=r.y}return s.translate(l-r.x,c-r.y),a(r,"x",l)|a(r,"y",c)&&(r.bounds=C,e.dirty(r),r.bounds=s,e.dirty(r)),t.bounds.clear().union(s)}function c(e,t,r,i,o,u,s){var l,c,f,d=t.items[0],p=d.datum,m=p.orient,g=d.offset,y=d.bounds,_=0,b=0;switch(m===h.Top||m===h.Bottom?(f=o,_=r[m]):m!==h.Left&&m!==h.Right||(f=i,b=r[m]),C.clear().union(y),y.clear(),d.items.forEach(function(e){y.union(e.bounds)}),l=Math.round(y.width())+2*d.padding-1,c=Math.round(y.height())+2*d.padding-1,m){case h.Left:_-=l+g-Math.floor(f.x1),r.left+=c+r.margin;break;case h.Right:_+=g+Math.ceil(f.x2),r.right+=c+r.margin;break;case h.Top:b-=c+g-Math.floor(f.y1),r.top+=l+r.margin;break;case h.Bottom:b+=g+Math.ceil(f.y2),r.bottom+=l+r.margin;break;case"top-left":_+=g,b+=g;break;case"top-right":_+=u-l-g,b+=g;break;case"bottom-left":_+=g,b+=s-c-g;break;case"bottom-right":_+=u-l-g,b+=s-c-g;break;default:_=d.x,b=d.y}return n.i(v.boundStroke)(y.set(_,b,_+l,b+c),d),a(d,"x",_)|a(d,"width",l)|a(d,"y",b)|a(d,"height",c)&&(d.bounds=C,e.dirty(d),d.bounds=y,e.dirty(d)),d.mark.bounds.clear().union(y)}function f(e,t,n,r){var i=r.autosize||{},a=i.type,o=e._width,u=e._height,s=e.padding();if(!(e._autosize<1)&&a){var l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,Math.ceil(n.x2-l)),d=Math.max(0,t.height||0),h=Math.max(0,Math.ceil(-n.y1)),p=Math.max(0,Math.ceil(n.y2-d));i.contains===b&&(o-=s.left+s.right,u-=s.top+s.bottom),a===_?(c=0,h=0,l=o,d=u):a===g?(l=Math.max(0,o-c-f),d=Math.max(0,u-h-p)):a===y&&(o=l+c+f,u=d+h+p),e._resizeView(o,u,l,d,[c,h],i.resize)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var d=n(1023),h=n(406),p=n(1),v=n(23),m=n(0),g="fit",y="pad",_="none",b="padding",x="axis",w="title",M="frame",O="legend",P="scope",S="row-header",k="row-footer",E="column-header",j="column-footer",T=.5,C=new v.Bounds;n.i(m.inherits)(r,p.Transform).transform=function(e,t){var r=t.dataflow;return e.mark.items.forEach(function(t){e.layout&&n.i(d.gridLayout)(r,t,e.layout),i(r,t,e)}),t}},function(e,t,n){"use strict";function r(e){for(var t,n,r=e.items,a=r.length,o=0,u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<a;++o)if(t=r[o],n=t.items,"group"===t.marktype)switch(t.role){case m:case g:break;case y:i(n,u.rowheaders);break;case _:i(n,u.rowfooters);break;case x:i(n,u.colheaders);break;case w:i(n,u.colfooters);break;case b:u.rowtitle=n[0];break;case M:u.coltitle=n[0];break;default:i(n,u.marks)}return u}function i(e,t){for(var n=0,r=e.length;n<r;++n)t.push(e[n])}function a(e){return{x1:0,y1:0,x2:e.width||0,y2:e.height||0}}function o(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function u(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function s(e,t){return e.bounds[t]}function l(e,t,r){var i=n.i(p.isObject)(e)?e[t]:e;return null!=i?i:void 0!==r?r:0}function c(e){return e<0?Math.ceil(-e):0}function f(e,t,n){function i(e,t){return Math.floor(Math.min(e,t))}function f(e,t){return Math.ceil(Math.max(e,t))}var p,m,g,y,_,b,x,w,M,O,P,S,k,E=r(t,n),j=E.marks,T="flush"===n.bounds,C=T?a:o,A=new v.Bounds(0,0,0,0),N=l(n.align,"column"),R=l(n.align,"row"),D=l(n.padding,"column"),L=l(n.padding,"row"),I=n.offset,z=t.columns||n.columns||j.length,F=z<0?1:Math.ceil(j.length/z),q=F*z,U=[],B=[],V=[],H=[],Y=j.length;for(m=0;m<z;++m)B[m]=0;for(m=0;m<F;++m)H[m]=0;for(m=0;m<Y;++m)_=C(j[m]),g=m%z,y=~~(m/z),x=g?Math.ceil(C(j[m-1]).x2):0,w=y?Math.ceil(C(j[m-z]).y2):0,B[g]=Math.max(B[g],x),H[y]=Math.max(H[y],w),U.push(D+c(_.x1)),V.push(L+c(_.y1)),e.dirty(j[m]);for(m=0;m<Y;++m)m%z==0&&(U[m]=0),m<z&&(V[m]=0);if("each"===N)for(g=1;g<z;++g){for(k=0,m=g;m<Y;m+=z)k<U[m]&&(k=U[m]);for(m=g;m<Y;m+=z)U[m]=k+B[g]}else if("all"===N){for(S=0,g=1;g<z;++g)S<B[g]&&(S=B[g]);for(k=0,m=0;m<Y;++m)m%z&&k<U[m]&&(k=U[m]);for(m=0;m<Y;++m)m%z&&(U[m]=k+S)}else for(g=1;g<z;++g)for(m=g;m<Y;m+=z)U[m]+=B[g];if("each"===R)for(y=1;y<F;++y){for(k=0,m=y*z,p=m+z;m<p;++m)k<V[m]&&(k=V[m]);for(m=y*z;m<p;++m)V[m]=k+H[y]}else if("all"===R){for(S=0,y=1;y<F;++y)S<H[y]&&(S=H[y]);for(k=0,m=z;m<Y;++m)k<V[m]&&(k=V[m]);for(m=z;m<Y;++m)V[m]=k+S}else for(y=1;y<F;++y)for(m=y*z,p=m+z;m<p;++m)V[m]+=H[y];for(M=0,m=0;m<Y;++m)b=j[m],x=b.x||0,b.x=M=U[m]+(m%z?M:0),b.bounds.translate(M-x,0);for(g=0;g<z;++g)for(O=0,m=g;m<Y;m+=z)b=j[m],w=b.y||0,b.y=O+=V[m],b.bounds.translate(0,O-w);for(m=0;m<Y;++m)j[m].mark.bounds.clear();for(m=0;m<Y;++m)b=j[m],e.dirty(b),A.union(b.mark.bounds.union(b.bounds));C=T?u:s,P=l(n.headerBand,"row",null),M=d(e,E.rowheaders,j,z,F,-l(I,"rowHeader"),i,0,C,"x1",0,z,1,P),P=l(n.headerBand,"column",null),O=d(e,E.colheaders,j,z,z,-l(I,"columnHeader"),i,1,C,"y1",0,1,z,P),P=l(n.footerBand,"row",null),d(e,E.rowfooters,j,z,F,l(I,"rowFooter"),f,0,C,"x2",z-1,z,1,P),P=l(n.footerBand,"column",null),d(e,E.colfooters,j,z,z,l(I,"columnFooter"),f,1,C,"y2",q-z,1,z,P),E.rowtitle&&(k=M-l(I,"rowTitle"),P=l(n.titleBand,"row",.5),h(e,E.rowtitle,k,0,A,P)),E.coltitle&&(k=O-l(I,"columnTitle"),P=l(n.titleBand,"column",.5),h(e,E.coltitle,k,1,A,P))}function d(e,t,n,r,i,a,o,u,s,l,c,f,d,h){var p,v,m,g,y,_,b,x,w,M=n.length,O=0,P=0;if(!M)return O;for(p=c;p<M;p+=f)n[p]&&(O=o(O,s(n[p],l)));if(!t.length)return O;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),O+=a,v=0,g=t.length;v<g;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=c,v=0,g=t.length;v<g;++v,p+=f){for(_=t[v],y=_.mark.bounds,m=p;m>=0&&null==(b=n[m]);m-=d);u?(x=null==h?b.x:Math.round(b.bounds.x1+h*b.bounds.width()),w=O):(x=O,w=null==h?b.y:Math.round(b.bounds.y1+h*b.bounds.height())),y.union(_.bounds.translate(x-(_.x||0),w-(_.y||0))),_.x=x,_.y=w,e.dirty(_),P=o(P,y[l])}return P}function h(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.gridLayout=f;var p=n(0),v=n(23),m="axis",g="legend",y="row-header",_="row-footer",b="row-title",x="column-header",w="column-footer",M="column-title"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1025);n.d(t,"View",function(){return r.default})},function(e,t,n){"use strict";function r(e,t){var r=this;t=t||{},y.Dataflow.call(r),r.loader(t.loader||r._loader),r.logLevel(t.logLevel||0),r._el=null,r._renderType=t.renderer||b.RenderType.Canvas,r._scenegraph=new b.Scenegraph;var i=r._scenegraph.root;r._renderer=null,r._redraw=!0,r._handler=(new b.CanvasHandler).scene(i),r._eventListeners=[],r._preventDefault=!1;var o=n.i(v.default)(r,e,t.functions);r._runtime=o,r._signals=o.signals,r._bind=(e.bindings||[]).map(function(e){return{state:null,param:n.i(_.extend)({},e)}}),o.root&&o.root.set(i),i.source=o.data.root.input,r.pulse(o.data.root.input,r.changeset().insert(i.items)),r._background=o.background||null,r._eventConfig=n.i(u.initializeEventConfig)(o.eventConfig),r._width=r.width(),r._height=r.height(),r._viewWidth=n.i(m.viewWidth)(r,r._width),r._viewHeight=n.i(m.viewHeight)(r,r._height),r._origin=[0,0],r._resize=0,r._autosize=1,n.i(m.initializeResize)(r),n.i(a.default)(r)}function i(e,t){return e._signals.hasOwnProperty(t)?e._signals[t]:n.i(_.error)("Unrecognized signal name: "+n.i(_.stringValue)(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1027),o=n(1028),u=n(1030),s=n(1032),l=n(1031),c=n(1034),f=n(1036),d=n(1035),h=n(1037),p=n(146),v=n(1038),m=n(1039),g=n(1040),y=n(1),_=n(0),b=n(23),x=n.i(_.inherits)(r,y.Dataflow);x.run=function(e){if(y.Dataflow.prototype.run.call(this,e),this._redraw||this._resize)try{this.render()}catch(e){this.error(e)}return this},x.render=function(){return this._renderer&&(this._resize&&(this._resize=0,n.i(p.resizeRenderer)(this)),this._renderer.render(this._scenegraph.root)),this._redraw=!1,this},x.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},x.container=function(){return this._el},x.scenegraph=function(){return this._scenegraph},x.signal=function(e,t,n){var r=i(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},x.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},x.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},x.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},x.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},x.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},x.renderer=function(e){return arguments.length?(n.i(b.renderModule)(e)||n.i(_.error)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._renderType},x.loader=function(e){return arguments.length?(e!==this._loader&&(y.Dataflow.prototype.loader.call(this,e),this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._loader},x.resize=function(){return this._autosize=1,this},x._resizeView=m.resizeView,x.addEventListener=function(e,t){return this._handler.on(e,t),this},x.removeEventListener=function(e,t){return this._handler.off(e,t),this},x.addSignalListener=function(e,t){var n=i(this,e),r=function(){t(e,n.value)};return r.handler=t,this.on(n,null,r),this},x.removeSignalListener=function(e,t){var n=i(this,e),r=n._targets||[],a=r.filter(function(e){var n=e._update;return n&&n.handler===t});return a.length&&r.remove(a[0]),this},x.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},x.tooltipHandler=function(e){var t=this._handler;return arguments.length?(t.handleTooltip=e||b.Handler.prototype.handleTooltip,this):t.handleTooltip},x.events=u.events,x.finalize=l.default,x.hover=s.default,x.data=o.data,x.change=o.change,x.insert=o.insert,x.remove=o.remove,x.initialize=c.default,x.toImageURL=f.default,x.toCanvas=d.default,x.toSVG=h.default,x.getState=g.getState,x.setState=g.setState},function(e,t,n){"use strict";function r(e,t,r,l){var f=n.i(c.default)("div",{class:h});f.appendChild(n.i(c.default)("span",{class:p},r.name||r.signal)),t.appendChild(f);var d=i;switch(r.input){case"checkbox":d=a;break;case"select":d=o;break;case"radio":d=u;break;case"range":d=s}d(e,f,r,l)}function i(e,t,r,i){var a=n.i(c.default)("input");for(var o in r)"signal"!==o&&"element"!==o&&a.setAttribute("input"===o?"type":o,r[o]);a.setAttribute("name",r.signal),a.value=i,t.appendChild(a),a.addEventListener("input",function(){e.update(a.value)}),e.elements=[a],e.set=function(e){a.value=e}}function a(e,t,r,i){var a={type:"checkbox",name:r.signal};i&&(a.checked=!0);var o=n.i(c.default)("input",a);t.appendChild(o),o.addEventListener("change",function(){e.update(o.checked)}),e.elements=[o],e.set=function(e){o.checked=!!e||null}}function o(e,t,r,i){var a=n.i(c.default)("select",{name:r.signal});r.options.forEach(function(e){var t={value:e};l(e,i)&&(t.selected=!0),a.appendChild(n.i(c.default)("option",t,e+""))}),t.appendChild(a),a.addEventListener("change",function(){e.update(r.options[a.selectedIndex])}),e.elements=[a],e.set=function(e){for(var t=0,n=r.options.length;t<n;++t)if(l(r.options[t],e))return void(a.selectedIndex=t)}}function u(e,t,r,i){var a=n.i(c.default)("span",{class:v});t.appendChild(a),e.elements=r.options.map(function(t){var o=m+r.signal+"-"+t,u={id:o,type:"radio",name:r.signal,value:t};l(t,i)&&(u.checked=!0);var s=n.i(c.default)("input",u);return s.addEventListener("change",function(){e.update(t)}),a.appendChild(s),a.appendChild(n.i(c.default)("label",{for:o},t+"")),s}),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)l(n[r].value,t)&&(n[r].checked=!0)}}function s(e,t,r,i){function a(){f.textContent=l.value,e.update(+l.value)}i=void 0!==i?i:(+r.max+ +r.min)/2;var o=r.min||Math.min(0,+i)||0,u=r.max||Math.max(100,+i)||100,s=r.step||n.i(d.tickStep)(o,u,100),l=n.i(c.default)("input",{type:"range",name:r.signal,min:o,max:u,step:s});l.value=i;var f=n.i(c.default)("label",{},+i);t.appendChild(l),t.appendChild(f),l.addEventListener("input",a),l.addEventListener("change",a),e.elements=[l],e.set=function(e){l.value=e,f.textContent=e}}function l(e,t){return e===t||e+""==t+""}Object.defineProperty(t,"__esModule",{value:!0});var c=n(407),f=n(0),d=n(8),h="vega-bind",p="vega-bind-name",v="vega-bind-radio",m="vega-option-";t.default=function(e,t,i){if(t){var a=i.param,o=i.state;return o||(o=i.state={elements:null,active:!1,set:null,update:function(t){o.source=!0,e.signal(a.signal,t).run()}},a.debounce&&(o.update=n.i(f.debounce)(a.debounce,o.update))),r(o,t,a,e.signal(a.signal)),o.active||(e.on(e._signals[a.signal],null,function(){o.source?o.source=!1:o.set(e.signal(a.signal))}),o.active=!0),o}}},function(e,t,n){"use strict";function r(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,function(e,r){var a=t.value,o=a?n.i(i.isString)(a)?a:a.user:"default",u=r.item&&r.item.cursor||null;return a&&o===a.user&&u==a.item?a:{user:o,item:u}}),e.add(null,function(e){var t=e.cursor,a=this.value;return n.i(i.isString)(t)||(a=t.item,t=t.user),r(t&&"default"!==t?t:a||t),a},{cursor:t})}},function(e,t,n){"use strict";function r(e,t){var r=e._runtime.data;return r.hasOwnProperty(t)||n.i(l.error)("Unrecognized data set: "+t),r[t]}function i(e){return r(this,e).values.value}function a(e,t){n.i(s.isChangeSet)(t)||n.i(l.error)("Second argument to changes must be a changeset.");var i=r(this,e);return i.modified=!0,this.pulse(i.input,t)}function o(e,t){return a.call(this,e,n.i(s.changeset)().insert(t))}function u(e,t){return a.call(this,e,n.i(s.changeset)().remove(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.data=i,t.change=a,t.insert=o,t.remove=u;var s=n(1),l=n(0)},function(e,t,n){"use strict";function r(e,t,r){function i(e){var n,r=u;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function o(e){if(!e)return r;n.i(a.isString)(e)&&(e=i(e));for(var t=r.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}var u=t?"group"===t.mark.marktype?t:t.mark.group:null;return{view:n.i(a.constant)(e),item:n.i(a.constant)(t||{}),group:i,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(146),a=n(0),o=n(23);t.default=function(e,t,a){var u,s,l,c=e._renderer.scene();return c&&(l=n.i(i.offset)(e),s=t.changedTouches?t.changedTouches[0]:t,u=n.i(o.point)(s,c),u[0]-=l[0],u[1]-=l[1]),t.dataflow=e,t.vega=r(e,a,u),t.item=a,t}},function(e,t,n){"use strict";function r(e){e=n.i(s.extend)({},e);var t=e.defaults;return t&&(n.i(s.isArray)(t.prevent)&&(t.prevent=n.i(s.toSet)(t.prevent)),n.i(s.isArray)(t.allow)&&(t.allow=n.i(s.toSet)(t.allow))),e}function i(e,t){var n=e._eventConfig.defaults,r=n&&n.prevent,i=n&&n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}function a(e,t,r){var a,s=this,f=new u.EventStream(r),d=function(r,a){e===l&&i(s,t)&&r.preventDefault();try{f.receive(n.i(o.default)(s,r,a))}catch(e){s.error(e)}finally{s.run()}};if(e===l)return s.addEventListener(t,d),f;if(e===c?"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&(a=document.querySelectorAll(e)),!a)return s.warn("Can not resolve event source: "+e),f;for(var h=0,p=a.length;h<p;++h)a[h].addEventListener(t,d);return s._eventListeners.push({type:t,sources:a,handler:d}),f}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeEventConfig=r,t.events=a;var o=n(1029),u=n(1),s=n(0),l="view",c="window"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e,t,n=this._eventListeners,r=n.length;--r>=0;)for(t=n[r],e=t.sources.length;--e>=0;)t.sources[e].removeEventListener(t.type,t.handler)}},function(e,t,n){"use strict";function r(e){return e.item}function i(e){var t=e.item.mark.source;return t.source||t}function a(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=[e||"hover"],t=[t||"update",e],this.on(this.events("view","mouseover",r),i,a(e)),this.on(this.events("view","mouseout",r),i,a(t)),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146);t.default=function(e,t,i,a){var o=(new a).scene(e.scenegraph().root).initialize(i,n.i(r.offset)(e),e);return t&&(o.handleTooltip=t.handleTooltip,t.handlers().forEach(function(e){o.on(e.type,e.handler)})),o}},function(e,t,n){"use strict";function r(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1026),a=n(407),o=n(408),u=n(1033),s=n(23);t.default=function(e,t){var l,c,f=this,d=f._renderType,h=n.i(s.renderModule)(d);return e=f._el=e?r(f,e):null,h||f.error("Unrecognized renderer type: "+d),l=h.handler||s.CanvasHandler,c=e?h.renderer:h.headless,f._renderer=c?n.i(o.default)(f,f._renderer,e,c):null,f._handler=n.i(u.default)(f,f._handler,e,l),f._redraw=!0,e&&(t=t?r(f,t):e.appendChild(n.i(a.default)("div",{class:"vega-bindings"})),f._bind.forEach(function(e){e.param.element&&(e.element=r(f,e.param.element))}),f._bind.forEach(function(e){n.i(i.default)(f,e.element||t,e)})),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(221),i=n(23);t.default=function(){return n.i(r.default)(this,i.RenderType.Canvas).then(function(e){return e.canvas()})}},function(e,t,n){"use strict";function r(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(221),a=n(23);t.default=function(e){return e!==a.RenderType.Canvas&&e!==a.RenderType.SVG&&e!==a.RenderType.PNG?Promise.reject("Unrecognized image type: "+e):n.i(i.default)(this,e).then(function(t){return e===a.RenderType.SVG?r(t.svg(),"image/svg+xml"):t.canvas().toDataURL("image/png")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(221),i=n(23);t.default=function(){return n.i(r.default)(this,i.RenderType.SVG).then(function(e){return e.svg()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(349),a=n(362);t.default=function(e,t,o){var u=o||i.functionContext;return n.i(a.parse)(t,n.i(a.context)(e,r.transforms,u))}},function(e,t,n){"use strict";function r(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===u?r.left+r.right:0)}function i(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===u?r.top+r.bottom:0)}function a(e){function t(){e._autosize=e._resize=1}var n=e._signals,a=n.width,o=n.height,u=n.padding;e._resizeWidth=e.add(null,function(n){e._width=n.size,e._viewWidth=r(e,n.size),t()},{size:a}),e._resizeHeight=e.add(null,function(n){e._height=n.size,e._viewHeight=i(e,n.size),t()},{size:o});var s=e.add(null,t,{pad:u});e._resizeWidth.rank=a.rank+1,e._resizeHeight.rank=o.rank+1,s.rank=u.rank+1}function o(e,t,n,r,i,a){this.runAfter(function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.width(n),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.height(r),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),u&&o.run("enter"),a&&o.runAfter(function(){o.resize()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.viewWidth=r,t.viewHeight=i,t.initializeResize=a,t.resizeView=o;var u="padding"},function(e,t,n){"use strict";function r(e){return this._runtime.getState(e||{data:i,signals:a,recurse:!0})}function i(e,t){return t.modified&&n.i(s.isArray)(t.input.value)&&e.indexOf("_:vega:_")}function a(e,t){return!("parent"===e||t instanceof u.transforms.proxy)}function o(e){var t=this;return t._trigger=!1,t._runtime.setState(e),t.run().runAfter(function(){t._trigger=!0}),this}Object.defineProperty(t,"__esModule",{value:!0}),t.getState=r,t.setState=o;var u=n(1),s=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1042);n.d(t,"voronoi",function(){return r.default})},function(e,t,n){"use strict";function r(e){i.Transform.call(this,null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1),a=n(0),o=n(740);r.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var u=[[-1e5,-1e5],[1e5,1e5]];n.i(a.inherits)(r,i.Transform).transform=function(e,t){var r,i,a,s,l=e.as||"path",c=t.source;for(r=n.i(o.voronoi)().x(e.x).y(e.y),e.size?r.size(e.size):r.extent(e.extent||u),this.value=r=r(c),i=r.polygons(),a=0,s=c.length;a<s;++a)c[a][l]=i[a]?"M"+i[a].join("L")+"Z":null;return t.reflow(e.modified()).modifies(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1045);n.d(t,"wordcloud",function(){return r.default})},function(e,t,n){"use strict";function r(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(p<<5)/a,v/a);var o,u,s,l,c,f=0,d=0,m=0,g=n.length;for(--r;++r<g;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,s=t.size<<1,t.rotate){var y=Math.sin(t.rotate*h),_=Math.cos(t.rotate*h),b=o*_,x=o*y,w=s*_,M=s*y;o=Math.max(Math.abs(b+M),Math.abs(b-M))+31>>5<<5,s=~~Math.max(Math.abs(x+w),Math.abs(x-w))}else o=o+31>>5<<5;if(s>m&&(m=s),f+o>=p<<5&&(f=0,d+=m,m=0),d+s>=v)break;i.translate((f+(o>>1))/a,(d+(s>>1))/a),t.rotate&&i.rotate(t.rotate*h),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=s,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var O=i.getImageData(0,0,(p<<5)/a,v/a).data,P=[];--r>=0;)if(t=n[r],t.hasText){for(o=t.width,u=o>>5,s=t.y1-t.y0,l=0;l<s*u;l++)P[l]=0;if(null==(f=t.xoff))return;d=t.yoff;var S=0,k=-1;for(c=0;c<s;c++){for(l=0;l<o;l++){var E=u*c+(l>>5),j=O[(d+c)*(p<<5)+(f+l)<<2]?1<<31-l%32:0;P[E]|=j,S|=j}S?k=c:(t.y0++,s--,c--,d++)}t.y1=t.y0+k,t.sprite=P.slice(0,(t.y1-t.y0)*u)}}}function i(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),u=127&o,s=32-u,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),f=0;f<l;f++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[f*a+d])>>>u:0))&t[c+d])return!0;c+=n}return!1}function a(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function o(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function u(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function s(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}function l(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function c(){try{var e="undefined"!=typeof document&&document.createElement?document.createElement("canvas"):0;if(e&&e.getContext)return e;try{return new(n(1065))}catch(e){return new(n(1066))}}catch(e){n.i(d.error)("Canvas unavailable. Run in browser or install node-canvas.")}}function f(e){return"function"==typeof e?e:function(){return e}}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=Math.PI/180,p=64,v=2048;t.default=function(){function e(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(p<<5)/t,e.height=v/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function t(e,t,n){for(var r,a,u,s=t.x,l=t.y,c=Math.sqrt(b[0]*b[0]+b[1]*b[1]),f=x(b),d=M()<.5?1:-1,h=-d;(r=f(h+=d))&&(a=~~r[0],u=~~r[1],!(Math.min(Math.abs(a),Math.abs(u))>=c));)if(t.x=s+a,t.y=l+u,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>b[0]||t.y+t.y1>b[1])&&(!n||!i(t,e,b[0]))&&(!n||o(t,n))){for(var p,v=t.sprite,m=t.width>>5,g=b[0]>>5,y=t.x-(m<<4),_=127&y,w=32-_,O=t.y1-t.y0,P=(t.y+t.y0)*g+(y>>5),S=0;S<O;S++){p=0;for(var k=0;k<=m;k++)e[P+k]|=p<<w|(k<m?(p=v[S*m+k])>>>_:0);P+=g}return t.sprite=null,!0}return!1}var n,s,d,h,g,y,_,b=[256,256],x=u,w=[],M=Math.random,O={},P=c;return O.layout=function(){for(var i=e(P()),o=l((b[0]>>5)*b[1]),u=null,c=w.length,f=-1,p=[],v=w.map(function(e){return{text:n(e),font:s(e),style:h(e),weight:g(e),rotate:y(e),size:~~d(e),padding:_(e),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:e}}).sort(function(e,t){return t.size-e.size});++f<c;){var m=v[f];m.x=b[0]*(M()+.5)>>1,m.y=b[1]*(M()+.5)>>1,r(i,m,v,f),m.hasText&&t(o,m,u)&&(p.push(m),u?a(u,m):u=[{x:m.x+m.x0,y:m.y+m.y0},{x:m.x+m.x1,y:m.y+m.y1}],m.x-=b[0]>>1,m.y-=b[1]>>1)}return p},O.words=function(e){return arguments.length?(w=e,O):w},O.size=function(e){return arguments.length?(b=[+e[0],+e[1]],O):b},O.font=function(e){return arguments.length?(s=f(e),O):s},O.fontStyle=function(e){return arguments.length?(h=f(e),O):h},O.fontWeight=function(e){return arguments.length?(g=f(e),O):g},O.rotate=function(e){return arguments.length?(y=f(e),O):y},O.text=function(e){return arguments.length?(n=f(e),O):n},O.spiral=function(e){return arguments.length?(x=m[e]||e,O):x},O.fontSize=function(e){return arguments.length?(d=f(e),O):d},O.padding=function(e){return arguments.length?(_=f(e),O):_},O.random=function(e){return arguments.length?(M=e,O):M},O};var m={archimedean:u,rectangular:s}},function(e,t,n){"use strict";function r(e){o.Transform.call(this,n.i(a.default)(),e)}function i(e,t){for(var n,r=1/0,i=-1/0,a=0,o=t.length;a<o;++a)n=e(t[a]),n<r&&(r=n),n>i&&(i=n);return[r,i]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1044),o=n(1),u=n(0),s=n(58),l=n(63),c=["x","y","font","fontSize","fontStyle","fontWeight","angle"],f=["text","font","rotate","fontSize","fontStyle","fontWeight"];r.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:c}]},n.i(u.inherits)(r,o.Transform).transform=function(e,t){function r(r){var i=e[r];return n.i(u.isFunction)(i)&&t.modified(i.fields)}var a=e.modified();if(a||t.changed(t.ADD_REM)||f.some(r)){var o,d=t.materialize(t.SOURCE).source,h=this.value,p=e.as||c,v=e.fontSize||14;if(n.i(u.isFunction)(v)?o=e.fontSizeRange:v=n.i(u.constant)(v),o){var m=v,g=n.i(s.scale)("sqrt")().domain(i(m,d)).range(o);v=function(e){return g(m(e))}}d.forEach(function(e){e[p[0]]=NaN,e[p[1]]=NaN,e[p[3]]=0});for(var y,_,b=h.words(d).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(v).random(l.random).layout(),x=h.size(),w=x[0]>>1,M=x[1]>>1,O=0,P=b.length;O<P;++O)y=b[O],_=y.datum,_[p[0]]=y.x+w,_[p[1]]=y.y+M,_[p[2]]=y.font,_[p[3]]=y.size,_[p[4]]=y.style,_[p[5]]=y.weight,_[p[6]]=y.rotate;return t.reflow(a).modifies(p)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),a=n(964),o=n(1016),u=n(788),s=n(804),l=n(802),c=n(812),f=n(1041),d=n(1043),h=n(770),p=n(1047);n.n(p);n.o(p,"version")&&n.d(t,"version",function(){return p.version});var v=n(63);n.d(t,"bin",function(){return v.bin}),n.d(t,"bootstrapCI",function(){return v.bootstrapCI}),n.d(t,"quartiles",function(){return v.quartiles}),n.d(t,"random",function(){return v.random}),n.d(t,"setRandom",function(){return v.setRandom}),n.d(t,"randomInteger",function(){return v.randomInteger}),n.d(t,"randomKDE",function(){return v.randomKDE}),n.d(t,"randomMixture",function(){return v.randomMixture}),n.d(t,"randomNormal",function(){return v.randomNormal}),n.d(t,"randomUniform",function(){return v.randomUniform}),n.d(t,"accessor",function(){return r.accessor}),n.d(t,"accessorName",function(){return r.accessorName}),n.d(t,"accessorFields",function(){return r.accessorFields}),n.d(t,"id",function(){return r.id}),n.d(t,"identity",function(){return r.identity}),n.d(t,"zero",function(){return r.zero}),n.d(t,"one",function(){return r.one}),n.d(t,"truthy",function(){return r.truthy}),n.d(t,"falsy",function(){return r.falsy}),n.d(t,"logger",function(){return r.logger}),n.d(t,"None",function(){return r.None}),n.d(t,"Error",function(){return r.Error}),n.d(t,"Warn",function(){return r.Warn}),n.d(t,"Info",function(){return r.Info}),n.d(t,"Debug",function(){return r.Debug}),n.d(t,"panLinear",function(){return r.panLinear}),n.d(t,"panLog",function(){return r.panLog}),n.d(t,"panPow",function(){return r.panPow}),n.d(t,"zoomLinear",function(){return r.zoomLinear}),n.d(t,"zoomLog",function(){return r.zoomLog}),n.d(t,"zoomPow",function(){return r.zoomPow}),n.d(t,"array",function(){return r.array}),n.d(t,"compare",function(){return r.compare}),n.d(t,"constant",function(){return r.constant}),n.d(t,"debounce",function(){return r.debounce}),n.d(t,"error",function(){return r.error}),n.d(t,"extend",function(){return r.extend}),n.d(t,"extentIndex",function(){return r.extentIndex}),n.d(t,"fastmap",function(){return r.fastmap}),n.d(t,"field",function(){return r.field}),n.d(t,"inherits",function(){return r.inherits}),n.d(t,"isArray",function(){return r.isArray}),n.d(t,"isBoolean",function(){return r.isBoolean}),n.d(t,"isDate",function(){return r.isDate}),n.d(t,"isFunction",function(){return r.isFunction}),n.d(t,"isNumber",function(){return r.isNumber}),n.d(t,"isObject",function(){return r.isObject}),n.d(t,"isRegExp",function(){return r.isRegExp}),n.d(t,"isString",function(){return r.isString}),n.d(t,"key",function(){return r.key}),n.d(t,"merge",function(){return r.merge}),n.d(t,"pad",function(){return r.pad}),n.d(t,"peek",function(){return r.peek}),n.d(t,"repeat",function(){return r.repeat}),n.d(t,"splitAccessPath",function(){return r.splitAccessPath}),n.d(t,"stringValue",function(){return r.stringValue}),n.d(t,"toBoolean",function(){return r.toBoolean}),n.d(t,"toDate",function(){return r.toDate}),n.d(t,"toNumber",function(){return r.toNumber}),n.d(t,"toString",function(){return r.toString}),n.d(t,"toSet",function(){return r.toSet}),n.d(t,"truncate",function(){return r.truncate}),n.d(t,"visitArray",function(){return r.visitArray});var m=n(92);n.d(t,"loader",function(){return m.loader}),n.d(t,"read",function(){return m.read}),n.d(t,"inferType",function(){return m.inferType}),n.d(t,"inferTypes",function(){return m.inferTypes}),n.d(t,"typeParsers",function(){return m.typeParsers}),n.d(t,"formats",function(){return m.formats});var g=n(23);n.d(t,"Bounds",function(){return g.Bounds}),n.d(t,"Gradient",function(){return g.Gradient}),n.d(t,"GroupItem",function(){return g.GroupItem}),n.d(t,"ResourceLoader",function(){return g.ResourceLoader}),n.d(t,"Item",function(){return g.Item}),n.d(t,"Scenegraph",function(){return g.Scenegraph}),n.d(t,"Handler",function(){return g.Handler}),n.d(t,"Renderer",function(){return g.Renderer}),n.d(t,"CanvasHandler",function(){return g.CanvasHandler}),n.d(t,"CanvasRenderer",function(){return g.CanvasRenderer}),n.d(t,"SVGHandler",function(){return g.SVGHandler}),n.d(t,"SVGRenderer",function(){return g.SVGRenderer}),n.d(t,"SVGStringRenderer",function(){return g.SVGStringRenderer}),n.d(t,"RenderType",function(){return g.RenderType}),n.d(t,"renderModule",function(){return g.renderModule}),n.d(t,"Marks",function(){return g.Marks}),n.d(t,"boundContext",function(){return g.boundContext}),n.d(t,"boundStroke",function(){return g.boundStroke}),n.d(t,"boundItem",function(){return g.boundItem}),n.d(t,"boundMark",function(){return g.boundMark}),n.d(t,"pathCurves",function(){return g.pathCurves}),n.d(t,"pathSymbols",function(){return g.pathSymbols}),n.d(t,"pathRectangle",function(){return g.pathRectangle}),n.d(t,"pathTrail",function(){return g.pathTrail}),n.d(t,"pathParse",function(){return g.pathParse}),n.d(t,"pathRender",function(){return g.pathRender}),n.d(t,"point",function(){return g.point}),n.d(t,"canvas",function(){return g.canvas}),n.d(t,"domCreate",function(){return g.domCreate}),n.d(t,"domFind",function(){return g.domFind}),n.d(t,"domChild",function(){return g.domChild}),n.d(t,"domClear",function(){return g.domClear}),n.d(t,"openTag",function(){return g.openTag}),n.d(t,"closeTag",function(){return g.closeTag}),n.d(t,"font",function(){return g.font}),n.d(t,"textMetrics",function(){return g.textMetrics}),n.d(t,"resetSVGClipId",function(){return g.resetSVGClipId}),n.d(t,"sceneEqual",function(){return g.sceneEqual}),n.d(t,"pathEqual",function(){return g.pathEqual}),n.d(t,"sceneToJSON",function(){return g.sceneToJSON}),n.d(t,"sceneFromJSON",function(){return g.sceneFromJSON}),n.d(t,"sceneZOrder",function(){return g.sceneZOrder}),n.d(t,"sceneVisit",function(){return g.sceneVisit}),n.d(t,"scenePickVisit",function(){return g.scenePickVisit}),n.d(t,"Dataflow",function(){return i.Dataflow}),n.d(t,"EventStream",function(){return i.EventStream}),n.d(t,"Parameters",function(){return i.Parameters}),n.d(t,"Pulse",function(){return i.Pulse}),n.d(t,"MultiPulse",function(){return i.MultiPulse}),n.d(t,"Operator",function(){return i.Operator}),n.d(t,"Transform",function(){return i.Transform}),n.d(t,"changeset",function(){return i.changeset}),n.d(t,"ingest",function(){return i.ingest}),n.d(t,"isTuple",function(){return i.isTuple}),n.d(t,"definition",function(){return i.definition}),n.d(t,"transform",function(){return i.transform}),n.d(t,"transforms",function(){return i.transforms}),n.d(t,"tupleid",function(){return i.tupleid});var y=n(58);n.d(t,"scale",function(){return y.scale}),n.d(t,"scheme",function(){return y.scheme}),n.d(t,"interpolate",function(){return y.interpolate}),n.d(t,"interpolateRange",function(){return y.interpolateRange}),n.d(t,"timeInterval",function(){return y.timeInterval}),n.d(t,"utcInterval",function(){return y.utcInterval});var _=n(133);n.d(t,"projection",function(){return _.projection});var b=n(1024);n.d(t,"View",function(){return b.View});var x=n(349);n.d(t,"parse",function(){return x.parse}),n.d(t,"expressionFunction",function(){return x.expressionFunction}),n.d(t,"formatLocale",function(){return x.formatLocale}),n.d(t,"timeFormatLocale",function(){return x.timeFormatLocale});var w=n(362);n.d(t,"runtime",function(){return w.parse}),n.d(t,"runtimeContext",function(){return w.context}),n.i(r.extend)(i.transforms,a,o,u,s,l,c,f,d,h)},function(e,t){e.exports={_args:[[{raw:"vega@^3.0.0-rc1",scope:null,escapedName:"vega",name:"vega",rawSpec:"^3.0.0-rc1",spec:">=3.0.0-rc1 <4.0.0",type:"range"},"/home/centos/girder/node_modules/girder_plugin_candela/node_modules/candela"]],_from:"vega@>=3.0.0-rc1 <4.0.0",_id:"vega@3.0.8",_inCache:!0,_location:"/vega",_nodeVersion:"8.9.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/vega-3.0.8.tgz_1512090191381_0.12966696498915553"},_npmUser:{name:"jheer",email:"jeffrey.heer@gmail.com"},_npmVersion:"5.5.1",_phantomChildren:{decamelize:"1.2.0","get-caller-file":"1.0.2","lodash.assign":"4.2.0","os-locale":"1.4.0","read-pkg-up":"1.0.1","require-directory":"2.1.1","require-main-filename":"1.0.1","set-blocking":"2.0.0","string-width":"1.0.2","strip-ansi":"3.0.1","which-module":"1.0.0","wrap-ansi":"2.1.0",y18n:"3.2.1"},_requested:{raw:"vega@^3.0.0-rc1",scope:null,escapedName:"vega",name:"vega",rawSpec:"^3.0.0-rc1",spec:">=3.0.0-rc1 <4.0.0",type:"range"},_requiredBy:["/candela","/vega-tooltip"],_resolved:"https://registry.npmjs.org/vega/-/vega-3.0.8.tgz",_shasum:"14c38908ab101048309866f1655f7d031dca7e3f",_shrinkwrap:null,_spec:"vega@^3.0.0-rc1",_where:"/home/centos/girder/node_modules/girder_plugin_candela/node_modules/candela",author:{name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},bin:{vg2png:"./bin/vg2png",vg2svg:"./bin/vg2svg"},browser:{buffer:!1,canvas:!1,"canvas-prebuilt":!1,fs:!1},bugs:{url:"https://github.com/vega/vega/issues"},contributors:[{name:"Jeffrey Heer",url:"http://idl.cs.washington.edu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Ryan Russell",url:"https://github.com/RussellSprouts"},{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],dependencies:{"vega-crossfilter":"2","vega-dataflow":"3","vega-encode":"2","vega-expression":"2","vega-force":"2","vega-geo":"^2.1","vega-hierarchy":"^2.1","vega-loader":"2","vega-parser":"^2.2","vega-projection":"1","vega-runtime":"2","vega-scale":"^2.1","vega-scenegraph":"2","vega-statistics":"^1.2","vega-transforms":"^1.1","vega-util":"^1.6","vega-view":"2","vega-view-transforms":"^1.1","vega-voronoi":"2","vega-wordcloud":"2",yargs:"4"},description:"The Vega visualization grammar.",devDependencies:{eslint:"4",rollup:"0.43","rollup-plugin-json":"2","rollup-plugin-node-resolve":"3",tape:"4",tv4:"1","uglify-js":"3","vega-datasets":"1"},directories:{},dist:{integrity:"sha512-pCjfDWhkaIUZih1l/TiUOKHcRTG22SVfJT80bt21iGu/e/1H/5BYuYptzj2QtIN45Cj2jYvVXiUFzA8FGG2SBw==",shasum:"14c38908ab101048309866f1655f7d031dca7e3f",tarball:"https://registry.npmjs.org/vega/-/vega-3.0.8.tgz"},gitHead:"3fbc1001e1368f7d1bdeebd6ee247a13258faf65",homepage:"https://github.com/vega/vega#readme","jsnext:main":"index",keywords:["vega","visualization","interaction","dataflow","grammar","data","d3"],license:"BSD-3-Clause",main:"build/vega.js",maintainers:[{name:"jheer",email:"jeffrey.heer@gmail.com"},{name:"arvindsatya1",email:"arvindsatya1@gmail.com"}],module:"index",name:"vega",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/vega/vega.git"},scripts:{build:"npm run rollup && bin/rollup -e",data:"rsync -r node_modules/vega-datasets/data/* docs/data",postbuild:"uglifyjs build/vega.js -c -m -o build/vega.min.js && uglifyjs build/vega-core.js -c -m -o build/vega-core.min.js",postpublish:"git push && git push --tags && zip -j build/vega.zip -- LICENSE README.md build/vega-schema.json build/vega.js build/vega.min.js build/vega-core.js build/vega-core.min.js && bin/deploy-schema.sh",prebuild:"rm -rf build && mkdir build",prepublish:"npm run test && npm run build",pretest:"npm run prebuild && npm run rollup",rollup:"bin/rollup && bin/schema > build/vega-schema.json",test:"TZ=America/Los_Angeles tape 'test/**/*-test.js' && eslint index.js src test"},version:"3.0.8"}},function(e,t){t.read=function(e,t,n,r,i){var a,o,u=8*i-r-1,s=(1<<u)-1,l=s>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=u;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,u,s,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),t+=o+f>=1?d/s:d*Math.pow(2,1-f),t*s>=2&&(o++,s/=2),o+f>=c?(u=0,o=c):o+f>=1?(u=(t*s-1)*Math.pow(2,i),o+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&u,h+=p,u/=256,i-=8);for(o=o<<i|u,l+=i;l>0;e[n+h]=255&o,h+=p,o/=256,l-=8);e[n+h-p]|=128*v}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){v&&h&&(v=!1,h.length?p=h.concat(p):m=-1,p.length&&u())}function u(){if(!v){var e=i(o);v=!0;for(var t=p.length;t;){for(h=p,p=[];++m<t;)h&&h[m].run();m=-1,t=p.length}h=null,v=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],v=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||v||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){var r;!function(i){function a(e,t){if(e=e||"",t=t||{},e instanceof a)return e;if(!(this instanceof a))return new a(e,t);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=H(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=n.ok,this._tc_id=V++}function o(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(t=u(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(r=D(e.s),i=D(e.v),t=f(e.h,r,i),o=!0,s="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(r=D(e.s),a=D(e.l),t=l(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=E(n),{ok:o,format:e.format||s,r:Y(255,W(t.r,0)),g:Y(255,W(t.g,0)),b:Y(255,W(t.b,0)),a:n}}function u(e,t,n){return{r:255*j(e,255),g:255*j(t,255),b:255*j(n,255)}}function s(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,i,a=W(e,t,n),o=Y(e,t,n),u=(a+o)/2;if(a==o)r=i=0;else{var s=a-o;switch(i=u>.5?s/(2-a-o):s/(a+o),a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:i,l:u}}function l(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,a,o;if(e=j(e,360),t=j(t,100),n=j(n,100),0===t)i=a=o=n;else{var u=n<.5?n*(1+t):n+t-n*t,s=2*n-u;i=r(s,u,e+1/3),a=r(s,u,e),o=r(s,u,e-1/3)}return{r:255*i,g:255*a,b:255*o}}function c(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,i,a=W(e,t,n),o=Y(e,t,n),u=a,s=a-o;if(i=0===a?0:s/a,a==o)r=0;else{switch(a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:i,v:u}}function f(e,t,n){e=6*j(e,360),t=j(t,100),n=j(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),u=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6;return{r:255*[n,u,o,o,s,n][l],g:255*[s,n,n,u,o,o][l],b:255*[o,o,s,n,n,u][l]}}function d(e,t,n,r){var i=[R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(e,t,n,r,i){var a=[R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16)),R(L(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function p(e,t,n,r){return[R(L(r)),R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.s-=t/100,n.s=T(n.s),a(n)}function m(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.s+=t/100,n.s=T(n.s),a(n)}function g(e){return a(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.l+=t/100,n.l=T(n.l),a(n)}function _(e,t){t=0===t?0:t||10;var n=a(e).toRgb();return n.r=W(0,Y(255,n.r-H(-t/100*255))),n.g=W(0,Y(255,n.g-H(-t/100*255))),n.b=W(0,Y(255,n.b-H(-t/100*255))),a(n)}function b(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.l-=t/100,n.l=T(n.l),a(n)}function x(e,t){var n=a(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,a(n)}function w(e){var t=a(e).toHsl();return t.h=(t.h+180)%360,a(t)}function M(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+120)%360,s:t.s,l:t.l}),a({h:(n+240)%360,s:t.s,l:t.l})]}function O(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+90)%360,s:t.s,l:t.l}),a({h:(n+180)%360,s:t.s,l:t.l}),a({h:(n+270)%360,s:t.s,l:t.l})]}function P(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+72)%360,s:t.s,l:t.l}),a({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var r=a(e).toHsl(),i=360/n,o=[a(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(a(r));return o}function k(e,t){t=t||6;for(var n=a(e).toHsv(),r=n.h,i=n.s,o=n.v,u=[],s=1/t;t--;)u.push(a({h:r,s:i,v:o})),o=(o+s)%1;return u}function E(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(e,t){A(e)&&(e="100%");var n=N(e);return e=Y(t,W(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function T(e){return Y(1,W(0,e))}function C(e){return parseInt(e,16)}function A(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function N(e){return"string"==typeof e&&-1!=e.indexOf("%")}function R(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function L(e){return i.round(255*parseFloat(e)).toString(16)}function I(e){return C(e)/255}function z(e){return!!J.CSS_UNIT.exec(e)}function F(e){e=e.replace(U,"").replace(B,"").toLowerCase();var t=!1;if(G[e])e=G[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=J.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=J.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=J.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=J.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=J.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=J.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=J.hex8.exec(e))?{r:C(n[1]),g:C(n[2]),b:C(n[3]),a:I(n[4]),format:t?"name":"hex8"}:(n=J.hex6.exec(e))?{r:C(n[1]),g:C(n[2]),b:C(n[3]),format:t?"name":"hex"}:(n=J.hex4.exec(e))?{r:C(n[1]+""+n[1]),g:C(n[2]+""+n[2]),b:C(n[3]+""+n[3]),a:I(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=J.hex3.exec(e))&&{r:C(n[1]+""+n[1]),g:C(n[2]+""+n[2]),b:C(n[3]+""+n[3]),format:t?"name":"hex"}}function q(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var U=/^\s+/,B=/\s+$/,V=0,H=i.round,Y=i.min,W=i.max,$=i.random;a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,a,o,u=this.toRgb();return e=u.r/255,t=u.g/255,n=u.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=E(e),this._roundA=H(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return h(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*j(this._r,255))+"%",g:H(100*j(this._g,255))+"%",b:H(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*j(this._r,255))+"%, "+H(100*j(this._g,255))+"%, "+H(100*j(this._b,255))+"%)":"rgba("+H(100*j(this._r,255))+"%, "+H(100*j(this._g,255))+"%, "+H(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=a(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},a.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:D(e[r]));e=n}return a(e,t)},a.equals=function(e,t){return!(!e||!t)&&a(e).toRgbString()==a(t).toRgbString()},a.random=function(){return a.fromRatio({r:$(),g:$(),b:$()})},a.mix=function(e,t,n){n=0===n?0:n||50;var r=a(e).toRgb(),i=a(t).toRgb(),o=n/100;return a({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},a.readability=function(e,t){var n=a(e),r=a(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},a.isReadable=function(e,t,n){var r,i,o=a.readability(e,t);switch(i=!1,r=q(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},a.mostReadable=function(e,t,n){var r,i,o,u,s=null,l=0;n=n||{},i=n.includeFallbackColors,o=n.level,u=n.size;for(var c=0;c<t.length;c++)(r=a.readability(e,t[c]))>l&&(l=r,s=a(t[c]));return a.isReadable(e,s,{level:o,size:u})||!i?s:(n.includeFallbackColors=!1,a.mostReadable(e,["#fff","#000"],n))};var G=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=a.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(G),J=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=a:void 0!==(r=function(){return a}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),s(r,e,r.depth)}function a(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function o(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return _(i)||(i=s(e,i,r)),i}var a=l(e,n);if(a)return a;var o=Object.keys(n),v=u(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),P(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(S(n)){var m=n.name?": "+n.name:"";return e.stylize("[Function"+m+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return e.stylize(Date.prototype.toString.call(n),"date");if(P(n))return c(n)}var g="",y=!1,b=["{","}"];if(p(n)&&(y=!0,b=["[","]"]),S(n)){g=" [Function"+(n.name?": "+n.name:"")+"]"}if(w(n)&&(g=" "+RegExp.prototype.toString.call(n)),O(n)&&(g=" "+Date.prototype.toUTCString.call(n)),P(n)&&(g=" "+c(n)),0===o.length&&(!y||0==n.length))return b[0]+g+b[1];if(r<0)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=y?f(e,n,r,v,o):o.map(function(t){return d(e,n,r,v,t,y)}),e.seen.pop(),h(x,g,b)}function l(e,t){if(x(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var a=[],o=0,u=t.length;o<u;++o)C(t,String(o))?a.push(d(e,t,n,r,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(d(e,t,n,r,i,!0))}),a}function d(e,t,n,r,i,a){var o,u,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?u=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(u=e.stylize("[Setter]","special")),C(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(l.value)<0?(u=m(n)?s(e,l.value,null):s(e,l.value,n-1),u.indexOf("\n")>-1&&(u=a?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(o)){if(a&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function h(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function x(e){return void 0===e}function w(e){return M(e)&&"[object RegExp]"===E(e)}function M(e){return"object"==typeof e&&null!==e}function O(e){return M(e)&&"[object Date]"===E(e)}function P(e){return M(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function E(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,a=r.length,o=String(e).replace(A,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<a;u=r[++n])m(u)||!M(u)?o+=" "+u:o+=" "+i(u);return o},t.deprecate=function(n,i){function a(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return a};var N,R={};t.debuglog=function(e){if(x(N)&&(N=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var n=r.pid;R[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else R[e]=function(){};return R[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=v,t.isNull=m,t.isNullOrUndefined=g,t.isNumber=y,t.isString=_,t.isSymbol=b,t.isUndefined=x,t.isRegExp=w,t.isObject=M,t.isDate=O,t.isError=P,t.isFunction=S,t.isPrimitive=k,t.isBuffer=n(1051);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(757),t._extend=function(e,t){if(!t||!M(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(410),n(1049))},function(e,t,n){e.exports=n(36)(48)},function(e,t,n){e.exports=n(36)(63)},function(e,t,n){e.exports=n(36)(75)},function(e,t,n){e.exports=n(36)(9)},function(e,t,n){e.exports=n},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);