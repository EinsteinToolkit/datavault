var girder_plugin_hdfs_assetstore=function(t){function e(o){if(s[o])return s[o].exports;var r=s[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,o){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(5),e(e.s=27)}([function(t,e){t.exports=girder_lib},function(t,e,s){t.exports=s(0)(0)},function(t,e,s){t.exports=s(0)(8)},function(t,e,s){t.exports=s(0)(63)},function(t,e,s){t.exports=s(0)(7)},function(t,e,s){"use strict";s(7),s(6),s(8),s(9),s(11)},function(t,e,s){"use strict";s(2).AssetstoreType.HDFS="hdfs"},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=s(23),i=o(r),a=s(4),n=o(a),l=s(24),d=o(l),f=s(10),p=o(f);n.default.route("hdfs_assetstore/:id/import","hdfsImport",function(t){var e=new i.default({_id:t}).once("g:fetched",function(){d.default.trigger("g:navigateTo",p.default,{model:e})}).once("g:error",function(){n.default.navigate("assetstores",{trigger:!0})}).fetch()})},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=s(21),i=o(r),a=s(22),n=o(a),l=s(25),d=o(l),f=s(2),p=s(3),c=s(13),u=o(c),h=s(12),g=o(h);(0,p.wrap)(d.default,"render",function(t){t.call(this);var e='.g-assetstore-info-section[assetstore-type="'+f.AssetstoreType.HDFS+'"]';n.default.each(this.$(e),function(t){var e=(0,i.default)(t),s=this.collection.get(e.attr("cid"));e.append((0,u.default)({assetstore:s})),e.parent().find(".g-assetstore-buttons").append((0,g.default)({assetstore:s}))},this)})},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=s(26),i=o(r),a=s(2),n=s(3),l=s(14),d=o(l);(0,n.wrap)(i.default,"render",function(t){t.call(this),this.model.get("type")===a.AssetstoreType.HDFS&&this.$(".g-assetstore-form-fields").append((0,d.default)({assetstore:this.model}))}),i.default.prototype.fieldsMap.hdfs={get:function(){return{hdfsHost:this.$("#g-edit-hdfs-host").val(),hdfsPort:this.$("#g-edit-hdfs-port").val(),webHdfsPort:this.$("#g-edit-hdfs-webhdfs-port").val(),hdfsPath:this.$("#g-edit-hdfs-path").val(),hdfsUser:this.$("#g-edit-hdfs-user").val()}},set:function(){var t=this.model.get("hdfs");this.$("#g-edit-hdfs-host").val(t.host),this.$("#g-edit-hdfs-port").val(t.port),this.$("#g-edit-hdfs-webhdfs-port").val(t.webHdfsPort),this.$("#g-edit-hdfs-path").val(t.path),this.$("#g-edit-hdfs-user").val(t.user)}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(4),i=o(r),a=s(18),n=o(a),l=s(15),d=o(l);s(17),s(20);var f=n.default.extend({events:{"submit .g-hdfs-import-form":function(t){t.preventDefault(),this.$(".g-validation-failed-message").empty(),this.$(".g-submit-hdfs-import").girderEnable(!1);var e=this.$("#g-hdfs-import-dest-type").val(),s=this.$("#g-hdfs-import-dest-id").val();this.model.off().on("g:imported",function(){i.default.navigate(e+"/"+s,{trigger:!0})},this).on("g:error",function(t){this.$(".g-submit-hdfs-import").girderEnable(!0),this.$(".g-validation-failed-message").text(t.responseJSON.message)},this).hdfsImport({path:this.$("#g-hdfs-import-path").val(),parentId:s,parentType:e,progress:!0})}},initialize:function(){this.render()},render:function(){return this.$el.html((0,d.default)({assetstore:this.model})),this}});e.default=f},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=s(19),i=o(r),a=s(2),n=s(3),l=s(16),d=o(l);(0,n.wrap)(i.default,"render",function(t){t.call(this),this.$("#g-assetstore-accordion").append((0,d.default)())}),i.default.prototype.events["submit #g-new-hdfs-form"]=function(t){this.createAssetstore(t,this.$("#g-new-hdfs-error"),{type:a.AssetstoreType.HDFS,name:this.$("#g-new-hdfs-name").val(),path:this.$("#g-new-hdfs-path").val(),effectiveUser:this.$("#g-new-hdfs-user").val(),host:this.$("#g-new-hdfs-host").val(),port:this.$("#g-new-hdfs-port").val(),webHdfsPort:this.$("#g-new-hdfs-webhdfs-port").val()})}},function(t,e,s){"use strict";function o(t){var e="",s=t||{};return function(t){e=e+'<a class="g-hdfs-import-button btn btn-sm btn-success"'+r.attr("href","#hdfs_assetstore/"+t.get("_id")+"/import",!0,!0)+' title="Import existing data from HDFS">Import</a>'}.call(this,"assetstore"in s?s.assetstore:"undefined"!=typeof assetstore?assetstore:void 0),e}var r=s(1);t.exports=o},function(t,e,s){"use strict";function o(t){var e,s="",o=t||{};return function(t){var o=t.get("hdfs")||{};s=s+'<div><b>Type:</b><span class="g-assetstore-type"> HDFS</span></div><div><b>Host:</b><span> '+r.escape(null==(e=o.host)?"":e)+"</span></div><div><b>Port:</b><span> "+r.escape(null==(e=o.port)?"":e)+"</span></div><div><b>WebHDFS port:</b><span> "+r.escape(null==(e=o.webHdfsPort||50070)?"":e)+"</span></div><div><b>Root path:</b><span> "+r.escape(null==(e=o.path)?"":e)+"</span></div><div><b>Effective user:</b><span> "+r.escape(null==(e=o.user||"<current user>")?"":e)+"</span></div>"}.call(this,"assetstore"in o?o.assetstore:"undefined"!=typeof assetstore?assetstore:void 0),s}var r=s(1);t.exports=o},function(t,e,s){"use strict";function o(t){var e="";return e+='<div class="form-group"><label class="control-label" for="g-edit-hdfs-path">Root path</label><input class="input-sm form-control" id="g-edit-hdfs-path" type="text" placeholder="Root path"></div><div class="form-group"><label class="control-label" for="g-edit-hdfs-host">Namenode host</label><input class="input-sm form-control" id="g-edit-hdfs-host" type="text" placeholder="Host"></div><div class="form-group"><label class="control-label" for="g-edit-hdfs-port">Namenode RPC port</label><input class="input-sm form-control" id="g-edit-hdfs-port" type="text" placeholder="RPC port"></div><div class="form-group"><label class="control-label" for="g-edit-hdfs-webhdfs-port">WebHDFS port (default is 50700)</label><input class="input-sm form-control" id="g-edit-hdfs-webhdfs-port" type="text" placeholder="WebHDFS port"></div><div class="form-group"><label class="control-label" for="g-edit-hdfs-user">Effective user (default is current user)</label><input class="input-sm form-control" id="g-edit-hdfs-user" type="text" placeholder="Username"></div>'}s(1);t.exports=o},function(t,e,s){"use strict";function o(t){var e="";return e+='<div class="g-body-title">Import existing data from HDFS</div><div class="g-hdfs-import-instructions">Use this page to import existing data from the HDFS instance described by this\nassetstore. You must specify an absolute path to a file or directory in HDFS to import.\nIf you specify a directory, it will be imported recursively. You must also\nspecify a destination collection, user, or folder ID under which to place the imported data.\n</div><form class="g-hdfs-import-form"><div class="form-group"><label for="g-hdfs-import-path">Import path (file or directory)</label><input class="form-control input-sm" id="g-hdfs-import-path" type="text"></div><div class="form-group"><label for="g-hdfs-import-dest-type">Destination type</label><select class="form-control" id="g-hdfs-import-dest-type"><option value="folder">Folder</option><option value="user">User</option><option value="collection">Collection</option></select></div><div class="form-group"><label for="g-hdfs-import-dest-id">Destination ID</label><input class="form-control input-sm" id="g-hdfs-import-dest-id" type="text" placeholder="Existing folder, user, or collection ID to use as the destination"></div><div class="g-validation-failed-message"></div><button class="g-submit-hdfs-import btn btn-success" type="submit"><i class="icon-link-ext"></i> Begin import</button></form>'}s(1);t.exports=o},function(t,e,s){"use strict";function o(t){var e="";return e+='<div class="panel panel-default"><div class="panel-heading" data-toggle="collapse" data-parent="#g-assetstore-accordion" data-target="#g-create-hdfs-tab"><div class="panel-title"><a><i class="icon-share"></i>Create new <b>HDFS</b> assetstore</a></div></div><div class="panel-collapse collapse" id="g-create-hdfs-tab"><div class="panel-body"><p>This type of assetstore will store files in a Hadoop Distributed\nFilesystem (HDFS). It can also import data from an existing HDFS\ninstance into the Girder data hierarchy.</p><p>If the specified root directory does not already exist, the server\nwill attempt to create it. The root path specifies where new files\nwill be stored if this is used as a managed assetstore; if you are using\nit only for import, simply specify "/" for the root path since that\nvalue will not be used.</p><p>If you wish to store new files in this assetstore, you will need to have\nthe WebHDFS service enabled on your Hadoop cluster.</p><form id="g-new-hdfs-form" role="form"><div class="form-group"><label class="control-label" for="g-new-hdfs-name">Assetstore name</label><input class="input-sm form-control" id="g-new-hdfs-name" type="text" placeholder="Name"></div><div class="form-group"><label class="control-label" for="g-new-hdfs-path">Root path</label><input class="input-sm form-control" id="g-new-hdfs-path" type="text" placeholder="Root path"></div><div class="form-group"><label class="control-label" for="g-new-hdfs-host">Namenode host</label><input class="input-sm form-control" id="g-new-hdfs-host" type="text" placeholder="Host"></div><div class="form-group"><label class="control-label" for="g-new-hdfs-port">Namenode RPC port</label><input class="input-sm form-control" id="g-new-hdfs-port" type="text" placeholder="Port"></div><div class="form-group"><label class="control-label" for="g-new-hdfs-webhdfs-port">WebHDFS port (default is 50070)</label><input class="input-sm form-control" id="g-new-hdfs-webhdfs-port" type="text" placeholder="WebHDFS port"></div><div class="form-group"><label class="control-label" for="g-new-hdfs-user">Effective user (default is current user)</label><input class="input-sm form-control" id="g-new-hdfs-user" type="text" placeholder="Username"></div><p class="g-validation-failed-message" id="g-new-hdfs-error"></p><input class="g-new-assetstore-submit btn btn-sm btn-primary" type="submit" value="Create"></form></div></div></div>'}s(1);t.exports=o},function(t,e){},function(t,e,s){t.exports=s(0)(1)},function(t,e,s){t.exports=s(0)(104)},function(t,e,s){t.exports=s(0)(12)},function(t,e,s){t.exports=s(0)(2)},function(t,e,s){t.exports=s(0)(3)},function(t,e,s){t.exports=s(0)(31)},function(t,e,s){t.exports=s(0)(5)},function(t,e,s){t.exports=s(0)(67)},function(t,e,s){t.exports=s(0)(91)},function(t,e,s){t.exports=s}]);