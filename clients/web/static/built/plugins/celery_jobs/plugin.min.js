var girder_plugin_celery_jobs=function(e){function r(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(2),r(r.s=15)}([function(e,r){e.exports=girder_lib},function(e,r,t){e.exports=t(0)(5)},function(e,r,t){"use strict";t(3)},function(e,r,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=t(14),i=s(o),n=t(1),l=s(n),c=t(13),u=t(4),a=s(u);(0,c.exposePluginConfig)("celery_jobs","plugins/celery_jobs/config"),i.default.route("plugins/celery_jobs/config","celeryJobsConfig",function(){l.default.trigger("g:navigateTo",a.default)})},function(e,r,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(11),i=s(o),n=t(9),l=s(n),c=t(10),u=s(c),a=t(8),f=s(a),d=t(1),p=s(d),b=t(12),g=t(5),y=s(g);t(6);var m=f.default.extend({events:{"submit #g-celery-jobs-config-form":function(e){e.preventDefault(),this.$("#g-celery-jobs-error-message").empty(),this._saveSettings([{key:"celery_jobs.broker_url",value:this.$("#g-celery-jobs-broker").val().trim()},{key:"celery_jobs.app_main",value:this.$("#g-celery-jobs-app-main").val().trim()},{key:"celery_jobs.celery_user_id",value:this.$("#g-celery-jobs-user-id").val().trim()}])}},initialize:function(){(0,b.restRequest)({method:"GET",url:"system/setting",data:{list:JSON.stringify(["celery_jobs.broker_url","celery_jobs.app_main","celery_jobs.celery_user_id"])}}).done(i.default.bind(function(e){this.render(),this.$("#g-celery-jobs-broker").val(e["celery_jobs.broker_url"]),this.$("#g-celery-jobs-app-main").val(e["celery_jobs.app_main"]),this.$("#g-celery-jobs-user-id").val(e["celery_jobs.celery_user_id"])},this))},render:function(){return this.$el.html((0,y.default)()),this.searchWidget=new u.default({el:this.$(".g-celery-user-select-container"),placeholder:"Search for celery user...",types:["user"],parentView:this}).off().on("g:resultClicked",this._setCeleryUser,this).render(),this.breadcrumb||(this.breadcrumb=new l.default({pluginName:"Celery jobs",el:this.$(".g-config-breadcrumb-container"),parentView:this}).render()),this},_setCeleryUser:function(e){this.searchWidget.resetState(),this.$("#g-celery-jobs-user-id").val(e.id)},_saveSettings:function(e){(0,b.restRequest)({method:"PUT",url:"system/setting",data:{list:JSON.stringify(e)},error:null}).done(i.default.bind(function(e){p.default.trigger("g:alert",{icon:"ok",text:"Settings saved.",type:"success",timeout:4e3})},this)).fail(i.default.bind(function(e){this.$("#g-celery-jobs-error-message").text(e.responseJSON.message)},this))}});r.default=m},function(e,r,t){"use strict";function s(e){var r="";return r+='<div class="g-config-breadcrumb-container"></div><form id="g-celery-jobs-config-form" role="form"><div class="form-group"><label class="control-label" for="g-celery-jobs-broker">Broker URL</label><input class="input-sm form-control" id="g-celery-jobs-broker" type="text" placeholder="Celery broker URL"></div><div class="form-group"><label class="control-label" for="g-celery-jobs-app-main">Celery app main name</label><input class="input-sm form-control" id="g-celery-jobs-app-main" type="text" placeholder="Celery app main name"></div><div class="form-group"><label class="control-label" for="g-celery-jobs-user-id">Celery user ID</label><input class="input-sm form-control" id="g-celery-jobs-user-id" type="text"><div class="g-celery-user-select-container"></div></div><p class="g-validation-failed-message" id="g-celery-jobs-error-message"></p><input class="btn btn-sm btn-primary" type="submit" value="Save"></form>'}t(7);e.exports=s},function(e,r){},function(e,r,t){e.exports=t(0)(0)},function(e,r,t){e.exports=t(0)(1)},function(e,r,t){e.exports=t(0)(135)},function(e,r,t){e.exports=t(0)(21)},function(e,r,t){e.exports=t(0)(3)},function(e,r,t){e.exports=t(0)(4)},function(e,r,t){e.exports=t(0)(63)},function(e,r,t){e.exports=t(0)(7)},function(e,r,t){e.exports=t}]);