var girder_plugin_hashsum_download=function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(5),t(t.s=16)}([function(e,t){e.exports=girder_lib},function(e,t,n){e.exports=n(0)(0)},function(e,t,n){e.exports=n(0)(4)},function(e,t,n){e.exports=n(0)(5)},function(e,t,n){e.exports=n(0)(63)},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n(7);var o=n(13),i=s(o),a=n(3),r=s(a),u=n(4),l=n(6),c=s(l);(0,u.exposePluginConfig)("hashsum_download","plugins/hashsum_download/config"),i.default.route("plugins/hashsum_download/config","hashsumDownloadConfig",function(){r.default.trigger("g:navigateTo",c.default)})},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=s(o),a=n(11),r=s(a),u=n(3),l=s(u),c=n(2),d=n(8),f=s(d),p=r.default.extend({events:{"submit #g-hashsum-download-config-form":function(e){e.preventDefault(),this.$("#g-hashsum-download-error-message").empty(),this._saveSettings([{key:"hashsum_download.auto_compute",value:this.$("#g-hashsum-download-auto-compute").is(":checked")}])}},initialize:function(){var e=this;this.breadcrumb=new i.default({pluginName:"Hashsum download",parentView:this}),(0,c.restRequest)({method:"GET",url:"system/setting",data:{list:JSON.stringify(["hashsum_download.auto_compute"])}}).done(function(t){e.settings=t,e.render()})},render:function(){return this.$el.html((0,f.default)({settings:this.settings})),this.breadcrumb.setElement(this.$(".g-config-breadcrumb-container")).render(),this},_saveSettings:function(e){var t=this;(0,c.restRequest)({method:"PUT",url:"system/setting",data:{list:JSON.stringify(e)},error:null}).done(function(){l.default.trigger("g:alert",{icon:"ok",text:"Settings saved.",type:"success",timeout:4e3})}).fail(function(e){t.$("#g-hashsum-download-error-message").text(e.responseJSON.message)})}});t.default=p},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=s(o),a=n(2),r=n(14),u=n(4),l=n(9),c=s(l);n(10);var d=function(e,t){return(0,a.getApiRoot)()+"/file/"+e+"/hashsum_file/"+t};(0,u.wrap)(i.default,"render",function(e){return e.call(this),this.$('.g-file-info-line[property="id"]').before((0,c.default)({file:this.model,parentItem:this.parentItem,keyfileUrl:d,AccessType:r.AccessType})),this}),i.default.prototype.events||(i.default.prototype.events={}),i.default.prototype.events["click .g-hashsum-compute"]=function(){var e=this;(0,a.restRequest)({url:"file/"+this.model.id+"/hashsum",method:"POST",data:{progress:!0}}).done(function(t){e.model.set(t),e.render()})}},function(e,t,n){"use strict";function s(e){var t="",n=e||{};return function(e){t=t+'<div class="g-config-breadcrumb-container"></div><form id="g-hashsum-download-config-form" role="form"><div class="checkbox"><label class="control-label" for="g-hashsum-download-auto-compute"><input id="g-hashsum-download-auto-compute" type="checkbox"'+o.attr("checked",e["hashsum_download.auto_compute"]?"checked":null,!0,!0)+'><span>Automatically compute file checksums on upload</span></label></div><p class="g-validation-failed-message" id="g-hashsum-download-error-message"></p><input class="btn btn-sm btn-primary" type="submit" value="Save"></form>'}.call(this,"settings"in n?n.settings:"undefined"!=typeof settings?settings:void 0),t}var o=n(1);e.exports=s},function(e,t,n){"use strict";function s(e){var t="",n=e||{};return function(e,n,s,i){n.has("sha512")?t=t+'<div class="g-file-info-line" property="sha512"><i class="icon-barcode"></i><span>SHA-512:</span><input class="g-hash-textbox" readonly type="text"'+o.attr("value",n.get("sha512"),!0,!0)+'><a class="g-keyfile-download" title="Download key file"'+o.attr("href",s(n.id,"sha512"),!0,!0)+'><i class="icon-key-inv"></i></a></div>':i.getAccessLevel()>=e.WRITE&&(t+='<div class="g-file-info-line" property="hash-compute"><i class="icon-barcode"></i><span>Hash unknown &mdash;</span><a class="g-hashsum-compute"> click to compute</a></div>')}.call(this,"AccessType"in n?n.AccessType:"undefined"!=typeof AccessType?AccessType:void 0,"file"in n?n.file:"undefined"!=typeof file?file:void 0,"keyfileUrl"in n?n.keyfileUrl:"undefined"!=typeof keyfileUrl?keyfileUrl:void 0,"parentItem"in n?n.parentItem:"undefined"!=typeof parentItem?parentItem:void 0),t}var o=n(1);e.exports=s},function(e,t){},function(e,t,n){e.exports=n(0)(1)},function(e,t,n){e.exports=n(0)(135)},function(e,t,n){e.exports=n(0)(7)},function(e,t,n){e.exports=n(0)(8)},function(e,t,n){e.exports=n(0)(94)},function(e,t,n){e.exports=n}]);