var girder_plugin_google_analytics=function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(4),e(e.s=16)}([function(t,e){t.exports=girder_lib},function(t,e,n){t.exports=n(0)(5)},function(t,e,n){t.exports=n(0)(3)},function(t,e,n){t.exports=n(0)(4)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(2),r=o(i),a=n(1),s=o(a),l=n(3);n(5),n(6),s.default.on("g:appload.after",function(){!function(t,e,n,o,i,r,a){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,r=e.createElement(n),a=e.getElementsByTagName(n)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(r,a)}(window,document,"script",0,"ga"),(0,l.restRequest)({method:"GET",url:"google_analytics/id"}).done(r.default.bind(function(t){t.google_analytics_id&&ga("create",t.google_analytics_id,"none")},this))}),s.default.on("g:hierarchy.route",function(t){var e=t.route;/^\//.test(e)||(e="/"+e),ga("send","pageview",e)})},function(t,e,n){"use strict";var o,i,r;"function"==typeof Symbol&&Symbol.iterator;!function(a){i=[n(13)],o=a,void 0!==(r="function"==typeof o?o.apply(e,i):o)&&(t.exports=r)}(function(t){var e=t.History.prototype.loadUrl;t.History.prototype.loadUrl=function(t){var n=e.apply(this,arguments),o=this.fragment;if(!this.options.silent)return this.options.silent=!0,n;/^\//.test(o)||(o="/"+o),void 0!==window._gaq&&window._gaq.push(["_trackPageview",o]);var i;return i=window.GoogleAnalyticsObject&&"ga"!==window.GoogleAnalyticsObject?window.GoogleAnalyticsObject:window.ga,void 0!==i&&(i("set","page",o),i("send","pageview")),n}})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(15),r=o(i),a=n(1),s=o(a),l=n(14),c=n(7),u=o(c);(0,l.exposePluginConfig)("google_analytics","plugins/google_analytics/config"),r.default.route("plugins/google_analytics/config","googleAnalyticsConfig",function(){s.default.trigger("g:navigateTo",u.default)})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=o(i),a=n(12),s=o(a),l=n(11),c=o(l),u=n(1),g=o(u),f=n(3),d=n(8),p=o(d);n(9);var y=c.default.extend({events:{"submit #g-google_analytics-form":function(t){t.preventDefault(),this.$("#g-google_analytics-error-message").empty(),this._saveSettings([{key:"google_analytics.tracking_id",value:this.$("#g-google-analytics-tracking-id").val().trim()}])}},initialize:function(){(0,f.restRequest)({method:"GET",url:"system/setting",data:{list:JSON.stringify(["google_analytics.tracking_id"])}}).done(r.default.bind(function(t){this.render(),this.$("#g-google-analytics-tracking-id").val(t["google_analytics.tracking_id"])},this))},render:function(){return this.$el.html((0,p.default)()),this.breadcrumb||(this.breadcrumb=new s.default({pluginName:"Google Analytics",el:this.$(".g-config-breadcrumb-container"),parentView:this}).render()),this},_saveSettings:function(t){(0,f.restRequest)({method:"PUT",url:"system/setting",data:{list:JSON.stringify(t)},error:null}).done(r.default.bind(function(){g.default.trigger("g:alert",{icon:"ok",text:"Settings saved.",type:"success",timeout:4e3})},this)).fail(r.default.bind(function(t){this.$("#g-google_analytics-error-message").text(t.responseJSON.message)},this))}});e.default=y},function(t,e,n){"use strict";function o(t){var e="";return e+='<div class="g-config-breadcrumb-container"></div><p class="g-google-analytics-description">To track pageviews in Girder, enter your Google Analytics tracking ID here.</p><form id="g-google_analytics-form" role="form"><div class="form-group"><label class="control-label" for="g-google-analytics-tracking-id">Google Analytics Tracking ID</label><input class="input-sm form-control" id="g-google-analytics-tracking-id" type="text" placeholder="Tracking ID"></div><p class="g-validation-failed-message" id="g-google_analytics-error-message"></p><input class="btn btn-sm btn-primary" type="submit" value="Save"></form>'}n(10);t.exports=o},function(t,e){},function(t,e,n){t.exports=n(0)(0)},function(t,e,n){t.exports=n(0)(1)},function(t,e,n){t.exports=n(0)(135)},function(t,e,n){t.exports=n(0)(15)},function(t,e,n){t.exports=n(0)(63)},function(t,e,n){t.exports=n(0)(7)},function(t,e,n){t.exports=n}]);